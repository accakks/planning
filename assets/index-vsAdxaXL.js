var nL=Object.defineProperty;var rL=(e,t,n)=>t in e?nL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wm=(e,t,n)=>rL(e,typeof t!="symbol"?t+"":t,n);function iL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function oL(){if(fT)return Ol;fT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var dT;function aL(){return dT||(dT=1,Xm.exports=oL()),Xm.exports}var N=aL(),Qm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function sL(){if(hT)return Me;hT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function x(L,W,oe){this.props=L,this.context=W,this.refs=T,this.updater=oe||S}x.prototype.isReactComponent={},x.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function I(){}I.prototype=x.prototype;function M(L,W,oe){this.props=L,this.context=W,this.refs=T,this.updater=oe||S}var O=M.prototype=new I;O.constructor=M,E(O,x.prototype),O.isPureReactComponent=!0;var P=Array.isArray;function D(){}var U={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function V(L,W,oe){var se=oe.ref;return{$$typeof:e,type:L,key:W,ref:se!==void 0?se:null,props:oe}}function re(L,W){return V(L.type,W,L.props)}function J(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function te(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return W[oe]})}var ae=/\/+/g;function de(L,W){return typeof L=="object"&&L!==null&&L.key!=null?te(""+L.key):W.toString(36)}function Te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,W,oe,se,be){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case e:case t:Ae=!0;break;case p:return Ae=L._init,B(Ae(L._payload),W,oe,se,be)}}if(Ae)return be=be(L),Ae=se===""?"."+de(L,0):se,P(be)?(oe="",Ae!=null&&(oe=Ae.replace(ae,"$&/")+"/"),B(be,W,oe,"",function(Ce){return Ce})):be!=null&&(J(be)&&(be=re(be,oe+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(ae,"$&/")+"/")+Ae)),W.push(be)),1;Ae=0;var mt=se===""?".":se+":";if(P(L))for(var Q=0;Q<L.length;Q++)se=L[Q],xe=mt+de(se,Q),Ae+=B(se,W,oe,xe,be);else if(Q=w(L),typeof Q=="function")for(L=Q.call(L),Q=0;!(se=L.next()).done;)se=se.value,xe=mt+de(se,Q++),Ae+=B(se,W,oe,xe,be);else if(xe==="object"){if(typeof L.then=="function")return B(Te(L),W,oe,se,be);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ne(L,W,oe){if(L==null)return L;var se=[],be=0;return B(L,se,"","",function(xe){return W.call(oe,xe,be++)}),se}function ce(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var me=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Oe={map:ne,forEach:function(L,W,oe){ne(L,function(){W.apply(this,arguments)},oe)},count:function(L){var W=0;return ne(L,function(){W++}),W},toArray:function(L){return ne(L,function(W){return W})||[]},only:function(L){if(!J(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Me.Activity=g,Me.Children=Oe,Me.Component=x,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=M,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(L,W,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var se=E({},L.props),be=L.key;if(W!=null)for(xe in W.key!==void 0&&(be=""+W.key),W)!Y.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(se[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)se.children=oe;else if(1<xe){for(var Ae=Array(xe),mt=0;mt<xe;mt++)Ae[mt]=arguments[mt+2];se.children=Ae}return V(L.type,be,se)},Me.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Me.createElement=function(L,W,oe){var se,be={},xe=null;if(W!=null)for(se in W.key!==void 0&&(xe=""+W.key),W)Y.call(W,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=W[se]);var Ae=arguments.length-2;if(Ae===1)be.children=oe;else if(1<Ae){for(var mt=Array(Ae),Q=0;Q<Ae;Q++)mt[Q]=arguments[Q+2];be.children=mt}if(L&&L.defaultProps)for(se in Ae=L.defaultProps,Ae)be[se]===void 0&&(be[se]=Ae[se]);return V(L,xe,be)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:c,render:L}},Me.isValidElement=J,Me.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:ce}},Me.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},Me.startTransition=function(L){var W=U.T,oe={};U.T=oe;try{var se=L(),be=U.S;be!==null&&be(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(D,me)}catch(xe){me(xe)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),U.T=W}},Me.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Me.use=function(L){return U.H.use(L)},Me.useActionState=function(L,W,oe){return U.H.useActionState(L,W,oe)},Me.useCallback=function(L,W){return U.H.useCallback(L,W)},Me.useContext=function(L){return U.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,W){return U.H.useDeferredValue(L,W)},Me.useEffect=function(L,W){return U.H.useEffect(L,W)},Me.useEffectEvent=function(L){return U.H.useEffectEvent(L)},Me.useId=function(){return U.H.useId()},Me.useImperativeHandle=function(L,W,oe){return U.H.useImperativeHandle(L,W,oe)},Me.useInsertionEffect=function(L,W){return U.H.useInsertionEffect(L,W)},Me.useLayoutEffect=function(L,W){return U.H.useLayoutEffect(L,W)},Me.useMemo=function(L,W){return U.H.useMemo(L,W)},Me.useOptimistic=function(L,W){return U.H.useOptimistic(L,W)},Me.useReducer=function(L,W,oe){return U.H.useReducer(L,W,oe)},Me.useRef=function(L){return U.H.useRef(L)},Me.useState=function(L){return U.H.useState(L)},Me.useSyncExternalStore=function(L,W,oe){return U.H.useSyncExternalStore(L,W,oe)},Me.useTransition=function(){return U.H.useTransition()},Me.version="19.2.3",Me}var pT;function Rs(){return pT||(pT=1,Qm.exports=sL()),Qm.exports}var C=Rs();const oM=Vr(C),lL=iL({__proto__:null,default:oM},[C]);var Zm={exports:{}},Pl={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function uL(){return mT||(mT=1,(function(e){function t(B,ne){var ce=B.length;B.push(ne);e:for(;0<ce;){var me=ce-1>>>1,Oe=B[me];if(0<i(Oe,ne))B[me]=ne,B[ce]=Oe,ce=me;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],ce=B.pop();if(ce!==ne){B[0]=ce;e:for(var me=0,Oe=B.length,L=Oe>>>1;me<L;){var W=2*(me+1)-1,oe=B[W],se=W+1,be=B[se];if(0>i(oe,ce))se<Oe&&0>i(be,oe)?(B[me]=be,B[se]=ce,me=se):(B[me]=oe,B[W]=ce,me=W);else if(se<Oe&&0>i(be,ce))B[me]=be,B[se]=ce,me=se;else break e}}return ne}function i(B,ne){var ce=B.sortIndex-ne.sortIndex;return ce!==0?ce:B.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,g=null,y=3,w=!1,S=!1,E=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=B)r(d),ne.sortIndex=ne.expirationTime,t(f,ne);else break;ne=n(d)}}function P(B){if(E=!1,O(B),!S)if(n(f)!==null)S=!0,D||(D=!0,te());else{var ne=n(d);ne!==null&&Te(P,ne.startTime-B)}}var D=!1,U=-1,Y=5,V=-1;function re(){return T?!0:!(e.unstable_now()-V<Y)}function J(){if(T=!1,D){var B=e.unstable_now();V=B;var ne=!0;try{e:{S=!1,E&&(E=!1,I(U),U=-1),w=!0;var ce=y;try{t:{for(O(B),g=n(f);g!==null&&!(g.expirationTime>B&&re());){var me=g.callback;if(typeof me=="function"){g.callback=null,y=g.priorityLevel;var Oe=me(g.expirationTime<=B);if(B=e.unstable_now(),typeof Oe=="function"){g.callback=Oe,O(B),ne=!0;break t}g===n(f)&&r(f),O(B)}else r(f);g=n(f)}if(g!==null)ne=!0;else{var L=n(d);L!==null&&Te(P,L.startTime-B),ne=!1}}break e}finally{g=null,y=ce,w=!1}ne=void 0}}finally{ne?te():D=!1}}}var te;if(typeof M=="function")te=function(){M(J)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,de=ae.port2;ae.port1.onmessage=J,te=function(){de.postMessage(null)}}else te=function(){x(J,0)};function Te(B,ne){U=x(function(){B(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var ce=y;y=ne;try{return B()}finally{y=ce}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=y;y=B;try{return ne()}finally{y=ce}},e.unstable_scheduleCallback=function(B,ne,ce){var me=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ce+Oe,B={id:p++,callback:ne,priorityLevel:B,startTime:ce,expirationTime:Oe,sortIndex:-1},ce>me?(B.sortIndex=ce,t(d,B),n(f)===null&&B===n(d)&&(E?(I(U),U=-1):E=!0,Te(P,ce-me))):(B.sortIndex=Oe,t(f,B),S||w||(S=!0,D||(D=!0,te()))),B},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(B){var ne=y;return function(){var ce=y;y=ne;try{return B.apply(this,arguments)}finally{y=ce}}}})(tg)),tg}var gT;function cL(){return gT||(gT=1,eg.exports=uL()),eg.exports}var ng={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function fL(){if(vT)return fn;vT=1;var e=Rs();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(f,d,null,p)},fn.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},fn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fn.requestFormReset=function(f){r.d.r(f)},fn.unstable_batchedUpdates=function(f,d){return f(d)},fn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var yT;function aM(){if(yT)return ng.exports;yT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ng.exports=fL(),ng.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function dL(){if(bT)return Pl;bT=1;var e=cL(),t=Rs(),n=aM();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,u=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(u=s.return),o=s.return;while(o)}return s.tag===3?u:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var u=o,h=s;;){var b=u.return;if(b===null)break;var _=b.alternate;if(_===null){if(h=b.return,h!==null){u=h;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===u)return f(b),o;if(_===h)return f(b),s;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=b,h=_;else{for(var A=!1,R=b.child;R;){if(R===u){A=!0,u=b,h=_;break}if(R===h){A=!0,h=b,u=_;break}R=R.sibling}if(!A){for(R=_.child;R;){if(R===u){A=!0,u=_,h=b;break}if(R===h){A=!0,h=_,u=b;break}R=R.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:s}function p(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=p(o),s!==null)return s;o=o.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ae?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case x:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case M:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case O:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return s=o.displayName||null,s!==null?s:de(o.type)||"Memo";case Y:s=o._payload,o=o._init;try{return de(o(s))}catch{}}return null}var Te=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],Oe=-1;function L(o){return{current:o}}function W(o){0>Oe||(o.current=me[Oe],me[Oe]=null,Oe--)}function oe(o,s){Oe++,me[Oe]=o.current,o.current=s}var se=L(null),be=L(null),xe=L(null),Ae=L(null);function mt(o,s){switch(oe(xe,s),oe(be,o),oe(se,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?DE(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=DE(s),o=kE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(se),oe(se,o)}function Q(){W(se),W(be),W(xe)}function Ce(o){o.memoizedState!==null&&oe(Ae,o);var s=se.current,u=kE(s,o.type);s!==u&&(oe(be,o),oe(se,u))}function Ie(o){be.current===o&&(W(se),W(be)),Ae.current===o&&(W(Ae),Rl._currentValue=ce)}var ie,Tt;function Ue(o){if(ie===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ie=s&&s[1]||"",Tt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+o+Tt}var Ct=!1;function Rt(o,s){if(!o||Ct)return"";Ct=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(o,[],ee)}else{try{ee.call()}catch(K){G=K}o.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=o())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),A=_[0],R=_[1];if(A&&R){var k=A.split(`
`),H=R.split(`
`);for(b=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;b<H.length&&!H[b].includes("DetermineComponentFrameRoot");)b++;if(h===k.length||b===H.length)for(h=k.length-1,b=H.length-1;1<=h&&0<=b&&k[h]!==H[b];)b--;for(;1<=h&&0<=b;h--,b--)if(k[h]!==H[b]){if(h!==1||b!==1)do if(h--,b--,0>b||k[h]!==H[b]){var X=`
`+k[h].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=h&&0<=b);break}}}finally{Ct=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?Ue(u):""}function Wn(o,s){switch(o.tag){case 26:case 27:case 5:return Ue(o.type);case 16:return Ue("Lazy");case 13:return o.child!==s&&s!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Rt(o.type,!1);case 11:return Rt(o.type.render,!1);case 1:return Rt(o.type,!0);case 31:return Ue("Activity");default:return""}}function Yt(o){try{var s="",u=null;do s+=Wn(o,u),u=o,o=o.return;while(o);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var hn=Object.prototype.hasOwnProperty,da=e.unstable_scheduleCallback,Dr=e.unstable_cancelCallback,Oh=e.unstable_shouldYield,Ph=e.unstable_requestPaint,pn=e.unstable_now,Dh=e.unstable_getCurrentPriorityLevel,$u=e.unstable_ImmediatePriority,Bu=e.unstable_UserBlockingPriority,ha=e.unstable_NormalPriority,kh=e.unstable_LowPriority,zu=e.unstable_IdlePriority,Uh=e.log,Hu=e.unstable_setDisableYieldValue,wo=null,mn=null;function kr(o){if(typeof Uh=="function"&&Hu(o),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(wo,o)}catch{}}var gn=Math.clz32?Math.clz32:F,zs=Math.log,Je=Math.LN2;function F(o){return o>>>=0,o===0?32:31-(zs(o)/Je|0)|0}var le=256,ve=262144,we=4194304;function He(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function vn(o,s,u){var h=o.pendingLanes;if(h===0)return 0;var b=0,_=o.suspendedLanes,A=o.pingedLanes;o=o.warmLanes;var R=h&134217727;return R!==0?(h=R&~_,h!==0?b=He(h):(A&=R,A!==0?b=He(A):u||(u=R&~o,u!==0&&(b=He(u))))):(R=h&~_,R!==0?b=He(R):A!==0?b=He(A):u||(u=h&~o,u!==0&&(b=He(u)))),b===0?0:s!==0&&s!==b&&(s&_)===0&&(_=b&-b,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:b}function So(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function Lh(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m_(){var o=we;return we<<=1,(we&62914560)===0&&(we=4194304),o}function qh(o){for(var s=[],u=0;31>u;u++)s.push(o);return s}function Hs(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Vk(o,s,u,h,b,_){var A=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var R=o.entanglements,k=o.expirationTimes,H=o.hiddenUpdates;for(u=A&~u;0<u;){var X=31-gn(u),ee=1<<X;R[X]=0,k[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}u&=~ee}h!==0&&g_(o,h,0),_!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=_&~(A&~s))}function g_(o,s,u){o.pendingLanes|=s,o.suspendedLanes&=~s;var h=31-gn(s);o.entangledLanes|=s,o.entanglements[h]=o.entanglements[h]|1073741824|u&261930}function v_(o,s){var u=o.entangledLanes|=s;for(o=o.entanglements;u;){var h=31-gn(u),b=1<<h;b&s|o[h]&s&&(o[h]|=s),u&=~b}}function y_(o,s){var u=s&-s;return u=(u&42)!==0?1:$h(u),(u&(o.suspendedLanes|s))!==0?0:u}function $h(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Bh(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function b_(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:iT(o.type))}function __(o,s){var u=ne.p;try{return ne.p=o,s()}finally{ne.p=u}}var Oi=Math.random().toString(36).slice(2),tn="__reactFiber$"+Oi,En="__reactProps$"+Oi,pa="__reactContainer$"+Oi,zh="__reactEvents$"+Oi,jk="__reactListeners$"+Oi,Fk="__reactHandles$"+Oi,w_="__reactResources$"+Oi,Gs="__reactMarker$"+Oi;function Hh(o){delete o[tn],delete o[En],delete o[zh],delete o[jk],delete o[Fk]}function ma(o){var s=o[tn];if(s)return s;for(var u=o.parentNode;u;){if(s=u[pa]||u[tn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(o=HE(o);o!==null;){if(u=o[tn])return u;o=HE(o)}return s}o=u,u=o.parentNode}return null}function ga(o){if(o=o[tn]||o[pa]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Vs(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function va(o){var s=o[w_];return s||(s=o[w_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(o){o[Gs]=!0}var S_=new Set,E_={};function Eo(o,s){ya(o,s),ya(o+"Capture",s)}function ya(o,s){for(E_[o]=s,o=0;o<s.length;o++)S_.add(s[o])}var Kk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T_={},A_={};function Yk(o){return hn.call(A_,o)?!0:hn.call(T_,o)?!1:Kk.test(o)?A_[o]=!0:(T_[o]=!0,!1)}function Gu(o,s,u){if(Yk(s))if(u===null)o.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+u)}}function Vu(o,s,u){if(u===null)o.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+u)}}function Fr(o,s,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(s,u,""+h)}}function Xn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function x_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jk(o,s,u){var h=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,_=h.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(A){u=""+A,_.call(this,A)}}),Object.defineProperty(o,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Gh(o){if(!o._valueTracker){var s=x_(o)?"checked":"value";o._valueTracker=Jk(o,s,""+o[s])}}function C_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return o&&(h=x_(o)?o.checked?"true":"false":o.value),o=h,o!==u?(s.setValue(o),!0):!1}function ju(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Wk=/[\n"\\]/g;function Qn(o){return o.replace(Wk,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vh(o,s,u,h,b,_,A,R){o.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.type=A:o.removeAttribute("type"),s!=null?A==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+Xn(s)):o.value!==""+Xn(s)&&(o.value=""+Xn(s)):A!=="submit"&&A!=="reset"||o.removeAttribute("value"),s!=null?jh(o,A,Xn(s)):u!=null?jh(o,A,Xn(u)):h!=null&&o.removeAttribute("value"),b==null&&_!=null&&(o.defaultChecked=!!_),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Xn(R):o.removeAttribute("name")}function R_(o,s,u,h,b,_,A,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Gh(o);return}u=u!=null?""+Xn(u):"",s=s!=null?""+Xn(s):u,R||s===o.value||(o.value=s),o.defaultValue=s}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=R?o.checked:!!h,o.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.name=A),Gh(o)}function jh(o,s,u){s==="number"&&ju(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function ba(o,s,u,h){if(o=o.options,s){s={};for(var b=0;b<u.length;b++)s["$"+u[b]]=!0;for(u=0;u<o.length;u++)b=s.hasOwnProperty("$"+o[u].value),o[u].selected!==b&&(o[u].selected=b),b&&h&&(o[u].defaultSelected=!0)}else{for(u=""+Xn(u),s=null,b=0;b<o.length;b++){if(o[b].value===u){o[b].selected=!0,h&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function N_(o,s,u){if(s!=null&&(s=""+Xn(s),s!==o.value&&(o.value=s),u==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=u!=null?""+Xn(u):""}function M_(o,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(Te(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=Xn(s),o.defaultValue=u,h=o.textContent,h===u&&h!==""&&h!==null&&(o.value=h),Gh(o)}function _a(o,s){if(s){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=s;return}}o.textContent=s}var Xk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function I_(o,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":h?o.setProperty(s,u):typeof u!="number"||u===0||Xk.has(s)?s==="float"?o.cssFloat=u:o[s]=(""+u).trim():o[s]=u+"px"}function O_(o,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var b in s)h=s[b],s.hasOwnProperty(b)&&u[b]!==h&&I_(o,b,h)}else for(var _ in s)s.hasOwnProperty(_)&&I_(o,_,s[_])}function Fh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fu(o){return Zk.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Kr(){}var Kh=null;function Yh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wa=null,Sa=null;function P_(o){var s=ga(o);if(s&&(o=s.stateNode)){var u=o[En]||null;e:switch(o=s.stateNode,s.type){case"input":if(Vh(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Qn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==o&&h.form===o.form){var b=h[En]||null;if(!b)throw Error(r(90));Vh(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===o.form&&C_(h)}break e;case"textarea":N_(o,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ba(o,!!u.multiple,s,!1)}}}var Jh=!1;function D_(o,s,u){if(Jh)return o(s,u);Jh=!0;try{var h=o(s);return h}finally{if(Jh=!1,(wa!==null||Sa!==null)&&(Pc(),wa&&(s=wa,o=Sa,Sa=wa=null,P_(s),o)))for(s=0;s<o.length;s++)P_(o[s])}}function js(o,s){var u=o.stateNode;if(u===null)return null;var h=u[En]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=!1;if(Yr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Wh=!1}var Pi=null,Xh=null,Ku=null;function k_(){if(Ku)return Ku;var o,s=Xh,u=s.length,h,b="value"in Pi?Pi.value:Pi.textContent,_=b.length;for(o=0;o<u&&s[o]===b[o];o++);var A=u-o;for(h=1;h<=A&&s[u-h]===b[_-h];h++);return Ku=b.slice(o,1<h?1-h:void 0)}function Yu(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Ju(){return!0}function U_(){return!1}function Tn(o){function s(u,h,b,_,A){this._reactName=u,this._targetInst=b,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(u=o[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ju:U_,this.isPropagationStopped=U_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),s}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Tn(To),Ks=g({},To,{view:0,detail:0}),e2=Tn(Ks),Qh,Zh,Ys,Xu=g({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ys&&(Ys&&o.type==="mousemove"?(Qh=o.screenX-Ys.screenX,Zh=o.screenY-Ys.screenY):Zh=Qh=0,Ys=o),Qh)},movementY:function(o){return"movementY"in o?o.movementY:Zh}}),L_=Tn(Xu),t2=g({},Xu,{dataTransfer:0}),n2=Tn(t2),r2=g({},Ks,{relatedTarget:0}),ep=Tn(r2),i2=g({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=Tn(i2),a2=g({},To,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),s2=Tn(a2),l2=g({},To,{data:0}),q_=Tn(l2),u2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d2(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=f2[o])?!!s[o]:!1}function tp(){return d2}var h2=g({},Ks,{key:function(o){if(o.key){var s=u2[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Yu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?c2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(o){return o.type==="keypress"?Yu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Yu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),p2=Tn(h2),m2=g({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$_=Tn(m2),g2=g({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),v2=Tn(g2),y2=g({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),b2=Tn(y2),_2=g({},Xu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),w2=Tn(_2),S2=g({},To,{newState:0,oldState:0}),E2=Tn(S2),T2=[9,13,27,32],np=Yr&&"CompositionEvent"in window,Js=null;Yr&&"documentMode"in document&&(Js=document.documentMode);var A2=Yr&&"TextEvent"in window&&!Js,B_=Yr&&(!np||Js&&8<Js&&11>=Js),z_=" ",H_=!1;function G_(o,s){switch(o){case"keyup":return T2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ea=!1;function x2(o,s){switch(o){case"compositionend":return V_(s);case"keypress":return s.which!==32?null:(H_=!0,z_);case"textInput":return o=s.data,o===z_&&H_?null:o;default:return null}}function C2(o,s){if(Ea)return o==="compositionend"||!np&&G_(o,s)?(o=k_(),Ku=Xh=Pi=null,Ea=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return B_&&s.locale!=="ko"?null:s.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!R2[o.type]:s==="textarea"}function F_(o,s,u,h){wa?Sa?Sa.push(h):Sa=[h]:wa=h,s=Bc(s,"onChange"),0<s.length&&(u=new Wu("onChange","change",null,u,h),o.push({event:u,listeners:s}))}var Ws=null,Xs=null;function N2(o){RE(o,0)}function Qu(o){var s=Vs(o);if(C_(s))return o}function K_(o,s){if(o==="change")return s}var Y_=!1;if(Yr){var rp;if(Yr){var ip="oninput"in document;if(!ip){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),ip=typeof J_.oninput=="function"}rp=ip}else rp=!1;Y_=rp&&(!document.documentMode||9<document.documentMode)}function W_(){Ws&&(Ws.detachEvent("onpropertychange",X_),Xs=Ws=null)}function X_(o){if(o.propertyName==="value"&&Qu(Xs)){var s=[];F_(s,Xs,o,Yh(o)),D_(N2,s)}}function M2(o,s,u){o==="focusin"?(W_(),Ws=s,Xs=u,Ws.attachEvent("onpropertychange",X_)):o==="focusout"&&W_()}function I2(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qu(Xs)}function O2(o,s){if(o==="click")return Qu(s)}function P2(o,s){if(o==="input"||o==="change")return Qu(s)}function D2(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Pn=typeof Object.is=="function"?Object.is:D2;function Qs(o,s){if(Pn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var u=Object.keys(o),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var b=u[h];if(!hn.call(s,b)||!Pn(o[b],s[b]))return!1}return!0}function Q_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Z_(o,s){var u=Q_(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=s&&h>=s)return{node:u,offset:s-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Q_(u)}}function ew(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?ew(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function tw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=ju(o.document);s instanceof o.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)o=s.contentWindow;else break;s=ju(o.document)}return s}function op(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var k2=Yr&&"documentMode"in document&&11>=document.documentMode,Ta=null,ap=null,Zs=null,sp=!1;function nw(o,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sp||Ta==null||Ta!==ju(h)||(h=Ta,"selectionStart"in h&&op(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zs&&Qs(Zs,h)||(Zs=h,h=Bc(ap,"onSelect"),0<h.length&&(s=new Wu("onSelect","select",null,s,u),o.push({event:s,listeners:h}),s.target=Ta)))}function Ao(o,s){var u={};return u[o.toLowerCase()]=s.toLowerCase(),u["Webkit"+o]="webkit"+s,u["Moz"+o]="moz"+s,u}var Aa={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},lp={},rw={};Yr&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function xo(o){if(lp[o])return lp[o];if(!Aa[o])return o;var s=Aa[o],u;for(u in s)if(s.hasOwnProperty(u)&&u in rw)return lp[o]=s[u];return o}var iw=xo("animationend"),ow=xo("animationiteration"),aw=xo("animationstart"),U2=xo("transitionrun"),L2=xo("transitionstart"),q2=xo("transitioncancel"),sw=xo("transitionend"),lw=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function vr(o,s){lw.set(o,s),Eo(s,[o])}var Zu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Zn=[],xa=0,cp=0;function ec(){for(var o=xa,s=cp=xa=0;s<o;){var u=Zn[s];Zn[s++]=null;var h=Zn[s];Zn[s++]=null;var b=Zn[s];Zn[s++]=null;var _=Zn[s];if(Zn[s++]=null,h!==null&&b!==null){var A=h.pending;A===null?b.next=b:(b.next=A.next,A.next=b),h.pending=b}_!==0&&uw(u,b,_)}}function tc(o,s,u,h){Zn[xa++]=o,Zn[xa++]=s,Zn[xa++]=u,Zn[xa++]=h,cp|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function fp(o,s,u,h){return tc(o,s,u,h),nc(o)}function Co(o,s){return tc(o,null,null,s),nc(o)}function uw(o,s,u){o.lanes|=u;var h=o.alternate;h!==null&&(h.lanes|=u);for(var b=!1,_=o.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(b=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,b&&s!==null&&(b=31-gn(u),o=_.hiddenUpdates,h=o[b],h===null?o[b]=[s]:h.push(s),s.lane=u|536870912),_):null}function nc(o){if(50<wl)throw wl=0,_m=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ca={};function $2(o,s,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(o,s,u,h){return new $2(o,s,u,h)}function dp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Jr(o,s){var u=o.alternate;return u===null?(u=Dn(o.tag,s,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=s,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,s=o.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function cw(o,s){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,s=u.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function rc(o,s,u,h,b,_){var A=0;if(h=o,typeof o=="function")dp(o)&&(A=1);else if(typeof o=="string")A=VU(o,u,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Dn(31,u,s,b),o.elementType=V,o.lanes=_,o;case E:return Ro(u.children,b,_,s);case T:A=8,b|=24;break;case x:return o=Dn(12,u,s,b|2),o.elementType=x,o.lanes=_,o;case P:return o=Dn(13,u,s,b),o.elementType=P,o.lanes=_,o;case D:return o=Dn(19,u,s,b),o.elementType=D,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:A=10;break e;case I:A=9;break e;case O:A=11;break e;case U:A=14;break e;case Y:A=16,h=null;break e}A=29,u=Error(r(130,o===null?"null":typeof o,"")),h=null}return s=Dn(A,u,s,b),s.elementType=o,s.type=h,s.lanes=_,s}function Ro(o,s,u,h){return o=Dn(7,o,h,s),o.lanes=u,o}function hp(o,s,u){return o=Dn(6,o,null,s),o.lanes=u,o}function fw(o){var s=Dn(18,null,null,0);return s.stateNode=o,s}function pp(o,s,u){return s=Dn(4,o.children!==null?o.children:[],o.key,s),s.lanes=u,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var dw=new WeakMap;function er(o,s){if(typeof o=="object"&&o!==null){var u=dw.get(o);return u!==void 0?u:(s={value:o,source:s,stack:Yt(s)},dw.set(o,s),s)}return{value:o,source:s,stack:Yt(s)}}var Ra=[],Na=0,ic=null,el=0,tr=[],nr=0,Di=null,Ur=1,Lr="";function Wr(o,s){Ra[Na++]=el,Ra[Na++]=ic,ic=o,el=s}function hw(o,s,u){tr[nr++]=Ur,tr[nr++]=Lr,tr[nr++]=Di,Di=o;var h=Ur;o=Lr;var b=32-gn(h)-1;h&=~(1<<b),u+=1;var _=32-gn(s)+b;if(30<_){var A=b-b%5;_=(h&(1<<A)-1).toString(32),h>>=A,b-=A,Ur=1<<32-gn(s)+b|u<<b|h,Lr=_+o}else Ur=1<<_|u<<b|h,Lr=o}function mp(o){o.return!==null&&(Wr(o,1),hw(o,1,0))}function gp(o){for(;o===ic;)ic=Ra[--Na],Ra[Na]=null,el=Ra[--Na],Ra[Na]=null;for(;o===Di;)Di=tr[--nr],tr[nr]=null,Lr=tr[--nr],tr[nr]=null,Ur=tr[--nr],tr[nr]=null}function pw(o,s){tr[nr++]=Ur,tr[nr++]=Lr,tr[nr++]=Di,Ur=s.id,Lr=s.overflow,Di=o}var nn=null,lt=null,ze=!1,ki=null,rr=!1,vp=Error(r(519));function Ui(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(er(s,o)),vp}function mw(o){var s=o.stateNode,u=o.type,h=o.memoizedProps;switch(s[tn]=o,s[En]=h,u){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(u=0;u<El.length;u++)qe(El[u],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),R_(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),M_(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||OE(s.textContent,u)?(h.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),h.onScroll!=null&&qe("scroll",s),h.onScrollEnd!=null&&qe("scrollend",s),h.onClick!=null&&(s.onclick=Kr),s=!0):s=!1,s||Ui(o,!0)}function gw(o){for(nn=o.return;nn;)switch(nn.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:nn=nn.return}}function Ma(o){if(o!==nn)return!1;if(!ze)return gw(o),ze=!0,!1;var s=o.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||km(o.type,o.memoizedProps)),u=!u),u&&lt&&Ui(o),gw(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));lt=zE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));lt=zE(o)}else s===27?(s=lt,Wi(o.type)?(o=Bm,Bm=null,lt=o):lt=s):lt=nn?or(o.stateNode.nextSibling):null;return!0}function No(){lt=nn=null,ze=!1}function yp(){var o=ki;return o!==null&&(Rn===null?Rn=o:Rn.push.apply(Rn,o),ki=null),o}function tl(o){ki===null?ki=[o]:ki.push(o)}var bp=L(null),Mo=null,Xr=null;function Li(o,s,u){oe(bp,s._currentValue),s._currentValue=u}function Qr(o){o._currentValue=bp.current,W(bp)}function _p(o,s,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),o===u)break;o=o.return}}function wp(o,s,u,h){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var _=b.dependencies;if(_!==null){var A=b.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=b;for(var k=0;k<s.length;k++)if(R.context===s[k]){_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),_p(_.return,u,o),h||(A=null);break e}_=R.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(r(341));A.lanes|=u,_=A.alternate,_!==null&&(_.lanes|=u),_p(A,u,o),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===o){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Ia(o,s,u,h){o=null;for(var b=s,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var R=b.type;Pn(b.pendingProps.value,A.value)||(o!==null?o.push(R):o=[R])}}else if(b===Ae.current){if(A=b.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Rl):o=[Rl])}b=b.return}o!==null&&wp(s,o,u,h),s.flags|=262144}function oc(o){for(o=o.firstContext;o!==null;){if(!Pn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Io(o){Mo=o,Xr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function rn(o){return vw(Mo,o)}function ac(o,s){return Mo===null&&Io(o),vw(o,s)}function vw(o,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Xr===null){if(o===null)throw Error(r(308));Xr=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Xr=Xr.next=s;return u}var B2=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(u,h){o.push(h)}};this.abort=function(){s.aborted=!0,o.forEach(function(u){return u()})}},z2=e.unstable_scheduleCallback,H2=e.unstable_NormalPriority,Nt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new B2,data:new Map,refCount:0}}function nl(o){o.refCount--,o.refCount===0&&z2(H2,function(){o.controller.abort()})}var rl=null,Ep=0,Oa=0,Pa=null;function G2(o,s){if(rl===null){var u=rl=[];Ep=0,Oa=xm(),Pa={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Ep++,s.then(yw,yw),s}function yw(){if(--Ep===0&&rl!==null){Pa!==null&&(Pa.status="fulfilled");var o=rl;rl=null,Oa=0,Pa=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function V2(o,s){var u=[],h={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return o.then(function(){h.status="fulfilled",h.value=s;for(var b=0;b<u.length;b++)(0,u[b])(s)},function(b){for(h.status="rejected",h.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),h}var bw=B.S;B.S=function(o,s){nE=pn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&G2(o,s),bw!==null&&bw(o,s)};var Oo=L(null);function Tp(){var o=Oo.current;return o!==null?o:rt.pooledCache}function sc(o,s){s===null?oe(Oo,Oo.current):oe(Oo,s.pool)}function _w(){var o=Tp();return o===null?null:{parent:Nt._currentValue,pool:o}}var Da=Error(r(460)),Ap=Error(r(474)),lc=Error(r(542)),uc={then:function(){}};function ww(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Sw(o,s,u){switch(u=o[u],u===void 0?o.push(s):u!==s&&(s.then(Kr,Kr),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Tw(o),o;default:if(typeof s.status=="string")s.then(Kr,Kr);else{if(o=rt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(h){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=h}},function(h){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Tw(o),o}throw Do=s,Da}}function Po(o){try{var s=o._init;return s(o._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Do=u,Da):u}}var Do=null;function Ew(){if(Do===null)throw Error(r(459));var o=Do;return Do=null,o}function Tw(o){if(o===Da||o===lc)throw Error(r(483))}var ka=null,il=0;function cc(o){var s=il;return il+=1,ka===null&&(ka=[]),Sw(ka,o,s)}function ol(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function fc(o,s){throw s.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Aw(o){function s($,q){if(o){var z=$.deletions;z===null?($.deletions=[q],$.flags|=16):z.push(q)}}function u($,q){if(!o)return null;for(;q!==null;)s($,q),q=q.sibling;return null}function h($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function b($,q){return $=Jr($,q),$.index=0,$.sibling=null,$}function _($,q,z){return $.index=z,o?(z=$.alternate,z!==null?(z=z.index,z<q?($.flags|=67108866,q):z):($.flags|=67108866,q)):($.flags|=1048576,q)}function A($){return o&&$.alternate===null&&($.flags|=67108866),$}function R($,q,z,Z){return q===null||q.tag!==6?(q=hp(z,$.mode,Z),q.return=$,q):(q=b(q,z),q.return=$,q)}function k($,q,z,Z){var ye=z.type;return ye===E?X($,q,z.props.children,Z,z.key):q!==null&&(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Y&&Po(ye)===q.type)?(q=b(q,z.props),ol(q,z),q.return=$,q):(q=rc(z.type,z.key,z.props,null,$.mode,Z),ol(q,z),q.return=$,q)}function H($,q,z,Z){return q===null||q.tag!==4||q.stateNode.containerInfo!==z.containerInfo||q.stateNode.implementation!==z.implementation?(q=pp(z,$.mode,Z),q.return=$,q):(q=b(q,z.children||[]),q.return=$,q)}function X($,q,z,Z,ye){return q===null||q.tag!==7?(q=Ro(z,$.mode,Z,ye),q.return=$,q):(q=b(q,z),q.return=$,q)}function ee($,q,z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=hp(""+q,$.mode,z),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return z=rc(q.type,q.key,q.props,null,$.mode,z),ol(z,q),z.return=$,z;case S:return q=pp(q,$.mode,z),q.return=$,q;case Y:return q=Po(q),ee($,q,z)}if(Te(q)||te(q))return q=Ro(q,$.mode,z,null),q.return=$,q;if(typeof q.then=="function")return ee($,cc(q),z);if(q.$$typeof===M)return ee($,ac($,q),z);fc($,q)}return null}function G($,q,z,Z){var ye=q!==null?q.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:R($,q,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===ye?k($,q,z,Z):null;case S:return z.key===ye?H($,q,z,Z):null;case Y:return z=Po(z),G($,q,z,Z)}if(Te(z)||te(z))return ye!==null?null:X($,q,z,Z,null);if(typeof z.then=="function")return G($,q,cc(z),Z);if(z.$$typeof===M)return G($,q,ac($,z),Z);fc($,z)}return null}function K($,q,z,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $=$.get(z)||null,R(q,$,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return $=$.get(Z.key===null?z:Z.key)||null,k(q,$,Z,ye);case S:return $=$.get(Z.key===null?z:Z.key)||null,H(q,$,Z,ye);case Y:return Z=Po(Z),K($,q,z,Z,ye)}if(Te(Z)||te(Z))return $=$.get(z)||null,X(q,$,Z,ye,null);if(typeof Z.then=="function")return K($,q,z,cc(Z),ye);if(Z.$$typeof===M)return K($,q,z,ac(q,Z),ye);fc(q,Z)}return null}function he($,q,z,Z){for(var ye=null,Ge=null,pe=q,De=q=0,Be=null;pe!==null&&De<z.length;De++){pe.index>De?(Be=pe,pe=null):Be=pe.sibling;var Ve=G($,pe,z[De],Z);if(Ve===null){pe===null&&(pe=Be);break}o&&pe&&Ve.alternate===null&&s($,pe),q=_(Ve,q,De),Ge===null?ye=Ve:Ge.sibling=Ve,Ge=Ve,pe=Be}if(De===z.length)return u($,pe),ze&&Wr($,De),ye;if(pe===null){for(;De<z.length;De++)pe=ee($,z[De],Z),pe!==null&&(q=_(pe,q,De),Ge===null?ye=pe:Ge.sibling=pe,Ge=pe);return ze&&Wr($,De),ye}for(pe=h(pe);De<z.length;De++)Be=K(pe,$,De,z[De],Z),Be!==null&&(o&&Be.alternate!==null&&pe.delete(Be.key===null?De:Be.key),q=_(Be,q,De),Ge===null?ye=Be:Ge.sibling=Be,Ge=Be);return o&&pe.forEach(function(to){return s($,to)}),ze&&Wr($,De),ye}function _e($,q,z,Z){if(z==null)throw Error(r(151));for(var ye=null,Ge=null,pe=q,De=q=0,Be=null,Ve=z.next();pe!==null&&!Ve.done;De++,Ve=z.next()){pe.index>De?(Be=pe,pe=null):Be=pe.sibling;var to=G($,pe,Ve.value,Z);if(to===null){pe===null&&(pe=Be);break}o&&pe&&to.alternate===null&&s($,pe),q=_(to,q,De),Ge===null?ye=to:Ge.sibling=to,Ge=to,pe=Be}if(Ve.done)return u($,pe),ze&&Wr($,De),ye;if(pe===null){for(;!Ve.done;De++,Ve=z.next())Ve=ee($,Ve.value,Z),Ve!==null&&(q=_(Ve,q,De),Ge===null?ye=Ve:Ge.sibling=Ve,Ge=Ve);return ze&&Wr($,De),ye}for(pe=h(pe);!Ve.done;De++,Ve=z.next())Ve=K(pe,$,De,Ve.value,Z),Ve!==null&&(o&&Ve.alternate!==null&&pe.delete(Ve.key===null?De:Ve.key),q=_(Ve,q,De),Ge===null?ye=Ve:Ge.sibling=Ve,Ge=Ve);return o&&pe.forEach(function(tL){return s($,tL)}),ze&&Wr($,De),ye}function tt($,q,z,Z){if(typeof z=="object"&&z!==null&&z.type===E&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var ye=z.key;q!==null;){if(q.key===ye){if(ye=z.type,ye===E){if(q.tag===7){u($,q.sibling),Z=b(q,z.props.children),Z.return=$,$=Z;break e}}else if(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Y&&Po(ye)===q.type){u($,q.sibling),Z=b(q,z.props),ol(Z,z),Z.return=$,$=Z;break e}u($,q);break}else s($,q);q=q.sibling}z.type===E?(Z=Ro(z.props.children,$.mode,Z,z.key),Z.return=$,$=Z):(Z=rc(z.type,z.key,z.props,null,$.mode,Z),ol(Z,z),Z.return=$,$=Z)}return A($);case S:e:{for(ye=z.key;q!==null;){if(q.key===ye)if(q.tag===4&&q.stateNode.containerInfo===z.containerInfo&&q.stateNode.implementation===z.implementation){u($,q.sibling),Z=b(q,z.children||[]),Z.return=$,$=Z;break e}else{u($,q);break}else s($,q);q=q.sibling}Z=pp(z,$.mode,Z),Z.return=$,$=Z}return A($);case Y:return z=Po(z),tt($,q,z,Z)}if(Te(z))return he($,q,z,Z);if(te(z)){if(ye=te(z),typeof ye!="function")throw Error(r(150));return z=ye.call(z),_e($,q,z,Z)}if(typeof z.then=="function")return tt($,q,cc(z),Z);if(z.$$typeof===M)return tt($,q,ac($,z),Z);fc($,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,q!==null&&q.tag===6?(u($,q.sibling),Z=b(q,z),Z.return=$,$=Z):(u($,q),Z=hp(z,$.mode,Z),Z.return=$,$=Z),A($)):u($,q)}return function($,q,z,Z){try{il=0;var ye=tt($,q,z,Z);return ka=null,ye}catch(pe){if(pe===Da||pe===lc)throw pe;var Ge=Dn(29,pe,null,$.mode);return Ge.lanes=Z,Ge.return=$,Ge}finally{}}}var ko=Aw(!0),xw=Aw(!1),qi=!1;function xp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $i(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Bi(o,s,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var b=h.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),h.pending=s,s=nc(o),uw(o,null,u),s}return tc(o,h,s,u),nc(o)}function al(o,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=o.pendingLanes,u|=h,s.lanes=u,v_(o,u)}}function Rp(o,s){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var b=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?b=_=A:_=_.next=A,u=u.next}while(u!==null);_===null?b=_=s:_=_.next=s}else b=_=s;u={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=s:o.next=s,u.lastBaseUpdate=s}var Np=!1;function sl(){if(Np){var o=Pa;if(o!==null)throw o}}function ll(o,s,u,h){Np=!1;var b=o.updateQueue;qi=!1;var _=b.firstBaseUpdate,A=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var k=R,H=k.next;k.next=null,A===null?_=H:A.next=H,A=k;var X=o.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==A&&(R===null?X.firstBaseUpdate=H:R.next=H,X.lastBaseUpdate=k))}if(_!==null){var ee=b.baseState;A=0,X=H=k=null,R=_;do{var G=R.lane&-536870913,K=G!==R.lane;if(K?($e&G)===G:(h&G)===G){G!==0&&G===Oa&&(Np=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=o,_e=R;G=s;var tt=u;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(tt,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,G=typeof he=="function"?he.call(tt,ee,G):he,G==null)break e;ee=g({},ee,G);break e;case 2:qi=!0}}G=R.callback,G!==null&&(o.flags|=64,K&&(o.flags|=8192),K=b.callbacks,K===null?b.callbacks=[G]:K.push(G))}else K={lane:G,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(H=X=K,k=ee):X=X.next=K,A|=G;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;K=R,R=K.next,K.next=null,b.lastBaseUpdate=K,b.shared.pending=null}}while(!0);X===null&&(k=ee),b.baseState=k,b.firstBaseUpdate=H,b.lastBaseUpdate=X,_===null&&(b.shared.lanes=0),ji|=A,o.lanes=A,o.memoizedState=ee}}function Cw(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function Rw(o,s){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)Cw(u[o],s)}var Ua=L(null),dc=L(0);function Nw(o,s){o=si,oe(dc,o),oe(Ua,s),si=o|s.baseLanes}function Mp(){oe(dc,si),oe(Ua,Ua.current)}function Ip(){si=dc.current,W(Ua),W(dc)}var kn=L(null),ir=null;function zi(o){var s=o.alternate;oe(At,At.current&1),oe(kn,o),ir===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(ir=o)}function Op(o){oe(At,At.current),oe(kn,o),ir===null&&(ir=o)}function Mw(o){o.tag===22?(oe(At,At.current),oe(kn,o),ir===null&&(ir=o)):Hi()}function Hi(){oe(At,At.current),oe(kn,kn.current)}function Un(o){W(kn),ir===o&&(ir=null),W(At)}var At=L(0);function hc(o){for(var s=o;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||qm(u)||$m(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zr=0,Pe=null,Ze=null,Mt=null,pc=!1,La=!1,Uo=!1,mc=0,ul=0,qa=null,j2=0;function yt(){throw Error(r(321))}function Pp(o,s){if(s===null)return!1;for(var u=0;u<s.length&&u<o.length;u++)if(!Pn(o[u],s[u]))return!1;return!0}function Dp(o,s,u,h,b,_){return Zr=_,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=o===null||o.memoizedState===null?hS:Jp,Uo=!1,_=u(h,b),Uo=!1,La&&(_=Ow(s,u,h,b)),Iw(o),_}function Iw(o){B.H=dl;var s=Ze!==null&&Ze.next!==null;if(Zr=0,Mt=Ze=Pe=null,pc=!1,ul=0,qa=null,s)throw Error(r(300));o===null||It||(o=o.dependencies,o!==null&&oc(o)&&(It=!0))}function Ow(o,s,u,h){Pe=o;var b=0;do{if(La&&(qa=null),ul=0,La=!1,25<=b)throw Error(r(301));if(b+=1,Mt=Ze=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}B.H=pS,_=s(u,h)}while(La);return _}function F2(){var o=B.H,s=o.useState()[0];return s=typeof s.then=="function"?cl(s):s,o=o.useState()[0],(Ze!==null?Ze.memoizedState:null)!==o&&(Pe.flags|=1024),s}function kp(){var o=mc!==0;return mc=0,o}function Up(o,s,u){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~u}function Lp(o){if(pc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}pc=!1}Zr=0,Mt=Ze=Pe=null,La=!1,ul=mc=0,qa=null}function yn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Pe.memoizedState=Mt=o:Mt=Mt.next=o,Mt}function xt(){if(Ze===null){var o=Pe.alternate;o=o!==null?o.memoizedState:null}else o=Ze.next;var s=Mt===null?Pe.memoizedState:Mt.next;if(s!==null)Mt=s,Ze=o;else{if(o===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));Ze=o,o={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Mt===null?Pe.memoizedState=Mt=o:Mt=Mt.next=o}return Mt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(o){var s=ul;return ul+=1,qa===null&&(qa=[]),o=Sw(qa,o,s),s=Pe,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?hS:Jp),o}function vc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return cl(o);if(o.$$typeof===M)return rn(o)}throw Error(r(438,String(o)))}function qp(o){var s=null,u=Pe.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Pe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=gc(),Pe.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(o),h=0;h<o;h++)u[h]=re;return s.index++,u}function ei(o,s){return typeof s=="function"?s(o):s}function yc(o){var s=xt();return $p(s,Ze,o)}function $p(o,s,u){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var b=o.baseQueue,_=h.pending;if(_!==null){if(b!==null){var A=b.next;b.next=_.next,_.next=A}s.baseQueue=b=_,h.pending=null}if(_=o.baseState,b===null)o.memoizedState=_;else{s=b.next;var R=A=null,k=null,H=s,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?($e&ee)===ee:(Zr&ee)===ee){var G=H.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Oa&&(X=!0);else if((Zr&G)===G){H=H.next,G===Oa&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(R=k=ee,A=_):k=k.next=ee,Pe.lanes|=G,ji|=G;ee=H.action,Uo&&u(_,ee),_=H.hasEagerState?H.eagerState:u(_,ee)}else G={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(R=k=G,A=_):k=k.next=G,Pe.lanes|=ee,ji|=ee;H=H.next}while(H!==null&&H!==s);if(k===null?A=_:k.next=R,!Pn(_,o.memoizedState)&&(It=!0,X&&(u=Pa,u!==null)))throw u;o.memoizedState=_,o.baseState=A,o.baseQueue=k,h.lastRenderedState=_}return b===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function Bp(o){var s=xt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=u.dispatch,b=u.pending,_=s.memoizedState;if(b!==null){u.pending=null;var A=b=b.next;do _=o(_,A.action),A=A.next;while(A!==b);Pn(_,s.memoizedState)||(It=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,h]}function Pw(o,s,u){var h=Pe,b=xt(),_=ze;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=s();var A=!Pn((Ze||b).memoizedState,u);if(A&&(b.memoizedState=u,It=!0),b=b.queue,Gp(Uw.bind(null,h,b,o),[o]),b.getSnapshot!==s||A||Mt!==null&&Mt.memoizedState.tag&1){if(h.flags|=2048,$a(9,{destroy:void 0},kw.bind(null,h,b,u,s),null),rt===null)throw Error(r(349));_||(Zr&127)!==0||Dw(h,s,u)}return u}function Dw(o,s,u){o.flags|=16384,o={getSnapshot:s,value:u},s=Pe.updateQueue,s===null?(s=gc(),Pe.updateQueue=s,s.stores=[o]):(u=s.stores,u===null?s.stores=[o]:u.push(o))}function kw(o,s,u,h){s.value=u,s.getSnapshot=h,Lw(s)&&qw(o)}function Uw(o,s,u){return u(function(){Lw(s)&&qw(o)})}function Lw(o){var s=o.getSnapshot;o=o.value;try{var u=s();return!Pn(o,u)}catch{return!0}}function qw(o){var s=Co(o,2);s!==null&&Nn(s,o,2)}function zp(o){var s=yn();if(typeof o=="function"){var u=o;if(o=u(),Uo){kr(!0);try{u()}finally{kr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},s}function $w(o,s,u,h){return o.baseState=u,$p(o,Ze,typeof h=="function"?h:ei)}function K2(o,s,u,h,b){if(wc(o))throw Error(r(485));if(o=s.action,o!==null){var _={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};B.T!==null?u(!0):_.isTransition=!1,h(_),u=s.pending,u===null?(_.next=s.pending=_,Bw(s,_)):(_.next=u.next,s.pending=u.next=_)}}function Bw(o,s){var u=s.action,h=s.payload,b=o.state;if(s.isTransition){var _=B.T,A={};B.T=A;try{var R=u(b,h),k=B.S;k!==null&&k(A,R),zw(o,s,R)}catch(H){Hp(o,s,H)}finally{_!==null&&A.types!==null&&(_.types=A.types),B.T=_}}else try{_=u(b,h),zw(o,s,_)}catch(H){Hp(o,s,H)}}function zw(o,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Hw(o,s,h)},function(h){return Hp(o,s,h)}):Hw(o,s,u)}function Hw(o,s,u){s.status="fulfilled",s.value=u,Gw(s),o.state=u,s=o.pending,s!==null&&(u=s.next,u===s?o.pending=null:(u=u.next,s.next=u,Bw(o,u)))}function Hp(o,s,u){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,Gw(s),s=s.next;while(s!==h)}o.action=null}function Gw(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Vw(o,s){return s}function jw(o,s){if(ze){var u=rt.formState;if(u!==null){e:{var h=Pe;if(ze){if(lt){t:{for(var b=lt,_=rr;b.nodeType!==8;){if(!_){b=null;break t}if(b=or(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){lt=or(b.nextSibling),h=b.data==="F!";break e}}Ui(h)}h=!1}h&&(s=u[0])}}return u=yn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vw,lastRenderedState:s},u.queue=h,u=cS.bind(null,Pe,h),h.dispatch=u,h=zp(!1),_=Yp.bind(null,Pe,!1,h.queue),h=yn(),b={state:s,dispatch:null,action:o,pending:null},h.queue=b,u=K2.bind(null,Pe,b,_,u),b.dispatch=u,h.memoizedState=o,[s,u,!1]}function Fw(o){var s=xt();return Kw(s,Ze,o)}function Kw(o,s,u){if(s=$p(o,s,Vw)[0],o=yc(ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=cl(s)}catch(A){throw A===Da?lc:A}else h=s;s=xt();var b=s.queue,_=b.dispatch;return u!==s.memoizedState&&(Pe.flags|=2048,$a(9,{destroy:void 0},Y2.bind(null,b,u),null)),[h,_,o]}function Y2(o,s){o.action=s}function Yw(o){var s=xt(),u=Ze;if(u!==null)return Kw(s,u,o);xt(),s=s.memoizedState,u=xt();var h=u.queue.dispatch;return u.memoizedState=o,[s,h,!1]}function $a(o,s,u,h){return o={tag:o,create:u,deps:h,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=gc(),Pe.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,s.lastEffect=o),o}function Jw(){return xt().memoizedState}function bc(o,s,u,h){var b=yn();Pe.flags|=o,b.memoizedState=$a(1|s,{destroy:void 0},u,h===void 0?null:h)}function _c(o,s,u,h){var b=xt();h=h===void 0?null:h;var _=b.memoizedState.inst;Ze!==null&&h!==null&&Pp(h,Ze.memoizedState.deps)?b.memoizedState=$a(s,_,u,h):(Pe.flags|=o,b.memoizedState=$a(1|s,_,u,h))}function Ww(o,s){bc(8390656,8,o,s)}function Gp(o,s){_c(2048,8,o,s)}function J2(o){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=gc(),Pe.updateQueue=s,s.events=[o];else{var u=s.events;u===null?s.events=[o]:u.push(o)}}function Xw(o){var s=xt().memoizedState;return J2({ref:s,nextImpl:o}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Qw(o,s){return _c(4,2,o,s)}function Zw(o,s){return _c(4,4,o,s)}function eS(o,s){if(typeof s=="function"){o=o();var u=s(o);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function tS(o,s,u){u=u!=null?u.concat([o]):null,_c(4,4,eS.bind(null,s,o),u)}function Vp(){}function nS(o,s){var u=xt();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Pp(s,h[1])?h[0]:(u.memoizedState=[o,s],o)}function rS(o,s){var u=xt();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Pp(s,h[1]))return h[0];if(h=o(),Uo){kr(!0);try{o()}finally{kr(!1)}}return u.memoizedState=[h,s],h}function jp(o,s,u){return u===void 0||(Zr&1073741824)!==0&&($e&261930)===0?o.memoizedState=s:(o.memoizedState=u,o=iE(),Pe.lanes|=o,ji|=o,u)}function iS(o,s,u,h){return Pn(u,s)?u:Ua.current!==null?(o=jp(o,u,h),Pn(o,s)||(It=!0),o):(Zr&42)===0||(Zr&1073741824)!==0&&($e&261930)===0?(It=!0,o.memoizedState=u):(o=iE(),Pe.lanes|=o,ji|=o,s)}function oS(o,s,u,h,b){var _=ne.p;ne.p=_!==0&&8>_?_:8;var A=B.T,R={};B.T=R,Yp(o,!1,s,u);try{var k=b(),H=B.S;if(H!==null&&H(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var X=V2(k,h);fl(o,s,X,$n(o))}else fl(o,s,h,$n(o))}catch(ee){fl(o,s,{then:function(){},status:"rejected",reason:ee},$n())}finally{ne.p=_,A!==null&&R.types!==null&&(A.types=R.types),B.T=A}}function W2(){}function Fp(o,s,u,h){if(o.tag!==5)throw Error(r(476));var b=aS(o).queue;oS(o,b,s,ce,u===null?W2:function(){return sS(o),u(h)})}function aS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ce},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:u},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function sS(o){var s=aS(o);s.next===null&&(s=o.alternate.memoizedState),fl(o,s.next.queue,{},$n())}function Kp(){return rn(Rl)}function lS(){return xt().memoizedState}function uS(){return xt().memoizedState}function X2(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var u=$n();o=$i(u);var h=Bi(s,o,u);h!==null&&(Nn(h,s,u),al(h,s,u)),s={cache:Sp()},o.payload=s;return}s=s.return}}function Q2(o,s,u){var h=$n();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wc(o)?fS(s,u):(u=fp(o,s,u,h),u!==null&&(Nn(u,o,h),dS(u,s,h)))}function cS(o,s,u){var h=$n();fl(o,s,u,h)}function fl(o,s,u,h){var b={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(wc(o))fS(s,b);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var A=s.lastRenderedState,R=_(A,u);if(b.hasEagerState=!0,b.eagerState=R,Pn(R,A))return tc(o,s,b,0),rt===null&&ec(),!1}catch{}finally{}if(u=fp(o,s,b,h),u!==null)return Nn(u,o,h),dS(u,s,h),!0}return!1}function Yp(o,s,u,h){if(h={lane:2,revertLane:xm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},wc(o)){if(s)throw Error(r(479))}else s=fp(o,u,h,2),s!==null&&Nn(s,o,2)}function wc(o){var s=o.alternate;return o===Pe||s!==null&&s===Pe}function fS(o,s){La=pc=!0;var u=o.pending;u===null?s.next=s:(s.next=u.next,u.next=s),o.pending=s}function dS(o,s,u){if((u&4194048)!==0){var h=s.lanes;h&=o.pendingLanes,u|=h,s.lanes=u,v_(o,u)}}var dl={readContext:rn,use:vc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};dl.useEffectEvent=yt;var hS={readContext:rn,use:vc,useCallback:function(o,s){return yn().memoizedState=[o,s===void 0?null:s],o},useContext:rn,useEffect:Ww,useImperativeHandle:function(o,s,u){u=u!=null?u.concat([o]):null,bc(4194308,4,eS.bind(null,s,o),u)},useLayoutEffect:function(o,s){return bc(4194308,4,o,s)},useInsertionEffect:function(o,s){bc(4,2,o,s)},useMemo:function(o,s){var u=yn();s=s===void 0?null:s;var h=o();if(Uo){kr(!0);try{o()}finally{kr(!1)}}return u.memoizedState=[h,s],h},useReducer:function(o,s,u){var h=yn();if(u!==void 0){var b=u(s);if(Uo){kr(!0);try{u(s)}finally{kr(!1)}}}else b=s;return h.memoizedState=h.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},h.queue=o,o=o.dispatch=Q2.bind(null,Pe,o),[h.memoizedState,o]},useRef:function(o){var s=yn();return o={current:o},s.memoizedState=o},useState:function(o){o=zp(o);var s=o.queue,u=cS.bind(null,Pe,s);return s.dispatch=u,[o.memoizedState,u]},useDebugValue:Vp,useDeferredValue:function(o,s){var u=yn();return jp(u,o,s)},useTransition:function(){var o=zp(!1);return o=oS.bind(null,Pe,o.queue,!0,!1),yn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,u){var h=Pe,b=yn();if(ze){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),rt===null)throw Error(r(349));($e&127)!==0||Dw(h,s,u)}b.memoizedState=u;var _={value:u,getSnapshot:s};return b.queue=_,Ww(Uw.bind(null,h,_,o),[o]),h.flags|=2048,$a(9,{destroy:void 0},kw.bind(null,h,_,u,s),null),u},useId:function(){var o=yn(),s=rt.identifierPrefix;if(ze){var u=Lr,h=Ur;u=(h&~(1<<32-gn(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=mc++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=j2++,s="_"+s+"r_"+u.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Kp,useFormState:jw,useActionState:jw,useOptimistic:function(o){var s=yn();s.memoizedState=s.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Yp.bind(null,Pe,!0,u),u.dispatch=s,[o,s]},useMemoCache:qp,useCacheRefresh:function(){return yn().memoizedState=X2.bind(null,Pe)},useEffectEvent:function(o){var s=yn(),u={impl:o};return s.memoizedState=u,function(){if((Ke&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Jp={readContext:rn,use:vc,useCallback:nS,useContext:rn,useEffect:Gp,useImperativeHandle:tS,useInsertionEffect:Qw,useLayoutEffect:Zw,useMemo:rS,useReducer:yc,useRef:Jw,useState:function(){return yc(ei)},useDebugValue:Vp,useDeferredValue:function(o,s){var u=xt();return iS(u,Ze.memoizedState,o,s)},useTransition:function(){var o=yc(ei)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:cl(o),s]},useSyncExternalStore:Pw,useId:lS,useHostTransitionStatus:Kp,useFormState:Fw,useActionState:Fw,useOptimistic:function(o,s){var u=xt();return $w(u,Ze,o,s)},useMemoCache:qp,useCacheRefresh:uS};Jp.useEffectEvent=Xw;var pS={readContext:rn,use:vc,useCallback:nS,useContext:rn,useEffect:Gp,useImperativeHandle:tS,useInsertionEffect:Qw,useLayoutEffect:Zw,useMemo:rS,useReducer:Bp,useRef:Jw,useState:function(){return Bp(ei)},useDebugValue:Vp,useDeferredValue:function(o,s){var u=xt();return Ze===null?jp(u,o,s):iS(u,Ze.memoizedState,o,s)},useTransition:function(){var o=Bp(ei)[0],s=xt().memoizedState;return[typeof o=="boolean"?o:cl(o),s]},useSyncExternalStore:Pw,useId:lS,useHostTransitionStatus:Kp,useFormState:Yw,useActionState:Yw,useOptimistic:function(o,s){var u=xt();return Ze!==null?$w(u,Ze,o,s):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:qp,useCacheRefresh:uS};pS.useEffectEvent=Xw;function Wp(o,s,u,h){s=o.memoizedState,u=u(h,s),u=u==null?s:g({},s,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Xp={enqueueSetState:function(o,s,u){o=o._reactInternals;var h=$n(),b=$i(h);b.payload=s,u!=null&&(b.callback=u),s=Bi(o,b,h),s!==null&&(Nn(s,o,h),al(s,o,h))},enqueueReplaceState:function(o,s,u){o=o._reactInternals;var h=$n(),b=$i(h);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=Bi(o,b,h),s!==null&&(Nn(s,o,h),al(s,o,h))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var u=$n(),h=$i(u);h.tag=2,s!=null&&(h.callback=s),s=Bi(o,h,u),s!==null&&(Nn(s,o,u),al(s,o,u))}};function mS(o,s,u,h,b,_,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,_,A):s.prototype&&s.prototype.isPureReactComponent?!Qs(u,h)||!Qs(b,_):!0}function gS(o,s,u,h){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==o&&Xp.enqueueReplaceState(s,s.state,null)}function Lo(o,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(o=o.defaultProps){u===s&&(u=g({},u));for(var b in o)u[b]===void 0&&(u[b]=o[b])}return u}function vS(o){Zu(o)}function yS(o){console.error(o)}function bS(o){Zu(o)}function Sc(o,s){try{var u=o.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function _S(o,s,u){try{var h=o.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Qp(o,s,u){return u=$i(u),u.tag=3,u.payload={element:null},u.callback=function(){Sc(o,s)},u}function wS(o){return o=$i(o),o.tag=3,o}function SS(o,s,u,h){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var _=h.value;o.payload=function(){return b(_)},o.callback=function(){_S(s,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(o.callback=function(){_S(s,u,h),typeof b!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function Z2(o,s,u,h,b){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&Ia(s,u,b,!0),u=kn.current,u!==null){switch(u.tag){case 31:case 13:return ir===null?Dc():u.alternate===null&&bt===0&&(bt=3),u.flags&=-257,u.flags|=65536,u.lanes=b,h===uc?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),Em(o,h,b)),!1;case 22:return u.flags|=65536,h===uc?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),Em(o,h,b)),!1}throw Error(r(435,u.tag))}return Em(o,h,b),Dc(),!1}if(ze)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,h!==vp&&(o=Error(r(422),{cause:h}),tl(er(o,u)))):(h!==vp&&(s=Error(r(423),{cause:h}),tl(er(s,u))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,h=er(h,u),b=Qp(o.stateNode,h,b),Rp(o,b),bt!==4&&(bt=2)),!1;var _=Error(r(520),{cause:h});if(_=er(_,u),_l===null?_l=[_]:_l.push(_),bt!==4&&(bt=2),s===null)return!0;h=er(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,o=b&-b,u.lanes|=o,o=Qp(u.stateNode,h,o),Rp(u,o),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_))))return u.flags|=65536,b&=-b,u.lanes|=b,b=wS(b),SS(b,o,u,h),Rp(u,b),!1}u=u.return}while(u!==null);return!1}var Zp=Error(r(461)),It=!1;function on(o,s,u,h){s.child=o===null?xw(s,null,u,h):ko(s,o.child,u,h)}function ES(o,s,u,h,b){u=u.render;var _=s.ref;if("ref"in h){var A={};for(var R in h)R!=="ref"&&(A[R]=h[R])}else A=h;return Io(s),h=Dp(o,s,u,A,_,b),R=kp(),o!==null&&!It?(Up(o,s,b),ti(o,s,b)):(ze&&R&&mp(s),s.flags|=1,on(o,s,h,b),s.child)}function TS(o,s,u,h,b){if(o===null){var _=u.type;return typeof _=="function"&&!dp(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,AS(o,s,_,h,b)):(o=rc(u.type,null,h,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!sm(o,b)){var A=_.memoizedProps;if(u=u.compare,u=u!==null?u:Qs,u(A,h)&&o.ref===s.ref)return ti(o,s,b)}return s.flags|=1,o=Jr(_,h),o.ref=s.ref,o.return=s,s.child=o}function AS(o,s,u,h,b){if(o!==null){var _=o.memoizedProps;if(Qs(_,h)&&o.ref===s.ref)if(It=!1,s.pendingProps=h=_,sm(o,b))(o.flags&131072)!==0&&(It=!0);else return s.lanes=o.lanes,ti(o,s,b)}return em(o,s,u,h,b)}function xS(o,s,u,h){var b=h.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,o!==null){for(h=s.child=o.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~_}else h=0,s.child=null;return CS(o,s,_,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&sc(s,_!==null?_.cachePool:null),_!==null?Nw(s,_):Mp(),Mw(s);else return h=s.lanes=536870912,CS(o,s,_!==null?_.baseLanes|u:u,u,h)}else _!==null?(sc(s,_.cachePool),Nw(s,_),Hi(),s.memoizedState=null):(o!==null&&sc(s,null),Mp(),Hi());return on(o,s,b,u),s.child}function hl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function CS(o,s,u,h,b){var _=Tp();return _=_===null?null:{parent:Nt._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},o!==null&&sc(s,null),Mp(),Mw(s),o!==null&&Ia(o,s,h,!0),s.childLanes=b,null}function Ec(o,s){return s=Ac({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function RS(o,s,u){return ko(s,o.child,null,u),o=Ec(s,s.pendingProps),o.flags|=2,Un(s),s.memoizedState=null,o}function eU(o,s,u){var h=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(ze){if(h.mode==="hidden")return o=Ec(s,h),s.lanes=536870912,hl(null,o);if(Op(s),(o=lt)?(o=BE(o,rr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Di!==null?{id:Ur,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},u=fw(o),u.return=s,s.child=u,nn=s,lt=null)):o=null,o===null)throw Ui(s);return s.lanes=536870912,null}return Ec(s,h)}var _=o.memoizedState;if(_!==null){var A=_.dehydrated;if(Op(s),b)if(s.flags&256)s.flags&=-257,s=RS(o,s,u);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(It||Ia(o,s,u,!1),b=(u&o.childLanes)!==0,It||b){if(h=rt,h!==null&&(A=y_(h,u),A!==0&&A!==_.retryLane))throw _.retryLane=A,Co(o,A),Nn(h,o,A),Zp;Dc(),s=RS(o,s,u)}else o=_.treeContext,lt=or(A.nextSibling),nn=s,ze=!0,ki=null,rr=!1,o!==null&&pw(s,o),s=Ec(s,h),s.flags|=4096;return s}return o=Jr(o.child,{mode:h.mode,children:h.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Tc(o,s){var u=s.ref;if(u===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(s.flags|=4194816)}}function em(o,s,u,h,b){return Io(s),u=Dp(o,s,u,h,void 0,b),h=kp(),o!==null&&!It?(Up(o,s,b),ti(o,s,b)):(ze&&h&&mp(s),s.flags|=1,on(o,s,u,b),s.child)}function NS(o,s,u,h,b,_){return Io(s),s.updateQueue=null,u=Ow(s,h,u,b),Iw(o),h=kp(),o!==null&&!It?(Up(o,s,_),ti(o,s,_)):(ze&&h&&mp(s),s.flags|=1,on(o,s,u,_),s.child)}function MS(o,s,u,h,b){if(Io(s),s.stateNode===null){var _=Ca,A=u.contextType;typeof A=="object"&&A!==null&&(_=rn(A)),_=new u(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Xp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},xp(s),A=u.contextType,_.context=typeof A=="object"&&A!==null?rn(A):Ca,_.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Wp(s,u,A,h),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Xp.enqueueReplaceState(_,_.state,null),ll(s,h,_,b),sl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,k=Lo(u,R);_.props=k;var H=_.context,X=u.contextType;A=Ca,typeof X=="object"&&X!==null&&(A=rn(X));var ee=u.getDerivedStateFromProps;X=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||H!==A)&&gS(s,_,h,A),qi=!1;var G=s.memoizedState;_.state=G,ll(s,h,_,b),sl(),H=s.memoizedState,R||G!==H||qi?(typeof ee=="function"&&(Wp(s,u,ee,h),H=s.memoizedState),(k=qi||mS(s,u,k,h,G,H,A))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=H),_.props=h,_.state=H,_.context=A,h=k):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Cp(o,s),A=s.memoizedProps,X=Lo(u,A),_.props=X,ee=s.pendingProps,G=_.context,H=u.contextType,k=Ca,typeof H=="object"&&H!==null&&(k=rn(H)),R=u.getDerivedStateFromProps,(H=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ee||G!==k)&&gS(s,_,h,k),qi=!1,G=s.memoizedState,_.state=G,ll(s,h,_,b),sl();var K=s.memoizedState;A!==ee||G!==K||qi||o!==null&&o.dependencies!==null&&oc(o.dependencies)?(typeof R=="function"&&(Wp(s,u,R,h),K=s.memoizedState),(X=qi||mS(s,u,X,h,G,K,k)||o!==null&&o.dependencies!==null&&oc(o.dependencies))?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,K,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,K,k)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=K),_.props=h,_.state=K,_.context=k,h=X):(typeof _.componentDidUpdate!="function"||A===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),h=!1)}return _=h,Tc(o,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&h?(s.child=ko(s,o.child,null,b),s.child=ko(s,null,u,b)):on(o,s,u,b),s.memoizedState=_.state,o=s.child):o=ti(o,s,b),o}function IS(o,s,u,h){return No(),s.flags|=256,on(o,s,u,h),s.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(o){return{baseLanes:o,cachePool:_w()}}function rm(o,s,u){return o=o!==null?o.childLanes&~u:0,s&&(o|=qn),o}function OS(o,s,u){var h=s.pendingProps,b=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=o!==null&&o.memoizedState===null?!1:(At.current&2)!==0),A&&(b=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,o===null){if(ze){if(b?zi(s):Hi(),(o=lt)?(o=BE(o,rr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Di!==null?{id:Ur,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},u=fw(o),u.return=s,s.child=u,nn=s,lt=null)):o=null,o===null)throw Ui(s);return $m(o)?s.lanes=32:s.lanes=536870912,null}var R=h.children;return h=h.fallback,b?(Hi(),b=s.mode,R=Ac({mode:"hidden",children:R},b),h=Ro(h,b,u,null),R.return=s,h.return=s,R.sibling=h,s.child=R,h=s.child,h.memoizedState=nm(u),h.childLanes=rm(o,A,u),s.memoizedState=tm,hl(null,h)):(zi(s),im(s,R))}var k=o.memoizedState;if(k!==null&&(R=k.dehydrated,R!==null)){if(_)s.flags&256?(zi(s),s.flags&=-257,s=om(o,s,u)):s.memoizedState!==null?(Hi(),s.child=o.child,s.flags|=128,s=null):(Hi(),R=h.fallback,b=s.mode,h=Ac({mode:"visible",children:h.children},b),R=Ro(R,b,u,null),R.flags|=2,h.return=s,R.return=s,h.sibling=R,s.child=h,ko(s,o.child,null,u),h=s.child,h.memoizedState=nm(u),h.childLanes=rm(o,A,u),s.memoizedState=tm,s=hl(null,h));else if(zi(s),$m(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var H=A.dgst;A=H,h=Error(r(419)),h.stack="",h.digest=A,tl({value:h,source:null,stack:null}),s=om(o,s,u)}else if(It||Ia(o,s,u,!1),A=(u&o.childLanes)!==0,It||A){if(A=rt,A!==null&&(h=y_(A,u),h!==0&&h!==k.retryLane))throw k.retryLane=h,Co(o,h),Nn(A,o,h),Zp;qm(R)||Dc(),s=om(o,s,u)}else qm(R)?(s.flags|=192,s.child=o.child,s=null):(o=k.treeContext,lt=or(R.nextSibling),nn=s,ze=!0,ki=null,rr=!1,o!==null&&pw(s,o),s=im(s,h.children),s.flags|=4096);return s}return b?(Hi(),R=h.fallback,b=s.mode,k=o.child,H=k.sibling,h=Jr(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&65011712,H!==null?R=Jr(H,R):(R=Ro(R,b,u,null),R.flags|=2),R.return=s,h.return=s,h.sibling=R,s.child=h,hl(null,h),h=s.child,R=o.child.memoizedState,R===null?R=nm(u):(b=R.cachePool,b!==null?(k=Nt._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=_w(),R={baseLanes:R.baseLanes|u,cachePool:b}),h.memoizedState=R,h.childLanes=rm(o,A,u),s.memoizedState=tm,hl(o.child,h)):(zi(s),u=o.child,o=u.sibling,u=Jr(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,o!==null&&(A=s.deletions,A===null?(s.deletions=[o],s.flags|=16):A.push(o)),s.child=u,s.memoizedState=null,u)}function im(o,s){return s=Ac({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Ac(o,s){return o=Dn(22,o,null,s),o.lanes=0,o}function om(o,s,u){return ko(s,o.child,null,u),o=im(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function PS(o,s,u){o.lanes|=s;var h=o.alternate;h!==null&&(h.lanes|=s),_p(o.return,s,u)}function am(o,s,u,h,b,_){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:b,treeForkCount:_}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=b,A.treeForkCount=_)}function DS(o,s,u){var h=s.pendingProps,b=h.revealOrder,_=h.tail;h=h.children;var A=At.current,R=(A&2)!==0;if(R?(A=A&1|2,s.flags|=128):A&=1,oe(At,A),on(o,s,h,u),h=ze?el:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&PS(o,u,s);else if(o.tag===19)PS(o,u,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(u=s.child,b=null;u!==null;)o=u.alternate,o!==null&&hc(o)===null&&(b=u),u=u.sibling;u=b,u===null?(b=s.child,s.child=null):(b=u.sibling,u.sibling=null),am(s,!1,b,u,_,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&hc(o)===null){s.child=b;break}o=b.sibling,b.sibling=u,u=b,b=o}am(s,!0,u,null,_,h);break;case"together":am(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ti(o,s,u){if(o!==null&&(s.dependencies=o.dependencies),ji|=s.lanes,(u&s.childLanes)===0)if(o!==null){if(Ia(o,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,u=Jr(o,o.pendingProps),s.child=u,u.return=s;o.sibling!==null;)o=o.sibling,u=u.sibling=Jr(o,o.pendingProps),u.return=s;u.sibling=null}return s.child}function sm(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&oc(o)))}function tU(o,s,u){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),Li(s,Nt,o.memoizedState.cache),No();break;case 27:case 5:Ce(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Op(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(zi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?OS(o,s,u):(zi(s),o=ti(o,s,u),o!==null?o.sibling:null);zi(s);break;case 19:var b=(o.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(Ia(o,s,u,!1),h=(u&s.childLanes)!==0),b){if(h)return DS(o,s,u);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),oe(At,At.current),h)break;return null;case 22:return s.lanes=0,xS(o,s,u,s.pendingProps);case 24:Li(s,Nt,o.memoizedState.cache)}return ti(o,s,u)}function kS(o,s,u){if(o!==null)if(o.memoizedProps!==s.pendingProps)It=!0;else{if(!sm(o,u)&&(s.flags&128)===0)return It=!1,tU(o,s,u);It=(o.flags&131072)!==0}else It=!1,ze&&(s.flags&1048576)!==0&&hw(s,el,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(o=Po(s.elementType),s.type=o,typeof o=="function")dp(o)?(h=Lo(o,h),s.tag=1,s=MS(null,s,o,h,u)):(s.tag=0,s=em(null,s,o,h,u));else{if(o!=null){var b=o.$$typeof;if(b===O){s.tag=11,s=ES(null,s,o,h,u);break e}else if(b===U){s.tag=14,s=TS(null,s,o,h,u);break e}}throw s=de(o)||o,Error(r(306,s,""))}}return s;case 0:return em(o,s,s.type,s.pendingProps,u);case 1:return h=s.type,b=Lo(h,s.pendingProps),MS(o,s,h,b,u);case 3:e:{if(mt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;b=_.element,Cp(o,s),ll(s,h,null,u);var A=s.memoizedState;if(h=A.cache,Li(s,Nt,h),h!==_.cache&&wp(s,[Nt],u,!0),sl(),h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=IS(o,s,h,u);break e}else if(h!==b){b=er(Error(r(424)),s),tl(b),s=IS(o,s,h,u);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(lt=or(o.firstChild),nn=s,ze=!0,ki=null,rr=!0,u=xw(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(No(),h===b){s=ti(o,s,u);break e}on(o,s,h,u)}s=s.child}return s;case 26:return Tc(o,s),o===null?(u=FE(s.type,null,s.pendingProps,null))?s.memoizedState=u:ze||(u=s.type,o=s.pendingProps,h=zc(xe.current).createElement(u),h[tn]=s,h[En]=o,an(h,u,o),Jt(h),s.stateNode=h):s.memoizedState=FE(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ce(s),o===null&&ze&&(h=s.stateNode=GE(s.type,s.pendingProps,xe.current),nn=s,rr=!0,b=lt,Wi(s.type)?(Bm=b,lt=or(h.firstChild)):lt=b),on(o,s,s.pendingProps.children,u),Tc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&ze&&((b=h=lt)&&(h=IU(h,s.type,s.pendingProps,rr),h!==null?(s.stateNode=h,nn=s,lt=or(h.firstChild),rr=!1,b=!0):b=!1),b||Ui(s)),Ce(s),b=s.type,_=s.pendingProps,A=o!==null?o.memoizedProps:null,h=_.children,km(b,_)?h=null:A!==null&&km(b,A)&&(s.flags|=32),s.memoizedState!==null&&(b=Dp(o,s,F2,null,null,u),Rl._currentValue=b),Tc(o,s),on(o,s,h,u),s.child;case 6:return o===null&&ze&&((o=u=lt)&&(u=OU(u,s.pendingProps,rr),u!==null?(s.stateNode=u,nn=s,lt=null,o=!0):o=!1),o||Ui(s)),null;case 13:return OS(o,s,u);case 4:return mt(s,s.stateNode.containerInfo),h=s.pendingProps,o===null?s.child=ko(s,null,h,u):on(o,s,h,u),s.child;case 11:return ES(o,s,s.type,s.pendingProps,u);case 7:return on(o,s,s.pendingProps,u),s.child;case 8:return on(o,s,s.pendingProps.children,u),s.child;case 12:return on(o,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Li(s,s.type,h.value),on(o,s,h.children,u),s.child;case 9:return b=s.type._context,h=s.pendingProps.children,Io(s),b=rn(b),h=h(b),s.flags|=1,on(o,s,h,u),s.child;case 14:return TS(o,s,s.type,s.pendingProps,u);case 15:return AS(o,s,s.type,s.pendingProps,u);case 19:return DS(o,s,u);case 31:return eU(o,s,u);case 22:return xS(o,s,u,s.pendingProps);case 24:return Io(s),h=rn(Nt),o===null?(b=Tp(),b===null&&(b=rt,_=Sp(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=u),b=_),s.memoizedState={parent:h,cache:b},xp(s),Li(s,Nt,b)):((o.lanes&u)!==0&&(Cp(o,s),ll(s,null,null,u),sl()),b=o.memoizedState,_=s.memoizedState,b.parent!==h?(b={parent:h,cache:h},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Li(s,Nt,h)):(h=_.cache,Li(s,Nt,h),h!==b.cache&&wp(s,[Nt],u,!0))),on(o,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ni(o){o.flags|=4}function lm(o,s,u,h,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(lE())o.flags|=8192;else throw Do=uc,Ap}else o.flags&=-16777217}function US(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!XE(s))if(lE())o.flags|=8192;else throw Do=uc,Ap}function xc(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?m_():536870912,o.lanes|=s,Ga|=s)}function pl(o,s){if(!ze)switch(o.tailMode){case"hidden":s=o.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function ut(o){var s=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(s)for(var b=o.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=h,o.childLanes=u,s}function nU(o,s,u){var h=s.pendingProps;switch(gp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return u=s.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Qr(Nt),Q(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Ma(s)?ni(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yp())),ut(s),null;case 26:var b=s.type,_=s.memoizedState;return o===null?(ni(s),_!==null?(ut(s),US(s,_)):(ut(s),lm(s,b,null,h,u))):_?_!==o.memoizedState?(ni(s),ut(s),US(s,_)):(ut(s),s.flags&=-16777217):(o=o.memoizedProps,o!==h&&ni(s),ut(s),lm(s,b,o,h,u)),null;case 27:if(Ie(s),u=xe.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==h&&ni(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return ut(s),null}o=se.current,Ma(s)?mw(s):(o=GE(b,h,u),s.stateNode=o,ni(s))}return ut(s),null;case 5:if(Ie(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==h&&ni(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(_=se.current,Ma(s))mw(s);else{var A=zc(xe.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?A.createElement(b,{is:h.is}):A.createElement(b)}}_[tn]=s,_[En]=h;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=_;e:switch(an(_,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ni(s)}}return ut(s),lm(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,u),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==h&&ni(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(o=xe.current,Ma(s)){if(o=s.stateNode,u=s.memoizedProps,h=null,b=nn,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}o[tn]=s,o=!!(o.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||OE(o.nodeValue,u)),o||Ui(s,!0)}else o=zc(o).createTextNode(h),o[tn]=s,s.stateNode=o}return ut(s),null;case 31:if(u=s.memoizedState,o===null||o.memoizedState!==null){if(h=Ma(s),u!==null){if(o===null){if(!h)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[tn]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),o=!1}else u=yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=u),o=!0;if(!o)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ut(s),null;case 13:if(h=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Ma(s),h!==null&&h.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[tn]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),b=!1}else b=yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,o=o!==null&&o.memoizedState!==null,u&&(h=s.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==b&&(h.flags|=2048)),u!==o&&u&&(s.child.flags|=8192),xc(s,s.updateQueue),ut(s),null);case 4:return Q(),o===null&&Mm(s.stateNode.containerInfo),ut(s),null;case 10:return Qr(s.type),ut(s),null;case 19:if(W(At),h=s.memoizedState,h===null)return ut(s),null;if(b=(s.flags&128)!==0,_=h.rendering,_===null)if(b)pl(h,!1);else{if(bt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=hc(o),_!==null){for(s.flags|=128,pl(h,!1),o=_.updateQueue,s.updateQueue=o,xc(s,o),s.subtreeFlags=0,o=u,u=s.child;u!==null;)cw(u,o),u=u.sibling;return oe(At,At.current&1|2),ze&&Wr(s,h.treeForkCount),s.child}o=o.sibling}h.tail!==null&&pn()>Ic&&(s.flags|=128,b=!0,pl(h,!1),s.lanes=4194304)}else{if(!b)if(o=hc(_),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,xc(s,o),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!ze)return ut(s),null}else 2*pn()-h.renderingStartTime>Ic&&u!==536870912&&(s.flags|=128,b=!0,pl(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(o=h.last,o!==null?o.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(o=h.tail,h.rendering=o,h.tail=o.sibling,h.renderingStartTime=pn(),o.sibling=null,u=At.current,oe(At,b?u&1|2:u&1),ze&&Wr(s,h.treeForkCount),o):(ut(s),null);case 22:case 23:return Un(s),Ip(),h=s.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),u=s.updateQueue,u!==null&&xc(s,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),o!==null&&W(Oo),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Qr(Nt),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function rU(o,s){switch(gp(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Qr(Nt),Q(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(r(340));No()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Un(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));No()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return W(At),null;case 4:return Q(),null;case 10:return Qr(s.type),null;case 22:case 23:return Un(s),Ip(),o!==null&&W(Oo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Qr(Nt),null;case 25:return null;default:return null}}function LS(o,s){switch(gp(s),s.tag){case 3:Qr(Nt),Q();break;case 26:case 27:case 5:Ie(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:W(At);break;case 10:Qr(s.type);break;case 22:case 23:Un(s),Ip(),o!==null&&W(Oo);break;case 24:Qr(Nt)}}function ml(o,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var b=h.next;u=b;do{if((u.tag&o)===o){h=void 0;var _=u.create,A=u.inst;h=_(),A.destroy=h}u=u.next}while(u!==b)}}catch(R){Xe(s,s.return,R)}}function Gi(o,s,u){try{var h=s.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&o)===o){var A=h.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,b=s;var k=u,H=R;try{H()}catch(X){Xe(b,k,X)}}}h=h.next}while(h!==_)}}catch(X){Xe(s,s.return,X)}}function qS(o){var s=o.updateQueue;if(s!==null){var u=o.stateNode;try{Rw(s,u)}catch(h){Xe(o,o.return,h)}}}function $S(o,s,u){u.props=Lo(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(h){Xe(o,s,h)}}function gl(o,s){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof u=="function"?o.refCleanup=u(h):u.current=h}}catch(b){Xe(o,s,b)}}function qr(o,s){var u=o.ref,h=o.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(b){Xe(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Xe(o,s,b)}else u.current=null}function BS(o){var s=o.type,u=o.memoizedProps,h=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(b){Xe(o,o.return,b)}}function um(o,s,u){try{var h=o.stateNode;AU(h,o.type,u,s),h[En]=s}catch(b){Xe(o,o.return,b)}}function zS(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Wi(o.type)||o.tag===4}function cm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Wi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fm(o,s,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(o),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Kr));else if(h!==4&&(h===27&&Wi(o.type)&&(u=o.stateNode,s=null),o=o.child,o!==null))for(fm(o,s,u),o=o.sibling;o!==null;)fm(o,s,u),o=o.sibling}function Cc(o,s,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?u.insertBefore(o,s):u.appendChild(o);else if(h!==4&&(h===27&&Wi(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Cc(o,s,u),o=o.sibling;o!==null;)Cc(o,s,u),o=o.sibling}function HS(o){var s=o.stateNode,u=o.memoizedProps;try{for(var h=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);an(s,h,u),s[tn]=o,s[En]=u}catch(_){Xe(o,o.return,_)}}var ri=!1,Ot=!1,dm=!1,GS=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function iU(o,s){if(o=o.containerInfo,Pm=Yc,o=tw(o),op(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var b=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var A=0,R=-1,k=-1,H=0,X=0,ee=o,G=null;t:for(;;){for(var K;ee!==u||b!==0&&ee.nodeType!==3||(R=A+b),ee!==_||h!==0&&ee.nodeType!==3||(k=A+h),ee.nodeType===3&&(A+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===o)break t;if(G===u&&++H===b&&(R=A),G===_&&++X===h&&(k=A),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}u=R===-1||k===-1?null:{start:R,end:k}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dm={focusedElem:o,selectionRange:u},Yc=!1,Wt=s;Wt!==null;)if(s=Wt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Wt=o;else for(;Wt!==null;){switch(s=Wt,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(u=0;u<o.length;u++)b=o[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,u=s,b=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var he=Lo(u.type,b);o=h.getSnapshotBeforeUpdate(he,_),h.__reactInternalSnapshotBeforeUpdate=o}catch(_e){Xe(u,u.return,_e)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,u=o.nodeType,u===9)Lm(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Lm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Wt=o;break}Wt=s.return}}function VS(o,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:oi(o,u),h&4&&ml(5,u);break;case 1:if(oi(o,u),h&4)if(o=u.stateNode,s===null)try{o.componentDidMount()}catch(A){Xe(u,u.return,A)}else{var b=Lo(u.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(A){Xe(u,u.return,A)}}h&64&&qS(u),h&512&&gl(u,u.return);break;case 3:if(oi(o,u),h&64&&(o=u.updateQueue,o!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Rw(o,s)}catch(A){Xe(u,u.return,A)}}break;case 27:s===null&&h&4&&HS(u);case 26:case 5:oi(o,u),s===null&&h&4&&BS(u),h&512&&gl(u,u.return);break;case 12:oi(o,u);break;case 31:oi(o,u),h&4&&KS(o,u);break;case 13:oi(o,u),h&4&&YS(o,u),h&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=hU.bind(null,u),PU(o,u))));break;case 22:if(h=u.memoizedState!==null||ri,!h){s=s!==null&&s.memoizedState!==null||Ot,b=ri;var _=Ot;ri=h,(Ot=s)&&!_?ai(o,u,(u.subtreeFlags&8772)!==0):oi(o,u),ri=b,Ot=_}break;case 30:break;default:oi(o,u)}}function jS(o){var s=o.alternate;s!==null&&(o.alternate=null,jS(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Hh(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ft=null,An=!1;function ii(o,s,u){for(u=u.child;u!==null;)FS(o,s,u),u=u.sibling}function FS(o,s,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(wo,u)}catch{}switch(u.tag){case 26:Ot||qr(u,s),ii(o,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ot||qr(u,s);var h=ft,b=An;Wi(u.type)&&(ft=u.stateNode,An=!1),ii(o,s,u),Al(u.stateNode),ft=h,An=b;break;case 5:Ot||qr(u,s);case 6:if(h=ft,b=An,ft=null,ii(o,s,u),ft=h,An=b,ft!==null)if(An)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(u.stateNode)}catch(_){Xe(u,s,_)}else try{ft.removeChild(u.stateNode)}catch(_){Xe(u,s,_)}break;case 18:ft!==null&&(An?(o=ft,qE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Xa(o)):qE(ft,u.stateNode));break;case 4:h=ft,b=An,ft=u.stateNode.containerInfo,An=!0,ii(o,s,u),ft=h,An=b;break;case 0:case 11:case 14:case 15:Gi(2,u,s),Ot||Gi(4,u,s),ii(o,s,u);break;case 1:Ot||(qr(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&$S(u,s,h)),ii(o,s,u);break;case 21:ii(o,s,u);break;case 22:Ot=(h=Ot)||u.memoizedState!==null,ii(o,s,u),Ot=h;break;default:ii(o,s,u)}}function KS(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Xa(o)}catch(u){Xe(s,s.return,u)}}}function YS(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Xa(o)}catch(u){Xe(s,s.return,u)}}function oU(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new GS),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new GS),s;default:throw Error(r(435,o.tag))}}function Rc(o,s){var u=oU(o);s.forEach(function(h){if(!u.has(h)){u.add(h);var b=pU.bind(null,o,h);h.then(b,b)}})}function xn(o,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var b=u[h],_=o,A=s,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(Wi(R.type)){ft=R.stateNode,An=!1;break e}break;case 5:ft=R.stateNode,An=!1;break e;case 3:case 4:ft=R.stateNode.containerInfo,An=!0;break e}R=R.return}if(ft===null)throw Error(r(160));FS(_,A,b),ft=null,An=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)JS(s,o),s=s.sibling}var yr=null;function JS(o,s){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:xn(s,o),Cn(o),h&4&&(Gi(3,o,o.return),ml(3,o),Gi(5,o,o.return));break;case 1:xn(s,o),Cn(o),h&512&&(Ot||u===null||qr(u,u.return)),h&64&&ri&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var b=yr;if(xn(s,o),Cn(o),h&512&&(Ot||u===null||qr(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=o.memoizedState,u===null)if(h===null)if(o.stateNode===null){e:{h=o.type,u=o.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":_=b.getElementsByTagName("title")[0],(!_||_[Gs]||_[tn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(h),b.head.insertBefore(_,b.querySelector("head > title"))),an(_,h,u),_[tn]=o,Jt(_),h=_;break e;case"link":var A=JE("link","href",b).get(h+(u.href||""));if(A){for(var R=0;R<A.length;R++)if(_=A[R],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(R,1);break t}}_=b.createElement(h),an(_,h,u),b.head.appendChild(_);break;case"meta":if(A=JE("meta","content",b).get(h+(u.content||""))){for(R=0;R<A.length;R++)if(_=A[R],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(R,1);break t}}_=b.createElement(h),an(_,h,u),b.head.appendChild(_);break;default:throw Error(r(468,h))}_[tn]=o,Jt(_),h=_}o.stateNode=h}else WE(b,o.type,o.stateNode);else o.stateNode=YE(b,h,o.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?WE(b,o.type,o.stateNode):YE(b,h,o.memoizedProps)):h===null&&o.stateNode!==null&&um(o,o.memoizedProps,u.memoizedProps)}break;case 27:xn(s,o),Cn(o),h&512&&(Ot||u===null||qr(u,u.return)),u!==null&&h&4&&um(o,o.memoizedProps,u.memoizedProps);break;case 5:if(xn(s,o),Cn(o),h&512&&(Ot||u===null||qr(u,u.return)),o.flags&32){b=o.stateNode;try{_a(b,"")}catch(he){Xe(o,o.return,he)}}h&4&&o.stateNode!=null&&(b=o.memoizedProps,um(o,b,u!==null?u.memoizedProps:b)),h&1024&&(dm=!0);break;case 6:if(xn(s,o),Cn(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,u=o.stateNode;try{u.nodeValue=h}catch(he){Xe(o,o.return,he)}}break;case 3:if(Vc=null,b=yr,yr=Hc(s.containerInfo),xn(s,o),yr=b,Cn(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xa(s.containerInfo)}catch(he){Xe(o,o.return,he)}dm&&(dm=!1,WS(o));break;case 4:h=yr,yr=Hc(o.stateNode.containerInfo),xn(s,o),Cn(o),yr=h;break;case 12:xn(s,o),Cn(o);break;case 31:xn(s,o),Cn(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Rc(o,h)));break;case 13:xn(s,o),Cn(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mc=pn()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Rc(o,h)));break;case 22:b=o.memoizedState!==null;var k=u!==null&&u.memoizedState!==null,H=ri,X=Ot;if(ri=H||b,Ot=X||k,xn(s,o),Ot=X,ri=H,Cn(o),h&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(u===null||k||ri||Ot||qo(o)),u=null,s=o;;){if(s.tag===5||s.tag===26){if(u===null){k=u=s;try{if(_=k.stateNode,b)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=k.stateNode;var ee=k.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;R.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Xe(k,k.return,he)}}}else if(s.tag===6){if(u===null){k=s;try{k.stateNode.nodeValue=b?"":k.memoizedProps}catch(he){Xe(k,k.return,he)}}}else if(s.tag===18){if(u===null){k=s;try{var K=k.stateNode;b?$E(K,!0):$E(k.stateNode,!1)}catch(he){Xe(k,k.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=o.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Rc(o,u))));break;case 19:xn(s,o),Cn(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Rc(o,h)));break;case 30:break;case 21:break;default:xn(s,o),Cn(o)}}function Cn(o){var s=o.flags;if(s&2){try{for(var u,h=o.return;h!==null;){if(zS(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,_=cm(o);Cc(o,_,b);break;case 5:var A=u.stateNode;u.flags&32&&(_a(A,""),u.flags&=-33);var R=cm(o);Cc(o,R,A);break;case 3:case 4:var k=u.stateNode.containerInfo,H=cm(o);fm(o,H,k);break;default:throw Error(r(161))}}catch(X){Xe(o,o.return,X)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function WS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;WS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function oi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)VS(o,s.alternate,s),s=s.sibling}function qo(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Gi(4,s,s.return),qo(s);break;case 1:qr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&$S(s,s.return,u),qo(s);break;case 27:Al(s.stateNode);case 26:case 5:qr(s,s.return),qo(s);break;case 22:s.memoizedState===null&&qo(s);break;case 30:qo(s);break;default:qo(s)}o=o.sibling}}function ai(o,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,b=o,_=s,A=_.flags;switch(_.tag){case 0:case 11:case 15:ai(b,_,u),ml(4,_);break;case 1:if(ai(b,_,u),h=_,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(H){Xe(h,h.return,H)}if(h=_,b=h.updateQueue,b!==null){var R=h.stateNode;try{var k=b.shared.hiddenCallbacks;if(k!==null)for(b.shared.hiddenCallbacks=null,b=0;b<k.length;b++)Cw(k[b],R)}catch(H){Xe(h,h.return,H)}}u&&A&64&&qS(_),gl(_,_.return);break;case 27:HS(_);case 26:case 5:ai(b,_,u),u&&h===null&&A&4&&BS(_),gl(_,_.return);break;case 12:ai(b,_,u);break;case 31:ai(b,_,u),u&&A&4&&KS(b,_);break;case 13:ai(b,_,u),u&&A&4&&YS(b,_);break;case 22:_.memoizedState===null&&ai(b,_,u),gl(_,_.return);break;case 30:break;default:ai(b,_,u)}s=s.sibling}}function hm(o,s){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&nl(u))}function pm(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&nl(o))}function br(o,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)XS(o,s,u,h),s=s.sibling}function XS(o,s,u,h){var b=s.flags;switch(s.tag){case 0:case 11:case 15:br(o,s,u,h),b&2048&&ml(9,s);break;case 1:br(o,s,u,h);break;case 3:br(o,s,u,h),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&nl(o)));break;case 12:if(b&2048){br(o,s,u,h),o=s.stateNode;try{var _=s.memoizedProps,A=_.id,R=_.onPostCommit;typeof R=="function"&&R(A,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(k){Xe(s,s.return,k)}}else br(o,s,u,h);break;case 31:br(o,s,u,h);break;case 13:br(o,s,u,h);break;case 23:break;case 22:_=s.stateNode,A=s.alternate,s.memoizedState!==null?_._visibility&2?br(o,s,u,h):vl(o,s):_._visibility&2?br(o,s,u,h):(_._visibility|=2,Ba(o,s,u,h,(s.subtreeFlags&10256)!==0||!1)),b&2048&&hm(A,s);break;case 24:br(o,s,u,h),b&2048&&pm(s.alternate,s);break;default:br(o,s,u,h)}}function Ba(o,s,u,h,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,A=s,R=u,k=h,H=A.flags;switch(A.tag){case 0:case 11:case 15:Ba(_,A,R,k,b),ml(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?Ba(_,A,R,k,b):vl(_,A):(X._visibility|=2,Ba(_,A,R,k,b)),b&&H&2048&&hm(A.alternate,A);break;case 24:Ba(_,A,R,k,b),b&&H&2048&&pm(A.alternate,A);break;default:Ba(_,A,R,k,b)}s=s.sibling}}function vl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=o,h=s,b=h.flags;switch(h.tag){case 22:vl(u,h),b&2048&&hm(h.alternate,h);break;case 24:vl(u,h),b&2048&&pm(h.alternate,h);break;default:vl(u,h)}s=s.sibling}}var yl=8192;function za(o,s,u){if(o.subtreeFlags&yl)for(o=o.child;o!==null;)QS(o,s,u),o=o.sibling}function QS(o,s,u){switch(o.tag){case 26:za(o,s,u),o.flags&yl&&o.memoizedState!==null&&jU(u,yr,o.memoizedState,o.memoizedProps);break;case 5:za(o,s,u);break;case 3:case 4:var h=yr;yr=Hc(o.stateNode.containerInfo),za(o,s,u),yr=h;break;case 22:o.memoizedState===null&&(h=o.alternate,h!==null&&h.memoizedState!==null?(h=yl,yl=16777216,za(o,s,u),yl=h):za(o,s,u));break;default:za(o,s,u)}}function ZS(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function bl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Wt=h,tE(h,o)}ZS(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eE(o),o=o.sibling}function eE(o){switch(o.tag){case 0:case 11:case 15:bl(o),o.flags&2048&&Gi(9,o,o.return);break;case 3:bl(o);break;case 12:bl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Nc(o)):bl(o);break;default:bl(o)}}function Nc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Wt=h,tE(h,o)}ZS(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Gi(8,s,s.return),Nc(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Nc(s));break;default:Nc(s)}o=o.sibling}}function tE(o,s){for(;Wt!==null;){var u=Wt;switch(u.tag){case 0:case 11:case 15:Gi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:nl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Wt=h;else e:for(u=o;Wt!==null;){h=Wt;var b=h.sibling,_=h.return;if(jS(h),h===u){Wt=null;break e}if(b!==null){b.return=_,Wt=b;break e}Wt=_}}}var aU={getCacheForType:function(o){var s=rn(Nt),u=s.data.get(o);return u===void 0&&(u=o(),s.data.set(o,u)),u},cacheSignal:function(){return rn(Nt).controller.signal}},sU=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Le=null,$e=0,We=0,Ln=null,Vi=!1,Ha=!1,mm=!1,si=0,bt=0,ji=0,$o=0,gm=0,qn=0,Ga=0,_l=null,Rn=null,vm=!1,Mc=0,nE=0,Ic=1/0,Oc=null,Fi=null,Bt=0,Ki=null,Va=null,li=0,ym=0,bm=null,rE=null,wl=0,_m=null;function $n(){return(Ke&2)!==0&&$e!==0?$e&-$e:B.T!==null?xm():b_()}function iE(){if(qn===0)if(($e&536870912)===0||ze){var o=ve;ve<<=1,(ve&3932160)===0&&(ve=262144),qn=o}else qn=536870912;return o=kn.current,o!==null&&(o.flags|=32),qn}function Nn(o,s,u){(o===rt&&(We===2||We===9)||o.cancelPendingCommit!==null)&&(ja(o,0),Yi(o,$e,qn,!1)),Hs(o,u),((Ke&2)===0||o!==rt)&&(o===rt&&((Ke&2)===0&&($o|=u),bt===4&&Yi(o,$e,qn,!1)),$r(o))}function oE(o,s,u){if((Ke&6)!==0)throw Error(r(327));var h=!u&&(s&127)===0&&(s&o.expiredLanes)===0||So(o,s),b=h?cU(o,s):Sm(o,s,!0),_=h;do{if(b===0){Ha&&!h&&Yi(o,s,0,!1);break}else{if(u=o.current.alternate,_&&!lU(u)){b=Sm(o,s,!1),_=!1;continue}if(b===2){if(_=s,o.errorRecoveryDisabledLanes&_)var A=0;else A=o.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var R=o;b=_l;var k=R.current.memoizedState.isDehydrated;if(k&&(ja(R,A).flags|=256),A=Sm(R,A,!1),A!==2){if(mm&&!k){R.errorRecoveryDisabledLanes|=_,$o|=_,b=4;break e}_=Rn,Rn=b,_!==null&&(Rn===null?Rn=_:Rn.push.apply(Rn,_))}b=A}if(_=!1,b!==2)continue}}if(b===1){ja(o,0),Yi(o,s,0,!0);break}e:{switch(h=o,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(h,s,qn,!Vi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Mc+300-pn(),10<b)){if(Yi(h,s,qn,!Vi),vn(h,0,!0)!==0)break e;li=s,h.timeoutHandle=UE(aE.bind(null,h,u,Rn,Oc,vm,s,qn,$o,Ga,Vi,_,"Throttled",-0,0),b);break e}aE(h,u,Rn,Oc,vm,s,qn,$o,Ga,Vi,_,null,-0,0)}}break}while(!0);$r(o)}function aE(o,s,u,h,b,_,A,R,k,H,X,ee,G,K){if(o.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kr},QS(s,_,ee);var he=(_&62914560)===_?Mc-pn():(_&4194048)===_?nE-pn():0;if(he=FU(ee,he),he!==null){li=_,o.cancelPendingCommit=he(pE.bind(null,o,s,_,u,h,b,A,R,k,X,ee,null,G,K)),Yi(o,_,A,!H);return}}pE(o,s,_,u,h,b,A,R,k)}function lU(o){for(var s=o;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var b=u[h],_=b.getSnapshot;b=b.value;try{if(!Pn(_(),b))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(o,s,u,h){s&=~gm,s&=~$o,o.suspendedLanes|=s,o.pingedLanes&=~s,h&&(o.warmLanes|=s),h=o.expirationTimes;for(var b=s;0<b;){var _=31-gn(b),A=1<<_;h[_]=-1,b&=~A}u!==0&&g_(o,u,s)}function Pc(){return(Ke&6)===0?(Sl(0),!1):!0}function wm(){if(Le!==null){if(We===0)var o=Le.return;else o=Le,Xr=Mo=null,Lp(o),ka=null,il=0,o=Le;for(;o!==null;)LS(o.alternate,o),o=o.return;Le=null}}function ja(o,s){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,RU(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),li=0,wm(),rt=o,Le=u=Jr(o.current,null),$e=s,We=0,Ln=null,Vi=!1,Ha=So(o,s),mm=!1,Ga=qn=gm=$o=ji=bt=0,Rn=_l=null,vm=!1,(s&8)!==0&&(s|=s&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=s;0<h;){var b=31-gn(h),_=1<<b;s|=o[b],h&=~_}return si=s,ec(),u}function sE(o,s){Pe=null,B.H=dl,s===Da||s===lc?(s=Ew(),We=3):s===Ap?(s=Ew(),We=4):We=s===Zp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Le===null&&(bt=1,Sc(o,er(s,o.current)))}function lE(){var o=kn.current;return o===null?!0:($e&4194048)===$e?ir===null:($e&62914560)===$e||($e&536870912)!==0?o===ir:!1}function uE(){var o=B.H;return B.H=dl,o===null?dl:o}function cE(){var o=B.A;return B.A=aU,o}function Dc(){bt=4,Vi||($e&4194048)!==$e&&kn.current!==null||(Ha=!0),(ji&134217727)===0&&($o&134217727)===0||rt===null||Yi(rt,$e,qn,!1)}function Sm(o,s,u){var h=Ke;Ke|=2;var b=uE(),_=cE();(rt!==o||$e!==s)&&(Oc=null,ja(o,s)),s=!1;var A=bt;e:do try{if(We!==0&&Le!==null){var R=Le,k=Ln;switch(We){case 8:wm(),A=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var H=We;if(We=0,Ln=null,Fa(o,R,k,H),u&&Ha){A=0;break e}break;default:H=We,We=0,Ln=null,Fa(o,R,k,H)}}uU(),A=bt;break}catch(X){sE(o,X)}while(!0);return s&&o.shellSuspendCounter++,Xr=Mo=null,Ke=h,B.H=b,B.A=_,Le===null&&(rt=null,$e=0,ec()),A}function uU(){for(;Le!==null;)fE(Le)}function cU(o,s){var u=Ke;Ke|=2;var h=uE(),b=cE();rt!==o||$e!==s?(Oc=null,Ic=pn()+500,ja(o,s)):Ha=So(o,s);e:do try{if(We!==0&&Le!==null){s=Le;var _=Ln;t:switch(We){case 1:We=0,Ln=null,Fa(o,s,_,1);break;case 2:case 9:if(ww(_)){We=0,Ln=null,dE(s);break}s=function(){We!==2&&We!==9||rt!==o||(We=7),$r(o)},_.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:ww(_)?(We=0,Ln=null,dE(s)):(We=0,Ln=null,Fa(o,s,_,7));break;case 5:var A=null;switch(Le.tag){case 26:A=Le.memoizedState;case 5:case 27:var R=Le;if(A?XE(A):R.stateNode.complete){We=0,Ln=null;var k=R.sibling;if(k!==null)Le=k;else{var H=R.return;H!==null?(Le=H,kc(H)):Le=null}break t}}We=0,Ln=null,Fa(o,s,_,5);break;case 6:We=0,Ln=null,Fa(o,s,_,6);break;case 8:wm(),bt=6;break e;default:throw Error(r(462))}}fU();break}catch(X){sE(o,X)}while(!0);return Xr=Mo=null,B.H=h,B.A=b,Ke=u,Le!==null?0:(rt=null,$e=0,ec(),bt)}function fU(){for(;Le!==null&&!Oh();)fE(Le)}function fE(o){var s=kS(o.alternate,o,si);o.memoizedProps=o.pendingProps,s===null?kc(o):Le=s}function dE(o){var s=o,u=s.alternate;switch(s.tag){case 15:case 0:s=NS(u,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=NS(u,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Lp(s);default:LS(u,s),s=Le=cw(s,si),s=kS(u,s,si)}o.memoizedProps=o.pendingProps,s===null?kc(o):Le=s}function Fa(o,s,u,h){Xr=Mo=null,Lp(s),ka=null,il=0;var b=s.return;try{if(Z2(o,b,s,u,$e)){bt=1,Sc(o,er(u,o.current)),Le=null;return}}catch(_){if(b!==null)throw Le=b,_;bt=1,Sc(o,er(u,o.current)),Le=null;return}s.flags&32768?(ze||h===1?o=!0:Ha||($e&536870912)!==0?o=!1:(Vi=o=!0,(h===2||h===9||h===3||h===6)&&(h=kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),hE(s,o)):kc(s)}function kc(o){var s=o;do{if((s.flags&32768)!==0){hE(s,Vi);return}o=s.return;var u=nU(s.alternate,s,si);if(u!==null){Le=u;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=o}while(s!==null);bt===0&&(bt=5)}function hE(o,s){do{var u=rU(o.alternate,o);if(u!==null){u.flags&=32767,Le=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(o=o.sibling,o!==null)){Le=o;return}Le=o=u}while(o!==null);bt=6,Le=null}function pE(o,s,u,h,b,_,A,R,k){o.cancelPendingCommit=null;do Uc();while(Bt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=cp,Vk(o,u,_,A,R,k),o===rt&&(Le=rt=null,$e=0),Va=s,Ki=o,li=u,ym=_,bm=b,rE=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,mU(ha,function(){return bE(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,b=ne.p,ne.p=2,A=Ke,Ke|=4;try{iU(o,s,u)}finally{Ke=A,ne.p=b,B.T=h}}Bt=1,mE(),gE(),vE()}}function mE(){if(Bt===1){Bt=0;var o=Ki,s=Va,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var h=ne.p;ne.p=2;var b=Ke;Ke|=4;try{JS(s,o);var _=Dm,A=tw(o.containerInfo),R=_.focusedElem,k=_.selectionRange;if(A!==R&&R&&R.ownerDocument&&ew(R.ownerDocument.documentElement,R)){if(k!==null&&op(R)){var H=k.start,X=k.end;if(X===void 0&&(X=H),"selectionStart"in R)R.selectionStart=H,R.selectionEnd=Math.min(X,R.value.length);else{var ee=R.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),he=R.textContent.length,_e=Math.min(k.start,he),tt=k.end===void 0?_e:Math.min(k.end,he);!K.extend&&_e>tt&&(A=tt,tt=_e,_e=A);var $=Z_(R,_e),q=Z_(R,tt);if($&&q&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==q.node||K.focusOffset!==q.offset)){var z=ee.createRange();z.setStart($.node,$.offset),K.removeAllRanges(),_e>tt?(K.addRange(z),K.extend(q.node,q.offset)):(z.setEnd(q.node,q.offset),K.addRange(z))}}}}for(ee=[],K=R;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ee.length;R++){var Z=ee[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yc=!!Pm,Dm=Pm=null}finally{Ke=b,ne.p=h,B.T=u}}o.current=s,Bt=2}}function gE(){if(Bt===2){Bt=0;var o=Ki,s=Va,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var h=ne.p;ne.p=2;var b=Ke;Ke|=4;try{VS(o,s.alternate,s)}finally{Ke=b,ne.p=h,B.T=u}}Bt=3}}function vE(){if(Bt===4||Bt===3){Bt=0,Ph();var o=Ki,s=Va,u=li,h=rE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,Va=Ki=null,yE(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Fi=null),Bh(u),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(wo,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,b=ne.p,ne.p=2,B.T=null;try{for(var _=o.onRecoverableError,A=0;A<h.length;A++){var R=h[A];_(R.value,{componentStack:R.stack})}}finally{B.T=s,ne.p=b}}(li&3)!==0&&Uc(),$r(o),b=o.pendingLanes,(u&261930)!==0&&(b&42)!==0?o===_m?wl++:(wl=0,_m=o):wl=0,Sl(0)}}function yE(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,nl(s)))}function Uc(){return mE(),gE(),vE(),bE()}function bE(){if(Bt!==5)return!1;var o=Ki,s=ym;ym=0;var u=Bh(li),h=B.T,b=ne.p;try{ne.p=32>u?32:u,B.T=null,u=bm,bm=null;var _=Ki,A=li;if(Bt=0,Va=Ki=null,li=0,(Ke&6)!==0)throw Error(r(331));var R=Ke;if(Ke|=4,eE(_.current),XS(_,_.current,A,u),Ke=R,Sl(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(wo,_)}catch{}return!0}finally{ne.p=b,B.T=h,yE(o,s)}}function _E(o,s,u){s=er(u,s),s=Qp(o.stateNode,s,2),o=Bi(o,s,2),o!==null&&(Hs(o,2),$r(o))}function Xe(o,s,u){if(o.tag===3)_E(o,o,u);else for(;s!==null;){if(s.tag===3){_E(s,o,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fi===null||!Fi.has(h))){o=er(u,o),u=wS(2),h=Bi(s,u,2),h!==null&&(SS(u,h,s,o),Hs(h,2),$r(h));break}}s=s.return}}function Em(o,s,u){var h=o.pingCache;if(h===null){h=o.pingCache=new sU;var b=new Set;h.set(s,b)}else b=h.get(s),b===void 0&&(b=new Set,h.set(s,b));b.has(u)||(mm=!0,b.add(u),o=dU.bind(null,o,s,u),s.then(o,o))}function dU(o,s,u){var h=o.pingCache;h!==null&&h.delete(s),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,rt===o&&($e&u)===u&&(bt===4||bt===3&&($e&62914560)===$e&&300>pn()-Mc?(Ke&2)===0&&ja(o,0):gm|=u,Ga===$e&&(Ga=0)),$r(o)}function wE(o,s){s===0&&(s=m_()),o=Co(o,s),o!==null&&(Hs(o,s),$r(o))}function hU(o){var s=o.memoizedState,u=0;s!==null&&(u=s.retryLane),wE(o,u)}function pU(o,s){var u=0;switch(o.tag){case 31:case 13:var h=o.stateNode,b=o.memoizedState;b!==null&&(u=b.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),wE(o,u)}function mU(o,s){return da(o,s)}var Lc=null,Ka=null,Tm=!1,qc=!1,Am=!1,Ji=0;function $r(o){o!==Ka&&o.next===null&&(Ka===null?Lc=Ka=o:Ka=Ka.next=o),qc=!0,Tm||(Tm=!0,vU())}function Sl(o,s){if(!Am&&qc){Am=!0;do for(var u=!1,h=Lc;h!==null;){if(o!==0){var b=h.pendingLanes;if(b===0)var _=0;else{var A=h.suspendedLanes,R=h.pingedLanes;_=(1<<31-gn(42|o)+1)-1,_&=b&~(A&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,AE(h,_))}else _=$e,_=vn(h,h===rt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||So(h,_)||(u=!0,AE(h,_));h=h.next}while(u);Am=!1}}function gU(){SE()}function SE(){qc=Tm=!1;var o=0;Ji!==0&&CU()&&(o=Ji);for(var s=pn(),u=null,h=Lc;h!==null;){var b=h.next,_=EE(h,s);_===0?(h.next=null,u===null?Lc=b:u.next=b,b===null&&(Ka=u)):(u=h,(o!==0||(_&3)!==0)&&(qc=!0)),h=b}Bt!==0&&Bt!==5||Sl(o),Ji!==0&&(Ji=0)}function EE(o,s){for(var u=o.suspendedLanes,h=o.pingedLanes,b=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var A=31-gn(_),R=1<<A,k=b[A];k===-1?((R&u)===0||(R&h)!==0)&&(b[A]=Lh(R,s)):k<=s&&(o.expiredLanes|=R),_&=~R}if(s=rt,u=$e,u=vn(o,o===s?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,u===0||o===s&&(We===2||We===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&Dr(h),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||So(o,u)){if(s=u&-u,s===o.callbackPriority)return s;switch(h!==null&&Dr(h),Bh(u)){case 2:case 8:u=Bu;break;case 32:u=ha;break;case 268435456:u=zu;break;default:u=ha}return h=TE.bind(null,o),u=da(u,h),o.callbackPriority=s,o.callbackNode=u,s}return h!==null&&h!==null&&Dr(h),o.callbackPriority=2,o.callbackNode=null,2}function TE(o,s){if(Bt!==0&&Bt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Uc()&&o.callbackNode!==u)return null;var h=$e;return h=vn(o,o===rt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(oE(o,h,s),EE(o,pn()),o.callbackNode!=null&&o.callbackNode===u?TE.bind(null,o):null)}function AE(o,s){if(Uc())return null;oE(o,s,!0)}function vU(){NU(function(){(Ke&6)!==0?da($u,gU):SE()})}function xm(){if(Ji===0){var o=Oa;o===0&&(o=le,le<<=1,(le&261888)===0&&(le=256)),Ji=o}return Ji}function xE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Fu(""+o)}function CE(o,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,o.id&&u.setAttribute("form",o.id),s.parentNode.insertBefore(u,s),o=new FormData(o),u.parentNode.removeChild(u),o}function yU(o,s,u,h,b){if(s==="submit"&&u&&u.stateNode===b){var _=xE((b[En]||null).action),A=h.submitter;A&&(s=(s=A[En]||null)?xE(s.formAction):A.getAttribute("formAction"),s!==null&&(_=s,A=null));var R=new Wu("action","action",null,h,b);o.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ji!==0){var k=A?CE(b,A):new FormData(b);Fp(u,{pending:!0,data:k,method:b.method,action:_},null,k)}}else typeof _=="function"&&(R.preventDefault(),k=A?CE(b,A):new FormData(b),Fp(u,{pending:!0,data:k,method:b.method,action:_},_,k))},currentTarget:b}]})}}for(var Cm=0;Cm<up.length;Cm++){var Rm=up[Cm],bU=Rm.toLowerCase(),_U=Rm[0].toUpperCase()+Rm.slice(1);vr(bU,"on"+_U)}vr(iw,"onAnimationEnd"),vr(ow,"onAnimationIteration"),vr(aw,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(U2,"onTransitionRun"),vr(L2,"onTransitionStart"),vr(q2,"onTransitionCancel"),vr(sw,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function RE(o,s){s=(s&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],b=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var A=h.length-1;0<=A;A--){var R=h[A],k=R.instance,H=R.currentTarget;if(R=R.listener,k!==_&&b.isPropagationStopped())break e;_=R,b.currentTarget=H;try{_(b)}catch(X){Zu(X)}b.currentTarget=null,_=k}else for(A=0;A<h.length;A++){if(R=h[A],k=R.instance,H=R.currentTarget,R=R.listener,k!==_&&b.isPropagationStopped())break e;_=R,b.currentTarget=H;try{_(b)}catch(X){Zu(X)}b.currentTarget=null,_=k}}}}function qe(o,s){var u=s[zh];u===void 0&&(u=s[zh]=new Set);var h=o+"__bubble";u.has(h)||(NE(s,o,2,!1),u.add(h))}function Nm(o,s,u){var h=0;s&&(h|=4),NE(u,o,h,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Mm(o){if(!o[$c]){o[$c]=!0,S_.forEach(function(u){u!=="selectionchange"&&(wU.has(u)||Nm(u,!1,o),Nm(u,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[$c]||(s[$c]=!0,Nm("selectionchange",!1,s))}}function NE(o,s,u,h){switch(iT(s)){case 2:var b=JU;break;case 8:b=WU;break;default:b=jm}u=b.bind(null,s,u,o),b=void 0,!Wh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),h?b!==void 0?o.addEventListener(s,u,{capture:!0,passive:b}):o.addEventListener(s,u,!0):b!==void 0?o.addEventListener(s,u,{passive:b}):o.addEventListener(s,u,!1)}function Im(o,s,u,h,b){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var R=h.stateNode.containerInfo;if(R===b)break;if(A===4)for(A=h.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;R!==null;){if(A=ma(R),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){h=_=A;continue e}R=R.parentNode}}h=h.return}D_(function(){var H=_,X=Yh(u),ee=[];e:{var G=lw.get(o);if(G!==void 0){var K=Wu,he=o;switch(o){case"keypress":if(Yu(u)===0)break e;case"keydown":case"keyup":K=p2;break;case"focusin":he="focus",K=ep;break;case"focusout":he="blur",K=ep;break;case"beforeblur":case"afterblur":K=ep;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=L_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=n2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v2;break;case iw:case ow:case aw:K=o2;break;case sw:K=b2;break;case"scroll":case"scrollend":K=e2;break;case"wheel":K=w2;break;case"copy":case"cut":case"paste":K=s2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$_;break;case"toggle":case"beforetoggle":K=E2}var _e=(s&4)!==0,tt=!_e&&(o==="scroll"||o==="scrollend"),$=_e?G!==null?G+"Capture":null:G;_e=[];for(var q=H,z;q!==null;){var Z=q;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||$===null||(Z=js(q,$),Z!=null&&_e.push(Tl(q,Z,z))),tt)break;q=q.return}0<_e.length&&(G=new K(G,he,null,u,X),ee.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=o==="mouseover"||o==="pointerover",K=o==="mouseout"||o==="pointerout",G&&u!==Kh&&(he=u.relatedTarget||u.fromElement)&&(ma(he)||he[pa]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(he=u.relatedTarget||u.toElement,K=H,he=he?ma(he):null,he!==null&&(tt=a(he),_e=he.tag,he!==tt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(K=null,he=H),K!==he)){if(_e=L_,Z="onMouseLeave",$="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(_e=$_,Z="onPointerLeave",$="onPointerEnter",q="pointer"),tt=K==null?G:Vs(K),z=he==null?G:Vs(he),G=new _e(Z,q+"leave",K,u,X),G.target=tt,G.relatedTarget=z,Z=null,ma(X)===H&&(_e=new _e($,q+"enter",he,u,X),_e.target=z,_e.relatedTarget=tt,Z=_e),tt=Z,K&&he)t:{for(_e=SU,$=K,q=he,z=0,Z=$;Z;Z=_e(Z))z++;Z=0;for(var ye=q;ye;ye=_e(ye))Z++;for(;0<z-Z;)$=_e($),z--;for(;0<Z-z;)q=_e(q),Z--;for(;z--;){if($===q||q!==null&&$===q.alternate){_e=$;break t}$=_e($),q=_e(q)}_e=null}else _e=null;K!==null&&ME(ee,G,K,_e,!1),he!==null&&tt!==null&&ME(ee,tt,he,_e,!0)}}e:{if(G=H?Vs(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ge=K_;else if(j_(G))if(Y_)Ge=P2;else{Ge=I2;var pe=M2}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Fh(H.elementType)&&(Ge=K_):Ge=O2;if(Ge&&(Ge=Ge(o,H))){F_(ee,Ge,u,X);break e}pe&&pe(o,G,H),o==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&jh(G,"number",G.value)}switch(pe=H?Vs(H):window,o){case"focusin":(j_(pe)||pe.contentEditable==="true")&&(Ta=pe,ap=H,Zs=null);break;case"focusout":Zs=ap=Ta=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,nw(ee,u,X);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":nw(ee,u,X)}var De;if(np)e:{switch(o){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ea?G_(o,u)&&(Be="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(B_&&u.locale!=="ko"&&(Ea||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ea&&(De=k_()):(Pi=X,Xh="value"in Pi?Pi.value:Pi.textContent,Ea=!0)),pe=Bc(H,Be),0<pe.length&&(Be=new q_(Be,o,null,u,X),ee.push({event:Be,listeners:pe}),De?Be.data=De:(De=V_(u),De!==null&&(Be.data=De)))),(De=A2?x2(o,u):C2(o,u))&&(Be=Bc(H,"onBeforeInput"),0<Be.length&&(pe=new q_("onBeforeInput","beforeinput",null,u,X),ee.push({event:pe,listeners:Be}),pe.data=De)),yU(ee,o,H,u,X)}RE(ee,s)})}function Tl(o,s,u){return{instance:o,listener:s,currentTarget:u}}function Bc(o,s){for(var u=s+"Capture",h=[];o!==null;){var b=o,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=js(o,u),b!=null&&h.unshift(Tl(o,b,_)),b=js(o,s),b!=null&&h.push(Tl(o,b,_))),o.tag===3)return h;o=o.return}return[]}function SU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ME(o,s,u,h,b){for(var _=s._reactName,A=[];u!==null&&u!==h;){var R=u,k=R.alternate,H=R.stateNode;if(R=R.tag,k!==null&&k===h)break;R!==5&&R!==26&&R!==27||H===null||(k=H,b?(H=js(u,_),H!=null&&A.unshift(Tl(u,H,k))):b||(H=js(u,_),H!=null&&A.push(Tl(u,H,k)))),u=u.return}A.length!==0&&o.push({event:s,listeners:A})}var EU=/\r\n?/g,TU=/\u0000|\uFFFD/g;function IE(o){return(typeof o=="string"?o:""+o).replace(EU,`
`).replace(TU,"")}function OE(o,s){return s=IE(s),IE(o)===s}function et(o,s,u,h,b,_){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||_a(o,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&_a(o,""+h);break;case"className":Vu(o,"class",h);break;case"tabIndex":Vu(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Vu(o,u,h);break;case"style":O_(o,h,_);break;case"data":if(s!=="object"){Vu(o,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){o.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Fu(""+h),o.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&et(o,s,"name",b.name,b,null),et(o,s,"formEncType",b.formEncType,b,null),et(o,s,"formMethod",b.formMethod,b,null),et(o,s,"formTarget",b.formTarget,b,null)):(et(o,s,"encType",b.encType,b,null),et(o,s,"method",b.method,b,null),et(o,s,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Fu(""+h),o.setAttribute(u,h);break;case"onClick":h!=null&&(o.onclick=Kr);break;case"onScroll":h!=null&&qe("scroll",o);break;case"onScrollEnd":h!=null&&qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}u=Fu(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""+h):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":h===!0?o.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,h):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(u,h):o.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(u):o.setAttribute(u,h);break;case"popover":qe("beforetoggle",o),qe("toggle",o),Gu(o,"popover",h);break;case"xlinkActuate":Fr(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Fr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Fr(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Fr(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Fr(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Fr(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Fr(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Fr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Fr(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Gu(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Qk.get(u)||u,Gu(o,u,h))}}function Om(o,s,u,h,b,_){switch(u){case"style":O_(o,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof h=="string"?_a(o,h):(typeof h=="number"||typeof h=="bigint")&&_a(o,""+h);break;case"onScroll":h!=null&&qe("scroll",o);break;case"onScrollEnd":h!=null&&qe("scrollend",o);break;case"onClick":h!=null&&(o.onclick=Kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!E_.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),s=u.slice(2,b?u.length-7:void 0),_=o[En]||null,_=_!=null?_[u]:null,typeof _=="function"&&o.removeEventListener(s,_,b),typeof h=="function")){typeof _!="function"&&_!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(s,h,b);break e}u in o?o[u]=h:h===!0?o.setAttribute(u,""):Gu(o,u,h)}}}function an(o,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",o),qe("load",o);var h=!1,b=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var A=u[_];if(A!=null)switch(_){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(o,s,_,A,u,null)}}b&&et(o,s,"srcSet",u.srcSet,u,null),h&&et(o,s,"src",u.src,u,null);return;case"input":qe("invalid",o);var R=_=A=b=null,k=null,H=null;for(h in u)if(u.hasOwnProperty(h)){var X=u[h];if(X!=null)switch(h){case"name":b=X;break;case"type":A=X;break;case"checked":k=X;break;case"defaultChecked":H=X;break;case"value":_=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:et(o,s,h,X,u,null)}}R_(o,_,R,k,H,A,b,!1);return;case"select":qe("invalid",o),h=A=_=null;for(b in u)if(u.hasOwnProperty(b)&&(R=u[b],R!=null))switch(b){case"value":_=R;break;case"defaultValue":A=R;break;case"multiple":h=R;default:et(o,s,b,R,u,null)}s=_,u=A,o.multiple=!!h,s!=null?ba(o,!!h,s,!1):u!=null&&ba(o,!!h,u,!0);return;case"textarea":qe("invalid",o),_=b=h=null;for(A in u)if(u.hasOwnProperty(A)&&(R=u[A],R!=null))switch(A){case"value":h=R;break;case"defaultValue":b=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:et(o,s,A,R,u,null)}M_(o,h,b,_);return;case"option":for(k in u)if(u.hasOwnProperty(k)&&(h=u[k],h!=null))switch(k){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:et(o,s,k,h,u,null)}return;case"dialog":qe("beforetoggle",o),qe("toggle",o),qe("cancel",o),qe("close",o);break;case"iframe":case"object":qe("load",o);break;case"video":case"audio":for(h=0;h<El.length;h++)qe(El[h],o);break;case"image":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"embed":case"source":case"link":qe("error",o),qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(o,s,H,h,u,null)}return;default:if(Fh(s)){for(X in u)u.hasOwnProperty(X)&&(h=u[X],h!==void 0&&Om(o,s,X,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&et(o,s,R,h,u,null))}function AU(o,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,A=null,R=null,k=null,H=null,X=null;for(K in u){var ee=u[K];if(u.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=ee;default:h.hasOwnProperty(K)||et(o,s,K,null,h,ee)}}for(var G in h){var K=h[G];if(ee=u[G],h.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":_=K;break;case"name":b=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":A=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ee&&et(o,s,G,K,h,ee)}}Vh(o,A,R,k,H,X,_,b);return;case"select":K=A=R=G=null;for(_ in u)if(k=u[_],u.hasOwnProperty(_)&&k!=null)switch(_){case"value":break;case"multiple":K=k;default:h.hasOwnProperty(_)||et(o,s,_,null,h,k)}for(b in h)if(_=h[b],k=u[b],h.hasOwnProperty(b)&&(_!=null||k!=null))switch(b){case"value":G=_;break;case"defaultValue":R=_;break;case"multiple":A=_;default:_!==k&&et(o,s,b,_,h,k)}s=R,u=A,h=K,G!=null?ba(o,!!u,G,!1):!!h!=!!u&&(s!=null?ba(o,!!u,s,!0):ba(o,!!u,u?[]:"",!1));return;case"textarea":K=G=null;for(R in u)if(b=u[R],u.hasOwnProperty(R)&&b!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:et(o,s,R,null,h,b)}for(A in h)if(b=h[A],_=u[A],h.hasOwnProperty(A)&&(b!=null||_!=null))switch(A){case"value":G=b;break;case"defaultValue":K=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&et(o,s,A,b,h,_)}N_(o,G,K);return;case"option":for(var he in u)if(G=u[he],u.hasOwnProperty(he)&&G!=null&&!h.hasOwnProperty(he))switch(he){case"selected":o.selected=!1;break;default:et(o,s,he,null,h,G)}for(k in h)if(G=h[k],K=u[k],h.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":o.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(o,s,k,G,h,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in u)G=u[_e],u.hasOwnProperty(_e)&&G!=null&&!h.hasOwnProperty(_e)&&et(o,s,_e,null,h,G);for(H in h)if(G=h[H],K=u[H],h.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:et(o,s,H,G,h,K)}return;default:if(Fh(s)){for(var tt in u)G=u[tt],u.hasOwnProperty(tt)&&G!==void 0&&!h.hasOwnProperty(tt)&&Om(o,s,tt,void 0,h,G);for(X in h)G=h[X],K=u[X],!h.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Om(o,s,X,G,h,K);return}}for(var $ in u)G=u[$],u.hasOwnProperty($)&&G!=null&&!h.hasOwnProperty($)&&et(o,s,$,null,h,G);for(ee in h)G=h[ee],K=u[ee],!h.hasOwnProperty(ee)||G===K||G==null&&K==null||et(o,s,ee,G,h,K)}function PE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var b=u[h],_=b.transferSize,A=b.initiatorType,R=b.duration;if(_&&R&&PE(A)){for(A=0,R=b.responseEnd,h+=1;h<u.length;h++){var k=u[h],H=k.startTime;if(H>R)break;var X=k.transferSize,ee=k.initiatorType;X&&PE(ee)&&(k=k.responseEnd,A+=X*(k<R?1:(R-H)/(k-H)))}if(--h,s+=8*(_+A)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Pm=null,Dm=null;function zc(o){return o.nodeType===9?o:o.ownerDocument}function DE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function km(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Um=null;function CU(){var o=window.event;return o&&o.type==="popstate"?o===Um?!1:(Um=o,!0):(Um=null,!1)}var UE=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,LE=typeof Promise=="function"?Promise:void 0,NU=typeof queueMicrotask=="function"?queueMicrotask:typeof LE<"u"?function(o){return LE.resolve(null).then(o).catch(MU)}:UE;function MU(o){setTimeout(function(){throw o})}function Wi(o){return o==="head"}function qE(o,s){var u=s,h=0;do{var b=u.nextSibling;if(o.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(h===0){o.removeChild(b),Xa(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Al(o.ownerDocument.documentElement);else if(u==="head"){u=o.ownerDocument.head,Al(u);for(var _=u.firstChild;_;){var A=_.nextSibling,R=_.nodeName;_[Gs]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=A}}else u==="body"&&Al(o.ownerDocument.body);u=b}while(u);Xa(s)}function $E(o,s){var u=o;o=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(o===0)break;o--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||o++;u=h}while(u)}function Lm(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lm(u),Hh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function IU(o,s,u,h){for(;o.nodeType===1;){var b=u;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[Gs])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=or(o.nextSibling),o===null)break}return null}function OU(o,s,u){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=or(o.nextSibling),o===null))return null;return o}function BE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=or(o.nextSibling),o===null))return null;return o}function qm(o){return o.data==="$?"||o.data==="$~"}function $m(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function PU(o,s){var u=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function or(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Bm=null;function zE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"||u==="/&"){if(s===0)return or(o.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}o=o.nextSibling}return null}function HE(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return o;s--}else u!=="/$"&&u!=="/&"||s++}o=o.previousSibling}return null}function GE(o,s,u){switch(s=zc(u),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Al(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Hh(o)}var ar=new Map,VE=new Set;function Hc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ui=ne.d;ne.d={f:DU,r:kU,D:UU,C:LU,L:qU,m:$U,X:zU,S:BU,M:HU};function DU(){var o=ui.f(),s=Pc();return o||s}function kU(o){var s=ga(o);s!==null&&s.tag===5&&s.type==="form"?sS(s):ui.r(o)}var Ya=typeof document>"u"?null:document;function jE(o,s,u){var h=Ya;if(h&&typeof s=="string"&&s){var b=Qn(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),VE.has(b)||(VE.add(b),o={rel:o,crossOrigin:u,href:s},h.querySelector(b)===null&&(s=h.createElement("link"),an(s,"link",o),Jt(s),h.head.appendChild(s)))}}function UU(o){ui.D(o),jE("dns-prefetch",o,null)}function LU(o,s){ui.C(o,s),jE("preconnect",o,s)}function qU(o,s,u){ui.L(o,s,u);var h=Ya;if(h&&o&&s){var b='link[rel="preload"][as="'+Qn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Qn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Qn(u.imageSizes)+'"]')):b+='[href="'+Qn(o)+'"]';var _=b;switch(s){case"style":_=Ja(o);break;case"script":_=Wa(o)}ar.has(_)||(o=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:o,as:s},u),ar.set(_,o),h.querySelector(b)!==null||s==="style"&&h.querySelector(xl(_))||s==="script"&&h.querySelector(Cl(_))||(s=h.createElement("link"),an(s,"link",o),Jt(s),h.head.appendChild(s)))}}function $U(o,s){ui.m(o,s);var u=Ya;if(u&&o){var h=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+Qn(h)+'"][href="'+Qn(o)+'"]',_=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Wa(o)}if(!ar.has(_)&&(o=g({rel:"modulepreload",href:o},s),ar.set(_,o),u.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Cl(_)))return}h=u.createElement("link"),an(h,"link",o),Jt(h),u.head.appendChild(h)}}}function BU(o,s,u){ui.S(o,s,u);var h=Ya;if(h&&o){var b=va(h).hoistableStyles,_=Ja(o);s=s||"default";var A=b.get(_);if(!A){var R={loading:0,preload:null};if(A=h.querySelector(xl(_)))R.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":s},u),(u=ar.get(_))&&zm(o,u);var k=A=h.createElement("link");Jt(k),an(k,"link",o),k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Gc(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:R},b.set(_,A)}}}function zU(o,s){ui.X(o,s);var u=Ya;if(u&&o){var h=va(u).hoistableScripts,b=Wa(o),_=h.get(b);_||(_=u.querySelector(Cl(b)),_||(o=g({src:o,async:!0},s),(s=ar.get(b))&&Hm(o,s),_=u.createElement("script"),Jt(_),an(_,"link",o),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function HU(o,s){ui.M(o,s);var u=Ya;if(u&&o){var h=va(u).hoistableScripts,b=Wa(o),_=h.get(b);_||(_=u.querySelector(Cl(b)),_||(o=g({src:o,async:!0,type:"module"},s),(s=ar.get(b))&&Hm(o,s),_=u.createElement("script"),Jt(_),an(_,"link",o),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function FE(o,s,u,h){var b=(b=xe.current)?Hc(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Ja(u.href),u=va(b).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=Ja(u.href);var _=va(b).hoistableStyles,A=_.get(o);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,A),(_=b.querySelector(xl(o)))&&!_._p&&(A.instance=_,A.state.loading=5),ar.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ar.set(o,u),_||GU(b,o,u,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(u),u=va(b).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ja(o){return'href="'+Qn(o)+'"'}function xl(o){return'link[rel="stylesheet"]['+o+"]"}function KE(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function GU(o,s,u,h){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=o.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),an(s,"link",u),Jt(s),o.head.appendChild(s))}function Wa(o){return'[src="'+Qn(o)+'"]'}function Cl(o){return"script[async]"+o}function YE(o,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=o.querySelector('style[data-href~="'+Qn(u.href)+'"]');if(h)return s.instance=h,Jt(h),h;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),Jt(h),an(h,"style",b),Gc(h,u.precedence,o),s.instance=h;case"stylesheet":b=Ja(u.href);var _=o.querySelector(xl(b));if(_)return s.state.loading|=4,s.instance=_,Jt(_),_;h=KE(u),(b=ar.get(b))&&zm(h,b),_=(o.ownerDocument||o).createElement("link"),Jt(_);var A=_;return A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),an(_,"link",h),s.state.loading|=4,Gc(_,u.precedence,o),s.instance=_;case"script":return _=Wa(u.src),(b=o.querySelector(Cl(_)))?(s.instance=b,Jt(b),b):(h=u,(b=ar.get(_))&&(h=g({},u),Hm(h,b)),o=o.ownerDocument||o,b=o.createElement("script"),Jt(b),an(b,"link",h),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Gc(h,u.precedence,o));return s.instance}function Gc(o,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,_=b,A=0;A<h.length;A++){var R=h[A];if(R.dataset.precedence===s)_=R;else if(_!==b)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(o,s.firstChild))}function zm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Hm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Vc=null;function JE(o,s,u){if(Vc===null){var h=new Map,b=Vc=new Map;b.set(u,h)}else b=Vc,h=b.get(u),h||(h=new Map,b.set(u,h));if(h.has(o))return h;for(h.set(o,null),u=u.getElementsByTagName(o),b=0;b<u.length;b++){var _=u[b];if(!(_[Gs]||_[tn]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(s)||"";A=o+A;var R=h.get(A);R?R.push(_):h.set(A,[_])}}return h}function WE(o,s,u){o=o.ownerDocument||o,o.head.insertBefore(u,s==="title"?o.querySelector("head > title"):null)}function VU(o,s,u){if(u===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function XE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function jU(o,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Ja(h.href),_=s.querySelector(xl(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=jc.bind(o),s.then(o,o)),u.state.loading|=4,u.instance=_,Jt(_);return}_=s.ownerDocument||s,h=KE(h),(b=ar.get(b))&&zm(h,b),_=_.createElement("link"),Jt(_);var A=_;A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),an(_,"link",h),u.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(o.count++,u=jc.bind(o),s.addEventListener("load",u),s.addEventListener("error",u))}}var Gm=0;function FU(o,s){return o.stylesheets&&o.count===0&&Kc(o,o.stylesheets),0<o.count||0<o.imgCount?function(u){var h=setTimeout(function(){if(o.stylesheets&&Kc(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&Gm===0&&(Gm=62500*xU());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Kc(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Gm?50:800)+s);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Fc=null;function Kc(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Fc=new Map,s.forEach(KU,o),Fc=null,jc.call(o))}function KU(o,s){if(!(s.state.loading&4)){var u=Fc.get(o);if(u)var h=u.get(null);else{u=new Map,Fc.set(o,u);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var A=b[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}b=s.instance,A=b.getAttribute("data-precedence"),_=u.get(A)||h,_===h&&u.set(null,b),u.set(A,b),this.count++,h=jc.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),_?_.parentNode.insertBefore(b,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var Rl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function YU(o,s,u,h,b,_,A,R,k){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.hiddenUpdates=qh(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function QE(o,s,u,h,b,_,A,R,k,H,X,ee){return o=new YU(o,s,u,A,k,H,X,ee,R),s=1,_===!0&&(s|=24),_=Dn(3,null,null,s),o.current=_,_.stateNode=o,s=Sp(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:s},xp(_),o}function ZE(o){return o?(o=Ca,o):Ca}function eT(o,s,u,h,b,_){b=ZE(b),h.context===null?h.context=b:h.pendingContext=b,h=$i(s),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=Bi(o,h,s),u!==null&&(Nn(u,o,s),al(u,o,s))}function tT(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<s?u:s}}function Vm(o,s){tT(o,s),(o=o.alternate)&&tT(o,s)}function nT(o){if(o.tag===13||o.tag===31){var s=Co(o,67108864);s!==null&&Nn(s,o,67108864),Vm(o,67108864)}}function rT(o){if(o.tag===13||o.tag===31){var s=$n();s=$h(s);var u=Co(o,s);u!==null&&Nn(u,o,s),Vm(o,s)}}var Yc=!0;function JU(o,s,u,h){var b=B.T;B.T=null;var _=ne.p;try{ne.p=2,jm(o,s,u,h)}finally{ne.p=_,B.T=b}}function WU(o,s,u,h){var b=B.T;B.T=null;var _=ne.p;try{ne.p=8,jm(o,s,u,h)}finally{ne.p=_,B.T=b}}function jm(o,s,u,h){if(Yc){var b=Fm(h);if(b===null)Im(o,s,h,Jc,u),oT(o,h);else if(QU(b,o,s,u,h))h.stopPropagation();else if(oT(o,h),s&4&&-1<XU.indexOf(o)){for(;b!==null;){var _=ga(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=He(_.pendingLanes);if(A!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var k=1<<31-gn(A);R.entanglements[1]|=k,A&=~k}$r(_),(Ke&6)===0&&(Ic=pn()+500,Sl(0))}}break;case 31:case 13:R=Co(_,2),R!==null&&Nn(R,_,2),Pc(),Vm(_,2)}if(_=Fm(h),_===null&&Im(o,s,h,Jc,u),_===b)break;b=_}b!==null&&h.stopPropagation()}else Im(o,s,h,null,u)}}function Fm(o){return o=Yh(o),Km(o)}var Jc=null;function Km(o){if(Jc=null,o=ma(o),o!==null){var s=a(o);if(s===null)o=null;else{var u=s.tag;if(u===13){if(o=l(s),o!==null)return o;o=null}else if(u===31){if(o=c(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Jc=o,null}function iT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dh()){case $u:return 2;case Bu:return 8;case ha:case kh:return 32;case zu:return 268435456;default:return 32}default:return 32}}var Ym=!1,Xi=null,Qi=null,Zi=null,Nl=new Map,Ml=new Map,eo=[],XU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oT(o,s){switch(o){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Nl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Il(o,s,u,h,b,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[b]},s!==null&&(s=ga(s),s!==null&&nT(s)),o):(o.eventSystemFlags|=h,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function QU(o,s,u,h,b){switch(s){case"focusin":return Xi=Il(Xi,o,s,u,h,b),!0;case"dragenter":return Qi=Il(Qi,o,s,u,h,b),!0;case"mouseover":return Zi=Il(Zi,o,s,u,h,b),!0;case"pointerover":var _=b.pointerId;return Nl.set(_,Il(Nl.get(_)||null,o,s,u,h,b)),!0;case"gotpointercapture":return _=b.pointerId,Ml.set(_,Il(Ml.get(_)||null,o,s,u,h,b)),!0}return!1}function aT(o){var s=ma(o.target);if(s!==null){var u=a(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){o.blockedOn=s,__(o.priority,function(){rT(u)});return}}else if(s===31){if(s=c(u),s!==null){o.blockedOn=s,__(o.priority,function(){rT(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Wc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var u=Fm(o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);Kh=h,u.target.dispatchEvent(h),Kh=null}else return s=ga(u),s!==null&&nT(s),o.blockedOn=u,!1;s.shift()}return!0}function sT(o,s,u){Wc(o)&&u.delete(s)}function ZU(){Ym=!1,Xi!==null&&Wc(Xi)&&(Xi=null),Qi!==null&&Wc(Qi)&&(Qi=null),Zi!==null&&Wc(Zi)&&(Zi=null),Nl.forEach(sT),Ml.forEach(sT)}function Xc(o,s){o.blockedOn===s&&(o.blockedOn=null,Ym||(Ym=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZU)))}var Qc=null;function lT(o){Qc!==o&&(Qc=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qc===o&&(Qc=null);for(var s=0;s<o.length;s+=3){var u=o[s],h=o[s+1],b=o[s+2];if(typeof h!="function"){if(Km(h||u)===null)continue;break}var _=ga(u);_!==null&&(o.splice(s,3),s-=3,Fp(_,{pending:!0,data:b,method:u.method,action:h},h,b))}}))}function Xa(o){function s(k){return Xc(k,o)}Xi!==null&&Xc(Xi,o),Qi!==null&&Xc(Qi,o),Zi!==null&&Xc(Zi,o),Nl.forEach(s),Ml.forEach(s);for(var u=0;u<eo.length;u++){var h=eo[u];h.blockedOn===o&&(h.blockedOn=null)}for(;0<eo.length&&(u=eo[0],u.blockedOn===null);)aT(u),u.blockedOn===null&&eo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var b=u[h],_=u[h+1],A=b[En]||null;if(typeof _=="function")A||lT(u);else if(A){var R=null;if(_&&_.hasAttribute("formAction")){if(b=_,A=_[En]||null)R=A.formAction;else if(Km(b)!==null)continue}else R=A.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),lT(u)}}}function uT(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Jm(o){this._internalRoot=o}Zc.prototype.render=Jm.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=$n();eT(u,h,o,s,null,null)},Zc.prototype.unmount=Jm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;eT(o.current,2,null,o,null,null),Pc(),s[pa]=null}};function Zc(o){this._internalRoot=o}Zc.prototype.unstable_scheduleHydration=function(o){if(o){var s=b_();o={blockedOn:null,target:o,priority:s};for(var u=0;u<eo.length&&s!==0&&s<eo[u].priority;u++);eo.splice(u,0,o),u===0&&aT(o)}};var cT=t.version;if(cT!=="19.2.3")throw Error(r(527,cT,"19.2.3"));ne.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var eL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{wo=ef.inject(eL),mn=ef}catch{}}return Pl.createRoot=function(o,s){if(!i(o))throw Error(r(299));var u=!1,h="",b=vS,_=yS,A=bS;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=QE(o,1,!1,null,null,u,h,null,b,_,A,uT),o[pa]=s.current,Mm(o),new Jm(s)},Pl.hydrateRoot=function(o,s,u){if(!i(o))throw Error(r(299));var h=!1,b="",_=vS,A=yS,R=bS,k=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(k=u.formState)),s=QE(o,1,!0,s,u??null,h,b,k,_,A,R,uT),s.context=ZE(null),u=s.current,h=$n(),h=$h(h),b=$i(h),b.callback=null,Bi(u,b,h),u=h,s.current.lanes=u,Hs(s,u),$r(s),o[pa]=s.current,Mm(o),new Zc(s)},Pl.version="19.2.3",Pl}var _T;function hL(){if(_T)return Zm.exports;_T=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zm.exports=dL(),Zm.exports}var pL=hL();const mL=Vr(pL);function Pd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function gL(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{d(r.next(p))}catch(g){l(g)}}function f(p){try{d(r.throw(p))}catch(g){l(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}const vL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class g0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class yL extends g0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wT extends g0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ST extends g0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wv||(Wv={}));class bL{constructor(t,{headers:n={},customFetch:r,region:i=Wv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=vL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return gL(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:c,method:f,body:d,signal:p,timeout:g}=r;let y={},{region:w}=r;w||(w=this.region);const S=new URL(`${this.url}/${n}`);w&&w!=="any"&&(y["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let E;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(y["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(y["Content-Type"]="application/json",E=JSON.stringify(d)):E=d;let T=p;g&&(l=new AbortController,a=setTimeout(()=>l.abort(),g),p?(T=l.signal,p.addEventListener("abort",()=>l.abort())):T=l.signal);const x=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:E,signal:T}).catch(P=>{throw new yL(P)}),I=x.headers.get("x-relay-error");if(I&&I==="true")throw new wT(x);if(!x.ok)throw new ST(x);let M=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return M==="application/json"?O=yield x.json():M==="application/octet-stream"||M==="application/pdf"?O=yield x.blob():M==="text/event-stream"?O=x:M==="multipart/form-data"?O=yield x.formData():O=yield x.text(),{data:O,error:null,response:x}}catch(c){return{data:null,error:c,response:c instanceof ST||c instanceof wT?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var _L=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},wL=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,f=null,d=a.status,p=a.statusText;if(a.ok){var g,y;if(n.method!=="HEAD"){var w;const x=await a.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?c=x:c=JSON.parse(x))}const E=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(y=a.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");E&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const E=await a.text();try{l=JSON.parse(E),Array.isArray(l)&&a.status===404&&(c=[],l=null,d=200,p="OK")}catch{a.status===404&&E===""?(d=204,p="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,d=200,p="OK"),l&&n.shouldThrowOnError)throw new _L(l)}return{error:l,data:c,count:f,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let c="";const f=a==null?void 0:a.cause;if(f){var d,p,g,y;const S=(d=f==null?void 0:f.message)!==null&&d!==void 0?d:"",E=(p=f==null?void 0:f.code)!==null&&p!==void 0?p:"";c=`${(g=a==null?void 0:a.name)!==null&&g!==void 0?g:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(y=f==null?void 0:f.name)!==null&&y!==void 0?y:"Error"}: ${S}`,E&&(c+=` (${E})`),f!=null&&f.stack&&(c+=`
${f.stack}`)}else{var w;c=(w=a==null?void 0:a.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},SL=class extends wL{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ET=new RegExp("[,()]");var ss=class extends SL{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&ET.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&ET.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},EL=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new ss({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ss({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new ss({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ss({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ss({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},TL=class sM{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new EL(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sM(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var l;let c;const f=new URL(`${this.url}/rpc/${t}`);let d;r||i?(c=r?"HEAD":"GET",Object.entries(n).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{f.searchParams.append(g,y)})):(c="POST",d=n);const p=new Headers(this.headers);return a&&p.set("Prefer",`count=${a}`),new ss({method:c,url:f,headers:p,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class AL{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xL="2.89.0",CL=`realtime-js/${xL}`,lM="1.0.0",RL="2.0.0",TT=lM,Xv=1e4,NL=1e3,ML=100;var no;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(no||(no={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Qv;(function(e){e.websocket="websocket"})(Qv||(Qv={}));var Ko;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ko||(Ko={}));class IL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length+g.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(w),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,f.length),S.setUint8(E++,c.length),S.setUint8(E++,l.length),S.setUint8(E++,d.length),S.setUint8(E++,g.length),S.setUint8(E++,n),Array.from(f,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(c,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(l,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(d,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(g,x=>S.setUint8(E++,x.charCodeAt(0)));var T=new Uint8Array(w.byteLength+r.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(r),w.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,c,f]=r;return n({join_ref:i,ref:a,topic:l,event:c,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(t.slice(f,f+i));f=f+i;const p=r.decode(t.slice(f,f+a));f=f+a;const g=r.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),w=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:p,payload:w};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class uM{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ot;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ot||(ot={}));const AT=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=OL(l,e,t,i),a),{}):{}},OL=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?cM(a,l):Zv(l)},cM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UL(t,n)}switch(e){case ot.bool:return PL(t);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return DL(t);case ot.json:case ot.jsonb:return kL(t);case ot.timestamp:return LL(t);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return Zv(t);default:return Zv(t)}},Zv=e=>e,PL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>cM(t,c))}return e},LL=e=>typeof e=="string"?e.replace(" ","T"):e,fM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class rg{constructor(t,n,r={},i=Xv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xT||(xT={}));class Yl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=Yl.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yl.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),c={},f={};return this.map(a,(d,p)=>{l[d]||(f[d]=p)}),this.map(l,(d,p)=>{const g=a[d];if(g){const y=p.map(T=>T.presence_ref),w=g.map(T=>T.presence_ref),S=p.filter(T=>w.indexOf(T.presence_ref)<0),E=g.filter(T=>y.indexOf(T.presence_ref)<0);S.length>0&&(c[d]=S),E.length>0&&(f[d]=E)}else c[d]=p}),this.syncDiff(a,{joins:c,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,f)=>{var d;const p=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(f),p.length>0){const g=t[c].map(w=>w.presence_ref),y=p.filter(w=>g.indexOf(w.presence_ref)<0);t[c].unshift(...y)}r(c,p,f)}),this.map(l,(c,f)=>{let d=t[c];if(!d)return;const p=f.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),t[c]=d,i(c,d,f),d.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var CT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(CT||(CT={}));var Jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jl||(Jl={}));var ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ci||(ci={}));class ds{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rg(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new uM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Yl(this),this.broadcastEndpointURL=fM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:l,presence:c,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Jl.PRESENCE]&&this.bindings[Jl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(ci.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(ci.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(ci.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,x=[];for(let I=0;I<T;I++){const M=E[I],{filter:{event:O,schema:P,table:D,filter:U}}=M,Y=w&&w[I];if(Y&&Y.event===O&&ds.isFilterValueEqual(Y.schema,P)&&ds.isFilterValueEqual(Y.table,D)&&ds.isFilterValueEqual(Y.filter,U))x.push(Object.assign(Object.assign({},M),{id:Y.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ci.SUBSCRIBED);return}}).receive("error",w=>{this.state=zt.errored,t==null||t(ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===zt.joined&&t===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const d=await c.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new rg(this,Sr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ML){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:f,leave:d,join:p}=Sr;if(r&&[c,f,d,p].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,E,T;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=w.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(w=>w.callback(y,r)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var S,E,T,x,I,M;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const O=w.id,P=(S=w.filter)===null||S===void 0?void 0:S.event;return O&&((E=n.ids)===null||E===void 0?void 0:E.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(I=(x=w==null?void 0:w.filter)===null||x===void 0?void 0:x.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return O==="*"||O===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:E,table:T,commit_timestamp:x,type:I,errors:M}=S;y=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:x,eventType:I,new:{},old:{},errors:M}),this._getPayloadRecords(S))}w.callback(y,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ds.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=AT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=AT(t.columns,t.old_record)),n}}const ig=()=>{},tf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qL=[1e3,2e3,5e3,1e4],$L=1e4,BL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xv,this.transport=null,this.heartbeatIntervalMs=tf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ig,this.ref=0,this.reconnectTimer=null,this.vsn=TT,this.logger=ig,this.conn=null,this.sendBuffer=[],this.serializer=new IL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Qv.websocket}`,this.httpEndpoint=fM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case no.connecting:return Ko.Connecting;case no.open:return Ko.Open;case no.closing:return Ko.Closing;default:return Ko.Closed}}isConnected(){return this.connectionState()===Ko.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ds(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},tf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,c=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${c}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===no.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===no.open||this.conn.readyState===no.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:CL};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,c,f,d,p,g,y,w;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Xv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:tf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:ig,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:TT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(S=>qL[S-1]||$L),this.vsn){case lM:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((S,E)=>E(JSON.stringify(S))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((S,E)=>E(JSON.parse(S)));break;case RL:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HL(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function GL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function VL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const c=HL(e.baseUrl,r,i),f=await GL(e.auth),d=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...l},body:a?JSON.stringify(a):void 0}),p=await d.text(),g=(d.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!d.ok){const w=g?y:void 0,S=w==null?void 0:w.error;throw new Wl((S==null?void 0:S.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:w})}return{status:d.status,headers:d.headers,data:y}}}}function nf(e){return e.join("")}var jL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:nf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nf(e.namespace)}`}),!0}catch(t){if(t instanceof Wl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return;throw n}}};function Qa(e){return e.join("")}var FL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},KL=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=VL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new jL(this.client,t),this.tableOps=new FL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var YL=class extends Dd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ey=class extends Dd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const v0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JL=()=>Response,ty=e=>{if(Array.isArray(e))return e.map(n=>ty(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=ty(r)}),t},WL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function QL(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e){var t=QL(e,"string");return Xl(t)=="symbol"?t:t+""}function eq(e,t,n){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){eq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const og=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tq=async(e,t,n)=>{e instanceof await JL()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,a=(r==null?void 0:r.statusCode)||i+"";t(new YL(og(r),i,a))}).catch(r=>{t(new ey(og(r),r))}):t(new ey(og(e),e))},nq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(WL(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ee(Ee({},i),n))};async function yu(e,t,n,r,i,a){return new Promise((l,c)=>{e(n,nq(t,r,i,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>tq(f,c,r))})}async function Ql(e,t,n,r){return yu(e,"GET",t,n,r)}async function wr(e,t,n,r,i){return yu(e,"POST",t,r,i,n)}async function ny(e,t,n,r,i){return yu(e,"PUT",t,r,i,n)}async function rq(e,t,n,r){return yu(e,"HEAD",t,Ee(Ee({},n),{},{noResolveJson:!0}),r)}async function y0(e,t,n,r,i){return yu(e,"DELETE",t,r,i,n)}var iq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}};let dM;dM=Symbol.toStringTag;var oq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[dM]="BlobDownloadBuilder",this.promise=null}asStream(){return new iq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}};const aq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sq=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=v0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let a;const l=Ee(Ee({},NT),r);let c=Ee(Ee({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",i.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(f))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(c=Ee(Ee({},c),r.headers));const d=i._removeEmptyFolders(t),p=i._getFinalPath(d),g=await(e=="PUT"?ny:wr)(i.fetch,`${i.url}/object/${p}`,a,Ee({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),l=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let f;const d=Ee({upsert:NT.upsert},r),p=Ee(Ee({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",d.cacheControl)):(f=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{data:{path:a,fullPath:(await ny(i.fetch,c.toString(),f,{headers:p})).Key},error:null}}catch(f){if(i.shouldThrowOnError)throw f;if(gt(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ee({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await wr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+a.url),c=l.searchParams.get("token");if(!c)throw new Dd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await wr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await wr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),a=await wr(r.fetch,`${r.url}/object/sign/${i}`,Ee({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await wr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Ee(Ee({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>Ql(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new oq(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:ty(await Ql(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await rq(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gt(r)&&r instanceof ey){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(e){var t=this;try{return{data:await y0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ee(Ee(Ee({},aq),t),{},{prefix:e||""});return{data:await wr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ee({},e);return{data:await wr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const hM="2.89.0",pM={"X-Client-Info":`storage-js/${hM}`};var lq=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ee(Ee({},pM),t),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Ql(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ql(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await wr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await ny(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await wr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await y0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},uq=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},pM),t),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await wr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Ql(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await y0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!XL(e))throw new Dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new KL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(i,c),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}};const b0={"X-Client-Info":`storage-js/${hM}`,"Content-Type":"application/json"};var mM=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Hn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ag=class extends mM{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cq=class extends mM{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const _0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dq=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new ag(MT(a),r,l))}).catch(()=>{const a=r+"";t(new ag(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new ag(i.statusText||`HTTP ${r} error`,r,a))}}else t(new cq(MT(e),e))},hq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(fq(r)?(i.headers=Ee({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ee(Ee({},i),n)):i};async function pq(e,t,n,r,i,a){return new Promise((l,c)=>{e(n,hq(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>dq(f,c,r))})}async function Gn(e,t,n,r,i){return pq(e,"POST",t,r,i,n)}var mq=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},b0),t),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}}},gq=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},b0),t),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Gn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}},vq=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ee(Ee({},b0),t),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}}},yq=class extends vq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},bq=class extends mq{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new _q(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_q=class extends gq{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ee(Ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},wq=class extends lq{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new sq(this.url,this.headers,e,this.fetch)}get vectors(){return new yq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uq(this.url+"/iceberg",this.headers,this.fetch)}};const gM="2.89.0",ls=30*1e3,ry=3,sg=ry*ls,Sq="http://localhost:9999",Eq="supabase.auth.token",Tq={"X-Client-Info":`gotrue-js/${gM}`},iy="X-Supabase-Api-Version",vM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Aq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xq=600*1e3;class Zl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cq extends Zl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Rq(e){return ge(e)&&e.name==="AuthApiError"}class Yo extends Zl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ai extends Zl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Bn extends Ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nq(e){return ge(e)&&e.name==="AuthSessionMissingError"}class Za extends Ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rf extends Ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class of extends Ai{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mq(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class IT extends Ai{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iq extends Ai{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oy extends Ai{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lg(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class OT extends Ai{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ay extends Ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PT=` 	
\r=`.split(""),Oq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<PT.length;t+=1)e[PT[t].charCodeAt(0)]=-2;for(let t=0;t<kf.length;t+=1)e[kf[t].charCodeAt(0)]=t;return e})();function DT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kf[r]),t.queuedBits-=6}}function yM(e,t,n){const r=Oq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{kq(l,r,n)};for(let l=0;l<e.length;l+=1)yM(e.charCodeAt(l),i,a);return t.join("")}function Pq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Pq(r,t)}}function kq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)yM(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Uq(e){const t=[];return Dq(e,n=>t.push(n)),new Uint8Array(t)}function Jo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>DT(i,n,r)),DT(null,n,r),t.join("")}function Lq(e){return Math.round(Date.now()/1e3)+e}function qq(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",Bo={tested:!1,writable:!1},bM=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bo.tested)return Bo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bo.tested=!0,Bo.writable=!0}catch{Bo.tested=!0,Bo.writable=!1}return Bo.writable};function $q(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const _M=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",us=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},zo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},sn=async(e,t)=>{await e.removeItem(t)};class kd{constructor(){this.promise=new kd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kd.promiseConstructor=Promise;function ug(e){const t=e.split(".");if(t.length!==3)throw new ay("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Aq.test(t[r]))throw new ay("JWT not in base64url format");return{header:JSON.parse(kT(t[0])),payload:JSON.parse(kT(t[1])),signature:vs(t[2]),raw:{header:t[0],payload:t[1]}}}async function zq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Hq(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function Gq(e){return("0"+e.toString(16)).substr(-2)}function Vq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Gq).join("")}async function jq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Fq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await jq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(e,t,n=!1){const r=Vq();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await us(e,`${t}-code-verifier`,i);const a=await Fq(r);return[a,r===a?"plain":"s256"]}const Kq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yq(e){const t=e.headers.get(iy);if(!t||!t.match(Kq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!Xq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qq(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function UT(e){return JSON.parse(JSON.stringify(e))}const Ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zq=[502,503,504];async function LT(e){var t;if(!Bq(e))throw new oy(Ho(e),0);if(Zq.includes(e.status))throw new oy(Ho(e),e.status);let n;try{n=await e.json()}catch(a){throw new Yo(Ho(a),a)}let r;const i=Yq(e);if(i&&i.getTime()>=vM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new OT(Ho(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new OT(Ho(n),e.status,n.weak_password.reasons);throw new Cq(Ho(n),e.status||500,r)}const e$=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Se(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[iy]||(a[iy]=vM["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await t$(e,t,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function t$(e,t,n,r,i,a){const l=e$(t,r,i,a);let c;try{c=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new oy(Ho(f),0)}if(c.ok||await LT(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await LT(f)}}function _r(e){var t;let n=null;i$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Lq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qT(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function io(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n$(e){return{data:e,error:null}}function r$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=Pd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function $T(e){return e}function i$(e){return e.access_token&&e.refresh_token&&e.expires_in}const fg=["global","local","others"];class o${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_M(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=fg[0]){if(fg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fg.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:io})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Pd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:r$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:io})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$T});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ge(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ts(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:io})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ts(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:io})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ts(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:io})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ts(t.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ts(t.userId),ts(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$T});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(ge(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function BT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ns={debug:!!(globalThis&&bM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a$ extends wM{}async function s$(e,t,n){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ns.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function l$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function SM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u$(e){return parseInt(e,16)}function c$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function f$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:f,resources:d,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=SM(e.address),S=p?`${p}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${w}

${E}`;let x=`URI: ${g}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),c&&(x+=`
Not Before: ${c.toISOString()}`),f&&(x+=`
Request ID: ${f}`),d){let I=`
Resources:`;for(const M of d){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);I+=`
- ${M}`}x+=I}return`${T}
${x}`}class Dt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Uf extends Dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function d$({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(EM(l)){if(a.rp.id!==l)return new Dt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function h$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(EM(r)){if(n.rpId!==r)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class p${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m$=new p$;function g$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Pd(e,["challenge","user","excludeCredentials"]),a=vs(t).buffer,l=Object.assign(Object.assign({},n),{id:vs(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];c.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:vs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function v$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Pd(e,["challenge","allowCredentials"]),i=vs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:vs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function y$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Jo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Jo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function b$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Jo(new Uint8Array(i.authenticatorData)),clientDataJSON:Jo(new Uint8Array(i.clientDataJSON)),signature:Jo(new Uint8Array(i.signature)),userHandle:i.userHandle?Jo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zT(){var e,t;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:d$({error:t,options:e})}}}async function w$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:h$({error:t,options:e})}}}const S$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const c=r[a];t(c)?r[a]=Lf(c,l):r[a]=Lf(l)}else r[a]=l}return r}function T$(e,t){return Lf(S$,e,t||{})}function A$(e,t){return Lf(E$,e,t||{})}class x${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};const f=i??m$.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=T$(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:g}=await _$({publicKey:d,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const d=A$(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:g}=await w$(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Yo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn authentication")};try{if(!zT())return{data:null,error:new Yo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Yo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn registration")};try{if(!zT())return{data:null,error:new Yo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Yo("Unexpected error in register",l)}}}}l$();const C$={url:Sq,storageKey:Eq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function HT(e,t,n){return await n()}const rs={};class eu{get jwks(){var t,n;return(n=(t=rs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){rs[this.storageKey]=Object.assign(Object.assign({},rs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=rs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){rs[this.storageKey]=Object.assign(Object.assign({},rs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},C$),t);if(this.storageKey=a.storageKey,this.instanceID=(n=eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ln()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new o$({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_M(a.fetch),this.lock=a.lock||HT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=s$:this.lock=HT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:bM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=BT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=BT(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ln()&&(n=$q(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ln()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mq(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?this._returnResult({error:n}):this._returnResult({error:new Yo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_r}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:p,password:g,options:y}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await es(this.storage,this.storageKey)),a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:S},xform:_r})}else if("phone"in t){const{phone:p,password:g,options:y}=t;a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:_r})}else throw new rf("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:c}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:qT})}else if("phone"in t){const{phone:a,password:l,options:c}=t;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:qT})}else throw new rf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Za;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,c,f,d,p,g,y;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:x,options:I}=t;let M;if(ln())if(typeof T=="object")M=T;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")M=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const O=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href),P=await M.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=SM(P[0]);let U=(r=I==null?void 0:I.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const V=await M.request({method:"eth_chainId"});U=u$(V)}const Y={domain:O.host,address:D,statement:x,uri:O.href,version:"1",chainId:U,nonce:(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=f$(Y),S=await M.request({method:"personal_sign",params:[c$(w),D]})}try{const{data:E,error:T}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_r});if(T)throw T;if(!E||!E.session||!E.user){const x=new Za;return this._returnResult({data:{user:null,session:null},error:x})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,a,l,c,f,d,p,g,y,w;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:x,statement:I,options:M}=t;let O;if(ln())if(typeof x=="object")O=x;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=x}const P=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),I?{statement:I}:null));let U;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")U=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)U=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=M==null?void 0:M.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((g=(p=M==null?void 0:M.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...M.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:T,error:x}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Jo(E)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:_r});if(x)throw x;if(!T||!T.session||!T.user){const I=new Za;return this._returnResult({data:{user:null,session:null},error:I})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:x})}catch(T){if(ge(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await zo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Iq;const{data:a,error:l}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_r});if(await sn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Za;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,c=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:f,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const p=new Za;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:c,options:f}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await es(this.storage,this.storageKey));const{error:g}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:c,options:f}=t,{data:d,error:p}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new rf("You must provide either an email or phone number.")}catch(c){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:_r});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await es(this.storage,this.storageKey));const d=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:n$});return!((a=d.data)===null||a===void 0)&&a.url&&ln()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Bn;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:c}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new rf("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await zo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await zo(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=cg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Qq(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:io}):await this._useSession(async n=>{var r,i,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:io})})}catch(n){if(ge(n))return Nq(n)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Bn;const l=i.session;let c=null,f=null;this.flowType==="pkce"&&t.email!=null&&([c,f]=await es(this.storage,this.storageKey));const{data:d,error:p}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:io});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=ug(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:c,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ln())throw new of("No browser detected.");if(t.error||t.error_description||t.error_code)throw new of(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new IT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new of("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new IT("No code detected.");const{data:I,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=t;if(!a||!c||!l||!d)throw new of("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let y=p+g;f&&(y=parseInt(f));const w=y-p;w*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=y-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,p);const{data:E,error:T}=await this._getUser(a);if(T)throw T;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:y,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await zo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Rq(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=qq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await es(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,f,d,p;const{data:g,error:y}=a;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ln()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:c,token:f,access_token:d,nonce:p}=t,g=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:f,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_r}),{data:y,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Za}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Hq(async i=>(i>0&&await zq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(i,a)=>{const l=200*Math.pow(2,i);return a&&lg(a)&&Date.now()+l-r<ls})}catch(r){if(this._debug(n,"error",r),ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ln()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await zo(this.storage,this.storageKey);if(i&&this.userStorage){let l=await zo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await us(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:cg()}else if(i&&!i.user&&!i.user){const l=await zo(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await sn(this.storage,this.storageKey+"-user"),await us(this.storage,this.storageKey,i)):i.user=cg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${sg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),lg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kd;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Bn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),ge(a)){const l={data:null,error:a};return lg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await us(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=UT(i);await us(this.storage,this.storageKey,a)}else{const i=UT(n);await us(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ls}ms, refresh threshold is ${ry} ticks`),i<=ry&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await es(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?y$(t.webauthn.credential_response):b$(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:f}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g$(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:v$(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ug(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Bn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Bn});const l=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+xq>i)return r;const{data:a,error:l}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});r=w.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:f}}=ug(r);n!=null&&n.allowExpired||Jq(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:i,signature:l},error:null}}const p=Wq(i.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,Uq(`${c}.${f}`)))throw new ay("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}}eu.nextInstanceID={};const R$=eu,N$="2.89.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const M$={"X-Client-Info":`supabase-js-${Vl}/${N$}`},I$={headers:M$},O$={schema:"public"},P$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D$={};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function k$(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U$(e){var t=k$(e,"string");return tu(t)=="symbol"?t:t+""}function L$(e,t,n){return(t=U$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){L$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const q$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$$=()=>Headers,B$=(e,t,n)=>{const r=q$(n),i=$$();return async(a,l)=>{var c;const f=(c=await t())!==null&&c!==void 0?c:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(a,_t(_t({},l),{},{headers:d}))}};function z$(e){return e.endsWith("/")?e:e+"/"}function H$(e,t){var n,r;const{db:i,auth:a,realtime:l,global:c}=e,{db:f,auth:d,realtime:p,global:g}=t,y={db:_t(_t({},f),i),auth:_t(_t({},d),a),realtime:_t(_t({},p),l),storage:{},global:_t(_t(_t({},g),c),{},{headers:_t(_t({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function G$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(z$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var V$=class extends R${constructor(e){super(e)}},j$=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=G$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:O$,realtime:D$,auth:_t(_t({},P$),{},{storageKey:l}),global:I$},f=H$(n??{},c);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=f.auth)!==null&&d!==void 0?d:{},this.headers,f.global.fetch)}this.fetch=B$(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(_t({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new TL(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new wq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new bL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:l,lock:c,debug:f,throwOnError:d},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V$({url:this.authUrl.href,headers:_t(_t({},y),p),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:c,debug:f,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zL(this.realtimeUrl.href,_t(_t({},e),{},{params:_t(_t({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const F$=(e,t,n)=>new j$(e,t,n);function K$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}K$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y$="https://azgommwlcftrlbmmkjdx.supabase.co",J$="sb_publishable_AMzoBJEbCWiatFEfqoRauw_kr1RwHbu",W$=F$(Y$,J$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),VT=e=>{const t=Q$(e);return t.charAt(0).toUpperCase()+t.slice(1)},TM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Z$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>C.createElement("svg",{ref:f,...eB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:TM("lucide",i),...!a&&!Z$(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>C.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(tB,{ref:a,iconNode:t,className:TM(`lucide-${X$(VT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=VT(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rB=Ye("arrow-left",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AM=Ye("arrow-right",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sy=Ye("book-open",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sB=Ye("bot",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uB=Ye("calendar",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fB=Ye("circle-alert",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xM=Ye("circle-check",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],jT=Ye("circle-plus",hB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mB=Ye("circle",pB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vB=Ye("clock",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bB=Ye("download",yB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wB=Ye("external-link",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],EB=Ye("folder-kanban",SB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],AB=Ye("key-round",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],FT=Ye("layout-list",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cf=Ye("loader-circle",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NB=Ye("log-out",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],KT=Ye("map",MB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],OB=Ye("pause",IB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DB=Ye("pen",PB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UB=Ye("play",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CM=Ye("plus",LB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$B=Ye("rotate-ccw",qB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],so=Ye("sparkles",BB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HB=Ye("square-check-big",zB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],VB=Ye("square",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FB=Ye("target",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RM=Ye("trash-2",KB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],JB=Ye("trending-up",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],w0=Ye("x",WB),XB=({onLogin:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(!1),[a,l]=C.useState(""),c=async f=>{if(f.preventDefault(),l(""),t.length!==4){l("Access code must be 4 characters");return}i(!0);try{const d=`${t.toLowerCase()}@planning.app`,p=`access-code-${t.toLowerCase()}`,{data:g,error:y}=await W$.auth.signInWithPassword({email:d,password:p});if(y)throw y.message==="Invalid login credentials"?new Error("Invalid access code"):y;g.user&&e({email:g.user.email||"",name:g.user.user_metadata.name||"Planner"})}catch(d){l(d.message||"An error occurred")}finally{i(!1)}};return N.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center items-center relative overflow-hidden px-4",children:[N.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-rose-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),N.jsx("div",{className:"absolute top-[-10%] left-[-20%] w-[500px] h-[500px] bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),N.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[600px] h-[600px] bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),N.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/50 max-w-md w-full animate-in fade-in zoom-in duration-300",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-tr from-rose-500 to-orange-500 text-white mb-4 shadow-lg",children:N.jsx(so,{size:32})}),N.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2 font-display",children:"Enter Access Code"}),N.jsx("p",{className:"text-slate-600",children:"Please enter your unique 4-letter code to continue."})]}),N.jsxs("form",{onSubmit:c,className:"space-y-4",children:[N.jsxs("div",{className:"relative group",children:[N.jsx(AB,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-rose-500 transition-colors",size:20}),N.jsx("input",{type:"text",required:!0,value:t,onChange:f=>n(f.target.value.toUpperCase()),maxLength:4,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition-all bg-white/50 uppercase tracking-widest font-mono text-lg",placeholder:"CODE"})]}),a&&N.jsx("div",{className:"text-red-500 text-sm font-bold text-center bg-red-50 p-2 rounded-lg",children:a}),N.jsx("button",{type:"submit",disabled:r||t.length!==4,className:"w-full py-4 rounded-xl bg-slate-900 text-white font-bold text-lg hover:bg-slate-800 transition-all transform hover:scale-[1.01] active:scale-[0.99] flex items-center justify-center gap-2 shadow-xl disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:r?N.jsx(Cf,{className:"animate-spin"}):N.jsxs(N.Fragment,{children:["Continue ",N.jsx(AM,{size:20})]})})]})]})]})};var Gt=(e=>(e.CAREER="Career",e.HEALTH="Health",e.FINANCE="Finance",e.LIFESTYLE="Lifestyle",e.TRAVEL="Travel",e.PERSONAL="Personal",e))(Gt||{});const qf="kickoff_user",NM="kickoff_tasks_",MM="kickoff_themes_",IM="kickoff_stories_",QB=e=>{localStorage.setItem(qf,JSON.stringify(e))},ZB=()=>{const e=localStorage.getItem(qf);try{return e?JSON.parse(e):null}catch(t){return console.error("Error parsing user data from storage",t),localStorage.removeItem(qf),null}},e3=()=>{localStorage.removeItem(qf)},t3=e=>{const t=localStorage.getItem(`${NM}${e}`);try{return t?JSON.parse(t):[]}catch(n){return console.error("Error parsing tasks",n),[]}},YT=(e,t)=>{localStorage.setItem(`${NM}${e}`,JSON.stringify(t))},n3=e=>{const t=localStorage.getItem(`${MM}${e}`);try{return t?JSON.parse(t):[]}catch(n){return console.error("Error parsing themes",n),[]}},JT=(e,t)=>{localStorage.setItem(`${MM}${e}`,JSON.stringify(t))},r3=e=>{const t=localStorage.getItem(`${IM}${e}`);try{return t?JSON.parse(t):[]}catch(n){return console.error("Error parsing stories",n),[]}},i3=(e,t)=>{localStorage.setItem(`${IM}${e}`,JSON.stringify(t))};var o3={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a3,s3;function l3(){return{geminiUrl:a3,vertexUrl:s3}}function u3(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=l3();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xi{}function ue(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const f=e[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];v(p,t.slice(a+1),n[d])}else for(const d of f)v(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const f=e[c];v(f[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function m(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(c=>m(c,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function c3(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}ly(e,i,a,0,l)}}function ly(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const f of c[l])ly(f,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,p]of Object.entries(f)){const g=[];for(const y of n.slice(r))y==="*"?g.push(d):g.push(y);v(l,g,p)}for(const d of c)delete l[d]}}else{const l=e;a in l&&ly(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f3(e){const t={},n=m(e,["operationName"]);n!=null&&v(t,["operationName"],n);const r=m(e,["resourceName"]);return r!=null&&v(t,["_url","resourceName"],r),t}function d3(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],p3(l)),t}function h3(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response"]);return l!=null&&v(t,["response"],m3(l)),t}function p3(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>g3(l))),v(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=m(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function m3(e){const t={},n=m(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>v3(l))),v(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=m(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function g3(e){const t={},n=m(e,["video"]);return n!=null&&v(t,["video"],E3(n)),t}function v3(e){const t={},n=m(e,["_self"]);return n!=null&&v(t,["video"],T3(n)),t}function y3(e){const t={},n=m(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function b3(e){const t={},n=m(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function _3(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response"]);return l!=null&&v(t,["response"],w3(l)),t}function w3(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&v(t,["parent"],r);const i=m(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function OM(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response"]);return l!=null&&v(t,["response"],S3(l)),t}function S3(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&v(t,["parent"],r);const i=m(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function E3(e){const t={},n=m(e,["uri"]);n!=null&&v(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],S0(r));const i=m(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function T3(e){const t={},n=m(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],S0(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var WT;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(WT||(WT={}));var XT;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(XT||(XT={}));var QT;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(QT||(QT={}));var kt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(kt||(kt={}));var ZT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ZT||(ZT={}));var eA;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(eA||(eA={}));var tA;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(tA||(tA={}));var nA;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nA||(nA={}));var rA;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rA||(rA={}));var iA;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(iA||(iA={}));var oA;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(oA||(oA={}));var aA;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(aA||(aA={}));var sA;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(sA||(sA={}));var lA;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(lA||(lA={}));var uA;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(uA||(uA={}));var cA;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cA||(cA={}));var fA;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fA||(fA={}));var dA;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(dA||(dA={}));var hA;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hA||(hA={}));var $f;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})($f||($f={}));var pA;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pA||(pA={}));var mA;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mA||(mA={}));var gA;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gA||(gA={}));var uy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(uy||(uy={}));var vA;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(vA||(vA={}));var yA;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(yA||(yA={}));var bA;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(bA||(bA={}));var _A;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(_A||(_A={}));var wA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wA||(wA={}));var SA;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(SA||(SA={}));var EA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(EA||(EA={}));var TA;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(TA||(TA={}));var AA;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(AA||(AA={}));var xA;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(xA||(xA={}));var CA;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(CA||(CA={}));var RA;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(RA||(RA={}));var NA;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(NA||(NA={}));var MA;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(MA||(MA={}));var IA;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(IA||(IA={}));var OA;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(OA||(OA={}));var PA;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(PA||(PA={}));var DA;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(DA||(DA={}));var kA;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(kA||(kA={}));var UA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(UA||(UA={}));var LA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(LA||(LA={}));var qA;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(qA||(qA={}));var $A;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})($A||($A={}));var BA;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(BA||(BA={}));var zA;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zA||(zA={}));var HA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(HA||(HA={}));var GA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(GA||(GA={}));var VA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(VA||(VA={}));var jA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jA||(jA={}));var FA;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FA||(FA={}));var KA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(KA||(KA={}));var hs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(hs||(hs={}));class cy{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Dl{get text(){var t,n,r,i,a,l,c,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const g=[];for(const y of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[w,S]of Object.entries(y))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(w);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,d+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var t,n,r,i,a,l,c,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const g of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[y,w]of Object.entries(g))y!=="inlineData"&&(w!==null||w!==void 0)&&p.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,c,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,a,l,c,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,c,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class YA{}class JA{}class A3{}class x3{}class C3{}class R3{}class WA{}class XA{}class QA{}class N3{}class Bf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Bf;let i;const a=t;return n?i=h3(a):i=d3(a),Object.assign(r,i),r}}class ZA{}class ex{}class tx{}class nx{}class M3{}class I3{}class O3{}class E0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new E0,a=_3(t);return Object.assign(r,a),r}}class P3{}class D3{}class k3{}class rx{}class U3{get text(){var t,n,r;let i="",a=!1;const l=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class L3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class T0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new T0,a=OM(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function PM(e,t){const n=je(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function DM(e){return Array.isArray(e)?e.map(t=>zf(t)):[zf(e)]}function zf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function kM(e){const t=zf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function UM(e){const t=zf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ix(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function LM(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>ix(t)):[ix(e)]}function fy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function ox(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ax(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function dn(e){if(e==null)throw new Error("ContentUnion is required");return fy(e)?e:{role:"user",parts:LM(e)}}function A0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=dn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=dn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>dn(n)):[dn(t)]}function fr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(ox(e)||ax(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dn(e)]}const t=[],n=[],r=fy(e[0]);for(const i of e){const a=fy(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(ox(i)||ax(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:LM(n)}),t}function q3(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(kt).includes(n[0].toUpperCase())?n[0].toUpperCase():kt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(kt).includes(r.toUpperCase())?r.toUpperCase():kt.TYPE_UNSPECIFIED})}}function ys(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&q3(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(kt).includes(c.toUpperCase())?c.toUpperCase():kt.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=ys(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){t.nullable=!0;continue}f.push(ys(d))}t[l]=f}else if(i.includes(l)){const f={};for(const[d,p]of Object.entries(c))f[d]=ys(p);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=c}return t}function x0(e){return ys(e)}function C0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function R0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ns(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ys(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ys(t.response));return e}function Ms(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function $3(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Ci(e,t){if(typeof t!="string")throw new Error("name must be a string");return $3(e,t,"cachedContents")}function qM(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function po(e){return S0(e)}function B3(e){return e!=null&&typeof e=="object"&&"name"in e}function z3(e){return e!=null&&typeof e=="object"&&"video"in e}function H3(e){return e!=null&&typeof e=="object"&&"uri"in e}function $M(e){var t;let n;if(B3(e)&&(n=e.name),!(H3(e)&&(n=e.uri,n===void 0))&&!(z3(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function BM(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function zM(e){for(const t of["models","tunedModels","publisherModels"])if(G3(e,t))return e[t];return[]}function G3(e,t){return e!==null&&typeof e=="object"&&t in e}function V3(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function j3(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=V3(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function HM(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function F3(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function GM(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Is(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function VM(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K3(e){const t={},n=m(e,["responsesFile"]);n!=null&&v(t,["fileName"],n);const r=m(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Cz(l))),v(t,["inlinedResponses"],a)}const i=m(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["inlinedEmbedContentResponses"],a)}return t}function Y3(e){const t={},n=m(e,["predictionsFormat"]);n!=null&&v(t,["format"],n);const r=m(e,["gcsDestination","outputUriPrefix"]);r!=null&&v(t,["gcsUri"],r);const i=m(e,["bigqueryDestination","outputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function J3(e){const t={},n=m(e,["format"]);n!=null&&v(t,["predictionsFormat"],n);const r=m(e,["gcsUri"]);r!=null&&v(t,["gcsDestination","outputUriPrefix"],r);const i=m(e,["bigqueryUri"]);if(i!=null&&v(t,["bigqueryDestination","outputUri"],i),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Rf(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata","displayName"]);r!=null&&v(t,["displayName"],r);const i=m(e,["metadata","state"]);i!=null&&v(t,["state"],VM(i));const a=m(e,["metadata","createTime"]);a!=null&&v(t,["createTime"],a);const l=m(e,["metadata","endTime"]);l!=null&&v(t,["endTime"],l);const c=m(e,["metadata","updateTime"]);c!=null&&v(t,["updateTime"],c);const f=m(e,["metadata","model"]);f!=null&&v(t,["model"],f);const d=m(e,["metadata","output"]);return d!=null&&v(t,["dest"],K3(GM(d))),t}function dy(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=m(e,["state"]);i!=null&&v(t,["state"],VM(i));const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["createTime"]);l!=null&&v(t,["createTime"],l);const c=m(e,["startTime"]);c!=null&&v(t,["startTime"],c);const f=m(e,["endTime"]);f!=null&&v(t,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&v(t,["updateTime"],d);const p=m(e,["model"]);p!=null&&v(t,["model"],p);const g=m(e,["inputConfig"]);g!=null&&v(t,["src"],W3(g));const y=m(e,["outputConfig"]);y!=null&&v(t,["dest"],Y3(GM(y)));const w=m(e,["completionStats"]);return w!=null&&v(t,["completionStats"],w),t}function W3(e){const t={},n=m(e,["instancesFormat"]);n!=null&&v(t,["format"],n);const r=m(e,["gcsSource","uris"]);r!=null&&v(t,["gcsUri"],r);const i=m(e,["bigquerySource","inputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function X3(e,t){const n={};if(m(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(t,["fileName"]);r!=null&&v(n,["fileName"],r);const i=m(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>xz(e,l))),v(n,["requests","requests"],a)}return n}function Q3(e){const t={},n=m(e,["format"]);n!=null&&v(t,["instancesFormat"],n);const r=m(e,["gcsUri"]);r!=null&&v(t,["gcsSource","uris"],r);const i=m(e,["bigqueryUri"]);if(i!=null&&v(t,["bigquerySource","inputUri"],i),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Z3(e){const t={},n=m(e,["data"]);if(n!=null&&v(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function ez(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function tz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function nz(e){const t={},n=m(e,["content"]);n!=null&&v(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],rz(r));const i=m(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=m(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const l=m(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const c=m(e,["groundingMetadata"]);c!=null&&v(t,["groundingMetadata"],c);const f=m(e,["index"]);f!=null&&v(t,["index"],f);const d=m(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const p=m(e,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(w=>w)),v(t,["safetyRatings"],y)}const g=m(e,["urlContextMetadata"]);return g!=null&&v(t,["urlContextMetadata"],g),t}function rz(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function jM(e){const t={},n=m(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Dz(a))),v(t,["parts"],i)}const r=m(e,["role"]);return r!=null&&v(t,["role"],r),t}function iz(e,t){const n={},r=m(e,["displayName"]);if(t!==void 0&&r!=null&&v(t,["batch","displayName"],r),m(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function oz(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=m(e,["dest"]);return t!==void 0&&i!=null&&v(t,["outputConfig"],J3(F3(i))),n}function sx(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["src"]);i!=null&&v(n,["batch","inputConfig"],X3(e,HM(e,i)));const a=m(t,["config"]);return a!=null&&iz(a,n),n}function az(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["model"],je(e,r));const i=m(t,["src"]);i!=null&&v(n,["inputConfig"],Q3(HM(e,i)));const a=m(t,["config"]);return a!=null&&oz(a,n),n}function sz(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["batch","displayName"],r),n}function lz(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["src"]);i!=null&&v(n,["batch","inputConfig"],mz(e,i));const a=m(t,["config"]);return a!=null&&sz(a,n),n}function uz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function cz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function fz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&v(t,["name"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);return a!=null&&v(t,["error"],a),t}function dz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&v(t,["name"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);return a!=null&&v(t,["error"],a),t}function hz(e,t){const n={},r=m(t,["contents"]);if(r!=null){let a=A0(e,r);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["requests[]","request","content"],a)}const i=m(t,["config"]);return i!=null&&(v(n,["_self"],pz(i,n)),c3(n,{"requests[].*":"requests[].request.*"})),n}function pz(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=m(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=m(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mz(e,t){const n={},r=m(t,["fileName"]);r!=null&&v(n,["file_name"],r);const i=m(t,["inlinedRequests"]);return i!=null&&v(n,["requests"],hz(e,i)),n}function gz(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function vz(e){const t={},n=m(e,["id"]);n!=null&&v(t,["id"],n);const r=m(e,["args"]);r!=null&&v(t,["args"],r);const i=m(e,["name"]);if(i!=null&&v(t,["name"],i),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yz(e){const t={},n=m(e,["mode"]);n!=null&&v(t,["mode"],n);const r=m(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bz(e,t,n){const r={},i=m(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],jM(dn(i)));const a=m(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&v(r,["topP"],l);const c=m(t,["topK"]);c!=null&&v(r,["topK"],c);const f=m(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=m(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const p=m(t,["stopSequences"]);p!=null&&v(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const y=m(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=m(t,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const S=m(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=m(t,["seed"]);E!=null&&v(r,["seed"],E);const T=m(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=m(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],x0(x));const I=m(t,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(t,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map(de=>kz(de))),v(n,["safetySettings"],ae)}const O=m(t,["tools"]);if(n!==void 0&&O!=null){let ae=Ms(O);Array.isArray(ae)&&(ae=ae.map(de=>Lz(Ns(de)))),v(n,["tools"],ae)}const P=m(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],Uz(P)),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=m(t,["cachedContent"]);n!==void 0&&D!=null&&v(n,["cachedContent"],Ci(e,D));const U=m(t,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const Y=m(t,["mediaResolution"]);Y!=null&&v(r,["mediaResolution"],Y);const V=m(t,["speechConfig"]);if(V!=null&&v(r,["speechConfig"],C0(V)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=m(t,["thinkingConfig"]);re!=null&&v(r,["thinkingConfig"],re);const J=m(t,["imageConfig"]);J!=null&&v(r,["imageConfig"],Az(J));const te=m(t,["enableEnhancedCivicAnswers"]);return te!=null&&v(r,["enableEnhancedCivicAnswers"],te),r}function _z(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>nz(d))),v(t,["candidates"],f)}const i=m(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=m(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const l=m(e,["responseId"]);l!=null&&v(t,["responseId"],l);const c=m(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function wz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function Sz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Is(e,r)),n}function Ez(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function Tz(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function Az(e){const t={},n=m(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=m(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),m(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function xz(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["request","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let c=fr(i);Array.isArray(c)&&(c=c.map(f=>jM(f))),v(n,["request","contents"],c)}const a=m(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=m(t,["config"]);return l!=null&&v(n,["request","generationConfig"],bz(e,l,m(n,["request"],{}))),n}function Cz(e){const t={},n=m(e,["response"]);n!=null&&v(t,["response"],_z(n));const r=m(e,["error"]);return r!=null&&v(t,["error"],r),t}function Rz(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);if(t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),m(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Nz(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);t!==void 0&&i!=null&&v(t,["_query","pageToken"],i);const a=m(e,["filter"]);return t!==void 0&&a!=null&&v(t,["_query","filter"],a),n}function Mz(e){const t={},n=m(e,["config"]);return n!=null&&Rz(n,t),t}function Iz(e){const t={},n=m(e,["config"]);return n!=null&&Nz(n,t),t}function Oz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Rf(l))),v(t,["batchJobs"],a)}return t}function Pz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>dy(l))),v(t,["batchJobs"],a)}return t}function Dz(e){const t={},n=m(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=m(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=m(e,["fileData"]);a!=null&&v(t,["fileData"],gz(a));const l=m(e,["functionCall"]);l!=null&&v(t,["functionCall"],vz(l));const c=m(e,["functionResponse"]);c!=null&&v(t,["functionResponse"],c);const f=m(e,["inlineData"]);f!=null&&v(t,["inlineData"],Z3(f));const d=m(e,["text"]);d!=null&&v(t,["text"],d);const p=m(e,["thought"]);p!=null&&v(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&v(t,["thoughtSignature"],g);const y=m(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function kz(e){const t={},n=m(e,["category"]);if(n!=null&&v(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function Uz(e){const t={},n=m(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],yz(n));const r=m(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function Lz(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),v(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=m(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=m(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=m(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],Ez(c));const f=m(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],Tz(f));const d=m(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(gi||(gi={}));class la{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qz extends xi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new la(gi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=sx(this.apiClient,t),r=n._url,i=ue("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const p of f){const g=Object.assign({},p);if(g.systemInstruction){const y=g.systemInstruction;delete g.systemInstruction;const w=g.request;w.systemInstruction=y,g.request=w}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=az(this.apiClient,t);return c=ue("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>dy(p))}else{const d=sx(this.apiClient,t);return c=ue("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Rf(p))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lz(this.apiClient,t);return a=ue("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Rf(f))}}async get(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Sz(this.apiClient,t);return c=ue("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>dy(p))}else{const d=wz(this.apiClient,t);return c=ue("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Rf(p))}}async cancel(t){var n,r,i,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=tz(this.apiClient,t);l=ue("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=ez(this.apiClient,t);l=ue("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Iz(t);return c=ue("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=Pz(p),y=new rx;return Object.assign(y,g),y})}else{const d=Mz(t);return c=ue("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=Oz(p),y=new rx;return Object.assign(y,g),y})}}async delete(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=cz(this.apiClient,t);return c=ue("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>dz(p))}else{const d=uz(this.apiClient,t);return c=ue("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>fz(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $z(e){const t={},n=m(e,["data"]);if(n!=null&&v(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function lx(e){const t={},n=m(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>l4(a))),v(t,["parts"],i)}const r=m(e,["role"]);return r!=null&&v(t,["role"],r),t}function Bz(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=m(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=m(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const l=m(e,["contents"]);if(t!==void 0&&l!=null){let p=fr(l);Array.isArray(p)&&(p=p.map(g=>lx(g))),v(t,["contents"],p)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&v(t,["systemInstruction"],lx(dn(c)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>c4(g))),v(t,["tools"],p)}const d=m(e,["toolConfig"]);if(t!==void 0&&d!=null&&v(t,["toolConfig"],u4(d)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function zz(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=m(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=m(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const l=m(e,["contents"]);if(t!==void 0&&l!=null){let g=fr(l);Array.isArray(g)&&(g=g.map(y=>y)),v(t,["contents"],g)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&v(t,["systemInstruction"],dn(c));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>f4(y))),v(t,["tools"],g)}const d=m(e,["toolConfig"]);t!==void 0&&d!=null&&v(t,["toolConfig"],d);const p=m(e,["kmsKeyName"]);return t!==void 0&&p!=null&&v(t,["encryption_spec","kmsKeyName"],p),n}function Hz(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["model"],PM(e,r));const i=m(t,["config"]);return i!=null&&Bz(i,n),n}function Gz(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["model"],PM(e,r));const i=m(t,["config"]);return i!=null&&zz(i,n),n}function Vz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Ci(e,r)),n}function jz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Ci(e,r)),n}function Fz(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function Kz(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function Yz(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Jz(e){const t={},n=m(e,["id"]);n!=null&&v(t,["id"],n);const r=m(e,["args"]);r!=null&&v(t,["args"],r);const i=m(e,["name"]);if(i!=null&&v(t,["name"],i),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Wz(e){const t={},n=m(e,["mode"]);n!=null&&v(t,["mode"],n);const r=m(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Xz(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&v(t,["description"],n);const r=m(e,["name"]);r!=null&&v(t,["name"],r);const i=m(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=m(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&v(t,["response"],l);const c=m(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function Qz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Ci(e,r)),n}function Zz(e,t){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],Ci(e,r)),n}function e4(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function t4(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function n4(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function r4(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function i4(e){const t={},n=m(e,["config"]);return n!=null&&n4(n,t),t}function o4(e){const t={},n=m(e,["config"]);return n!=null&&r4(n,t),t}function a4(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["cachedContents"],a)}return t}function s4(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["cachedContents"],a)}return t}function l4(e){const t={},n=m(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=m(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=m(e,["fileData"]);a!=null&&v(t,["fileData"],Yz(a));const l=m(e,["functionCall"]);l!=null&&v(t,["functionCall"],Jz(l));const c=m(e,["functionResponse"]);c!=null&&v(t,["functionResponse"],c);const f=m(e,["inlineData"]);f!=null&&v(t,["inlineData"],$z(f));const d=m(e,["text"]);d!=null&&v(t,["text"],d);const p=m(e,["thought"]);p!=null&&v(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&v(t,["thoughtSignature"],g);const y=m(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function u4(e){const t={},n=m(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],Wz(n));const r=m(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function c4(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),v(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=m(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=m(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=m(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],e4(c));const f=m(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],t4(f));const d=m(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function f4(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>Xz(y))),v(t,["functionDeclarations"],g)}const r=m(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=m(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=m(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&v(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=m(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const p=m(e,["urlContext"]);return p!=null&&v(t,["urlContext"],p),t}function d4(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=m(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function h4(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=m(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function p4(e,t){const n={},r=m(t,["name"]);r!=null&&v(n,["_url","name"],Ci(e,r));const i=m(t,["config"]);return i!=null&&d4(i,n),n}function m4(e,t){const n={},r=m(t,["name"]);r!=null&&v(n,["_url","name"],Ci(e,r));const i=m(t,["config"]);return i!=null&&h4(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g4 extends xi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new la(gi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Gz(this.apiClient,t);return c=ue("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=Hz(this.apiClient,t);return c=ue("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Zz(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=Qz(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=jz(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=Kz(p),y=new tx;return Object.assign(y,g),y})}else{const d=Vz(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=Fz(p),y=new tx;return Object.assign(y,g),y})}}async update(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=m4(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=p4(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=o4(t);return c=ue("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=s4(p),y=new nx;return Object.assign(y,g),y})}else{const d=i4(t);return c=ue("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=a4(p),y=new nx;return Object.assign(y,g),y})}}}function Hf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ux(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e){return this instanceof Ne?(this.v=e,this):new Ne(e)}function Rr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(S){return Promise.resolve(S).then(w,g)}}function c(w,S){r[w]&&(i[w]=function(E){return new Promise(function(T,x){a.push([w,E,T,x])>1||f(w,E)})},S&&(i[w]=S(i[w])))}function f(w,S){try{d(r[w](S))}catch(E){y(a[0][3],E)}}function d(w){w.value instanceof Ne?Promise.resolve(w.value.v).then(p,g):y(a[0][2],w)}function p(w){f("next",w)}function g(w){f("throw",w)}function y(w,S){w(S),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Nr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ux=="function"?ux(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(c,f){l=e[a](l),i(c,f,l.done,l.value)})}}function i(a,l,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v4(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:FM(n)}function FM(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function y4(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function cx(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!FM(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class b4{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new _4(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class _4{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),y4(a)}async sendMessage(t){var n;await this.sendPromise;const r=dn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const f=await i,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];p!=null&&(y=(c=p.slice(g))!==null&&c!==void 0?c:[]);const w=d?[d]:[];this.recordHistory(r,w,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=dn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?cx(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Rr(this,arguments,function*(){var i,a,l,c,f,d;const p=[];try{for(var g=!0,y=Nr(t),w;w=yield Ne(y.next()),i=w.done,!i;g=!0){c=w.value,g=!1;const S=c;if(v4(S)){const E=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;E!==void 0&&p.push(E)}yield yield Ne(S)}}catch(S){a={error:S}}finally{try{!g&&!i&&(l=y.return)&&(yield Ne(l.call(y)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...cx(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ud extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ud.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w4(e){const t={},n=m(e,["file"]);return n!=null&&v(t,["file"],n),t}function S4(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function E4(e){const t={},n=m(e,["name"]);return n!=null&&v(t,["_url","file"],$M(n)),t}function T4(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function A4(e){const t={},n=m(e,["name"]);return n!=null&&v(t,["_url","file"],$M(n)),t}function x4(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function C4(e){const t={},n=m(e,["config"]);return n!=null&&x4(n,t),t}function R4(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N4 extends xi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new la(gi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=C4(t);return a=ue("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=R4(f),p=new P3;return Object.assign(p,d),p})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=w4(t);return a=ue("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=S4(f),p=new D3;return Object.assign(p,d),p})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=A4(t);return a=ue("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=E4(t);return a=ue("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=T4(f),p=new k3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nf(e){const t={},n=m(e,["data"]);if(n!=null&&v(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function M4(e){const t={},n=m(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F4(a))),v(t,["parts"],i)}const r=m(e,["role"]);return r!=null&&v(t,["role"],r),t}function I4(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function O4(e){const t={},n=m(e,["id"]);n!=null&&v(t,["id"],n);const r=m(e,["args"]);r!=null&&v(t,["args"],r);const i=m(e,["name"]);if(i!=null&&v(t,["name"],i),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function P4(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&v(t,["description"],n);const r=m(e,["name"]);r!=null&&v(t,["name"],r);const i=m(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=m(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&v(t,["response"],l);const c=m(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function D4(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=m(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=m(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const l=m(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&v(t,["frequencyPenalty"],c);const f=m(e,["logprobs"]);f!=null&&v(t,["logprobs"],f);const d=m(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const p=m(e,["mediaResolution"]);p!=null&&v(t,["mediaResolution"],p);const g=m(e,["presencePenalty"]);g!=null&&v(t,["presencePenalty"],g);const y=m(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const w=m(e,["responseMimeType"]);w!=null&&v(t,["responseMimeType"],w);const S=m(e,["responseModalities"]);S!=null&&v(t,["responseModalities"],S);const E=m(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const T=m(e,["routingConfig"]);T!=null&&v(t,["routingConfig"],T);const x=m(e,["seed"]);x!=null&&v(t,["seed"],x);const I=m(e,["speechConfig"]);I!=null&&v(t,["speechConfig"],I);const M=m(e,["stopSequences"]);M!=null&&v(t,["stopSequences"],M);const O=m(e,["temperature"]);O!=null&&v(t,["temperature"],O);const P=m(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const D=m(e,["topK"]);D!=null&&v(t,["topK"],D);const U=m(e,["topP"]);if(U!=null&&v(t,["topP"],U),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function k4(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function U4(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function L4(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=m(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=m(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=m(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","speechConfig"],R0(g));const y=m(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],M4(dn(S)));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let D=Ms(E);Array.isArray(D)&&(D=D.map(U=>Y4(Ns(U)))),v(t,["setup","tools"],D)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],K4(T));const x=m(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const I=m(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&v(t,["setup","realtimeInputConfig"],M);const O=m(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=m(e,["proactivity"]);if(t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),m(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function q4(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],D4(r));const i=m(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=m(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=m(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","speechConfig"],R0(g));const y=m(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],dn(S));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let U=Ms(E);Array.isArray(U)&&(U=U.map(Y=>J4(Ns(Y)))),v(t,["setup","tools"],U)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],T);const x=m(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const I=m(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&v(t,["setup","realtimeInputConfig"],M);const O=m(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=m(e,["proactivity"]);t!==void 0&&P!=null&&v(t,["setup","proactivity"],P);const D=m(e,["explicitVadSignal"]);return t!==void 0&&D!=null&&v(t,["setup","explicitVadSignal"],D),n}function $4(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["setup","model"],je(e,r));const i=m(t,["config"]);return i!=null&&v(n,["config"],L4(i,n)),n}function B4(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["setup","model"],je(e,r));const i=m(t,["config"]);return i!=null&&v(n,["config"],q4(i,n)),n}function z4(e){const t={},n=m(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],n),t}function H4(e){const t={},n=m(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["weightedPrompts"],r)}return t}function G4(e){const t={},n=m(e,["media"]);if(n!=null){let d=DM(n);Array.isArray(d)&&(d=d.map(p=>Nf(p))),v(t,["mediaChunks"],d)}const r=m(e,["audio"]);r!=null&&v(t,["audio"],Nf(UM(r)));const i=m(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=m(e,["video"]);a!=null&&v(t,["video"],Nf(kM(a)));const l=m(e,["text"]);l!=null&&v(t,["text"],l);const c=m(e,["activityStart"]);c!=null&&v(t,["activityStart"],c);const f=m(e,["activityEnd"]);return f!=null&&v(t,["activityEnd"],f),t}function V4(e){const t={},n=m(e,["media"]);if(n!=null){let d=DM(n);Array.isArray(d)&&(d=d.map(p=>p)),v(t,["mediaChunks"],d)}const r=m(e,["audio"]);r!=null&&v(t,["audio"],UM(r));const i=m(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=m(e,["video"]);a!=null&&v(t,["video"],kM(a));const l=m(e,["text"]);l!=null&&v(t,["text"],l);const c=m(e,["activityStart"]);c!=null&&v(t,["activityStart"],c);const f=m(e,["activityEnd"]);return f!=null&&v(t,["activityEnd"],f),t}function j4(e){const t={},n=m(e,["setupComplete"]);n!=null&&v(t,["setupComplete"],n);const r=m(e,["serverContent"]);r!=null&&v(t,["serverContent"],r);const i=m(e,["toolCall"]);i!=null&&v(t,["toolCall"],i);const a=m(e,["toolCallCancellation"]);a!=null&&v(t,["toolCallCancellation"],a);const l=m(e,["usageMetadata"]);l!=null&&v(t,["usageMetadata"],W4(l));const c=m(e,["goAway"]);c!=null&&v(t,["goAway"],c);const f=m(e,["sessionResumptionUpdate"]);f!=null&&v(t,["sessionResumptionUpdate"],f);const d=m(e,["voiceActivityDetectionSignal"]);return d!=null&&v(t,["voiceActivityDetectionSignal"],d),t}function F4(e){const t={},n=m(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=m(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=m(e,["fileData"]);a!=null&&v(t,["fileData"],I4(a));const l=m(e,["functionCall"]);l!=null&&v(t,["functionCall"],O4(l));const c=m(e,["functionResponse"]);c!=null&&v(t,["functionResponse"],c);const f=m(e,["inlineData"]);f!=null&&v(t,["inlineData"],Nf(f));const d=m(e,["text"]);d!=null&&v(t,["text"],d);const p=m(e,["thought"]);p!=null&&v(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&v(t,["thoughtSignature"],g);const y=m(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function K4(e){const t={},n=m(e,["handle"]);if(n!=null&&v(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Y4(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),v(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=m(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=m(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=m(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],k4(c));const f=m(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],U4(f));const d=m(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function J4(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>P4(y))),v(t,["functionDeclarations"],g)}const r=m(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=m(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=m(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&v(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=m(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const p=m(e,["urlContext"]);return p!=null&&v(t,["urlContext"],p),t}function W4(e){const t={},n=m(e,["promptTokenCount"]);n!=null&&v(t,["promptTokenCount"],n);const r=m(e,["cachedContentTokenCount"]);r!=null&&v(t,["cachedContentTokenCount"],r);const i=m(e,["candidatesTokenCount"]);i!=null&&v(t,["responseTokenCount"],i);const a=m(e,["toolUsePromptTokenCount"]);a!=null&&v(t,["toolUsePromptTokenCount"],a);const l=m(e,["thoughtsTokenCount"]);l!=null&&v(t,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&v(t,["totalTokenCount"],c);const f=m(e,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(S=>S)),v(t,["promptTokensDetails"],w)}const d=m(e,["cacheTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>S)),v(t,["cacheTokensDetails"],w)}const p=m(e,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(S=>S)),v(t,["responseTokensDetails"],w)}const g=m(e,["toolUsePromptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(S=>S)),v(t,["toolUsePromptTokensDetails"],w)}const y=m(e,["trafficType"]);return y!=null&&v(t,["trafficType"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X4(e){const t={},n=m(e,["data"]);if(n!=null&&v(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Q4(e){const t={},n=m(e,["content"]);n!=null&&v(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],Z4(r));const i=m(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=m(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const l=m(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const c=m(e,["groundingMetadata"]);c!=null&&v(t,["groundingMetadata"],c);const f=m(e,["index"]);f!=null&&v(t,["index"],f);const d=m(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const p=m(e,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(w=>w)),v(t,["safetyRatings"],y)}const g=m(e,["urlContextMetadata"]);return g!=null&&v(t,["urlContextMetadata"],g),t}function Z4(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function eH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let a=fr(i);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["contents"],a)}return n}function tH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["tokensInfo"],i)}return t}function nH(e){const t={},n=m(e,["values"]);n!=null&&v(t,["values"],n);const r=m(e,["statistics"]);return r!=null&&v(t,["statistics"],rH(r)),t}function rH(e){const t={},n=m(e,["truncated"]);n!=null&&v(t,["truncated"],n);const r=m(e,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function Ld(e){const t={},n=m(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>d5(a))),v(t,["parts"],i)}const r=m(e,["role"]);return r!=null&&v(t,["role"],r),t}function iH(e){const t={},n=m(e,["controlType"]);n!=null&&v(t,["controlType"],n);const r=m(e,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function oH(e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function aH(e,t){const n={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],dn(r));const i=m(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>WM(c))),v(t,["tools"],l)}const a=m(e,["generationConfig"]);return t!==void 0&&a!=null&&v(t,["generationConfig"],XH(a)),n}function sH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let l=fr(i);Array.isArray(l)&&(l=l.map(c=>Ld(c))),v(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&oH(a),n}function lH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let l=fr(i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&aH(a,n),n}function uH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const i=m(e,["cachedContentTokenCount"]);return i!=null&&v(t,["cachedContentTokenCount"],i),t}function cH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function fH(e,t){const n={},r=m(t,["model"]);return r!=null&&v(n,["_url","name"],je(e,r)),n}function dH(e,t){const n={},r=m(t,["model"]);return r!=null&&v(n,["_url","name"],je(e,r)),n}function hH(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function pH(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function mH(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=m(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const l=m(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&v(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&v(t,["parameters","seed"],f);const d=m(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&v(t,["parameters","personGeneration"],p);const g=m(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&v(t,["parameters","includeSafetyAttributes"],g);const y=m(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const w=m(e,["language"]);t!==void 0&&w!=null&&v(t,["parameters","language"],w);const S=m(e,["outputMimeType"]);t!==void 0&&S!=null&&v(t,["parameters","outputOptions","mimeType"],S);const E=m(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const T=m(e,["addWatermark"]);t!==void 0&&T!=null&&v(t,["parameters","addWatermark"],T);const x=m(e,["labels"]);t!==void 0&&x!=null&&v(t,["labels"],x);const I=m(e,["editMode"]);t!==void 0&&I!=null&&v(t,["parameters","editMode"],I);const M=m(e,["baseSteps"]);return t!==void 0&&M!=null&&v(t,["parameters","editConfig","baseSteps"],M),n}function gH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=m(t,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>y5(f))),v(n,["instances[0]","referenceImages"],c)}const l=m(t,["config"]);return l!=null&&mH(l,n),n}function vH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>qd(a))),v(t,["generatedImages"],i)}return t}function yH(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=m(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=m(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bH(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&v(t,["instances[]","task_type"],r);const i=m(e,["title"]);t!==void 0&&i!=null&&v(t,["instances[]","title"],i);const a=m(e,["outputDimensionality"]);t!==void 0&&a!=null&&v(t,["parameters","outputDimensionality"],a);const l=m(e,["mimeType"]);t!==void 0&&l!=null&&v(t,["instances[]","mimeType"],l);const c=m(e,["autoTruncate"]);return t!==void 0&&c!=null&&v(t,["parameters","autoTruncate"],c),n}function _H(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let c=A0(e,i);Array.isArray(c)&&(c=c.map(f=>f)),v(n,["requests[]","content"],c)}const a=m(t,["config"]);a!=null&&yH(a,n);const l=m(t,["model"]);return l!==void 0&&v(n,["requests[]","model"],je(e,l)),n}function wH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let l=A0(e,i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["instances[]","content"],l)}const a=m(t,["config"]);return a!=null&&bH(a,n),n}function SH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["embeddings"],a)}const i=m(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function EH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>nH(l))),v(t,["embeddings"],a)}const i=m(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function TH(e){const t={},n=m(e,["endpoint"]);n!=null&&v(t,["name"],n);const r=m(e,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function AH(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function xH(e){const t={},n=m(e,["id"]);n!=null&&v(t,["id"],n);const r=m(e,["args"]);r!=null&&v(t,["args"],r);const i=m(e,["name"]);if(i!=null&&v(t,["name"],i),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CH(e){const t={},n=m(e,["mode"]);n!=null&&v(t,["mode"],n);const r=m(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function RH(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&v(t,["description"],n);const r=m(e,["name"]);r!=null&&v(t,["name"],r);const i=m(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=m(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&v(t,["response"],l);const c=m(e,["responseJsonSchema"]);return c!=null&&v(t,["responseJsonSchema"],c),t}function NH(e,t,n){const r={},i=m(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Ld(dn(i)));const a=m(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&v(r,["topP"],l);const c=m(t,["topK"]);c!=null&&v(r,["topK"],c);const f=m(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=m(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const p=m(t,["stopSequences"]);p!=null&&v(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const y=m(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=m(t,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const S=m(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=m(t,["seed"]);E!=null&&v(r,["seed"],E);const T=m(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=m(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],x0(x));const I=m(t,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(t,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map(de=>b5(de))),v(n,["safetySettings"],ae)}const O=m(t,["tools"]);if(n!==void 0&&O!=null){let ae=Ms(O);Array.isArray(ae)&&(ae=ae.map(de=>x5(Ns(de)))),v(n,["tools"],ae)}const P=m(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],A5(P)),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=m(t,["cachedContent"]);n!==void 0&&D!=null&&v(n,["cachedContent"],Ci(e,D));const U=m(t,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const Y=m(t,["mediaResolution"]);Y!=null&&v(r,["mediaResolution"],Y);const V=m(t,["speechConfig"]);if(V!=null&&v(r,["speechConfig"],C0(V)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=m(t,["thinkingConfig"]);re!=null&&v(r,["thinkingConfig"],re);const J=m(t,["imageConfig"]);J!=null&&v(r,["imageConfig"],n5(J));const te=m(t,["enableEnhancedCivicAnswers"]);return te!=null&&v(r,["enableEnhancedCivicAnswers"],te),r}function MH(e,t,n){const r={},i=m(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],dn(i));const a=m(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&v(r,["topP"],l);const c=m(t,["topK"]);c!=null&&v(r,["topK"],c);const f=m(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=m(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const p=m(t,["stopSequences"]);p!=null&&v(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const y=m(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const w=m(t,["presencePenalty"]);w!=null&&v(r,["presencePenalty"],w);const S=m(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=m(t,["seed"]);E!=null&&v(r,["seed"],E);const T=m(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=m(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],x0(x));const I=m(t,["responseJsonSchema"]);I!=null&&v(r,["responseJsonSchema"],I);const M=m(t,["routingConfig"]);M!=null&&v(r,["routingConfig"],M);const O=m(t,["modelSelectionConfig"]);O!=null&&v(r,["modelConfig"],O);const P=m(t,["safetySettings"]);if(n!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(ne=>ne)),v(n,["safetySettings"],B)}const D=m(t,["tools"]);if(n!==void 0&&D!=null){let B=Ms(D);Array.isArray(B)&&(B=B.map(ne=>WM(Ns(ne)))),v(n,["tools"],B)}const U=m(t,["toolConfig"]);n!==void 0&&U!=null&&v(n,["toolConfig"],U);const Y=m(t,["labels"]);n!==void 0&&Y!=null&&v(n,["labels"],Y);const V=m(t,["cachedContent"]);n!==void 0&&V!=null&&v(n,["cachedContent"],Ci(e,V));const re=m(t,["responseModalities"]);re!=null&&v(r,["responseModalities"],re);const J=m(t,["mediaResolution"]);J!=null&&v(r,["mediaResolution"],J);const te=m(t,["speechConfig"]);te!=null&&v(r,["speechConfig"],C0(te));const ae=m(t,["audioTimestamp"]);ae!=null&&v(r,["audioTimestamp"],ae);const de=m(t,["thinkingConfig"]);de!=null&&v(r,["thinkingConfig"],de);const Te=m(t,["imageConfig"]);if(Te!=null&&v(r,["imageConfig"],r5(Te)),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function fx(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let l=fr(i);Array.isArray(l)&&(l=l.map(c=>Ld(c))),v(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&v(n,["generationConfig"],NH(e,a,n)),n}function dx(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["contents"]);if(i!=null){let l=fr(i);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&v(n,["generationConfig"],MH(e,a,n)),n}function hx(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Q4(d))),v(t,["candidates"],f)}const i=m(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=m(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const l=m(e,["responseId"]);l!=null&&v(t,["responseId"],l);const c=m(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function px(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),v(t,["candidates"],d)}const i=m(e,["createTime"]);i!=null&&v(t,["createTime"],i);const a=m(e,["modelVersion"]);a!=null&&v(t,["modelVersion"],a);const l=m(e,["promptFeedback"]);l!=null&&v(t,["promptFeedback"],l);const c=m(e,["responseId"]);c!=null&&v(t,["responseId"],c);const f=m(e,["usageMetadata"]);return f!=null&&v(t,["usageMetadata"],f),t}function IH(e,t){const n={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=m(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const a=m(e,["guidanceScale"]);if(t!==void 0&&a!=null&&v(t,["parameters","guidanceScale"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&v(t,["parameters","safetySetting"],l);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&v(t,["parameters","personGeneration"],c);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&v(t,["parameters","includeSafetyAttributes"],f);const d=m(e,["includeRaiReason"]);t!==void 0&&d!=null&&v(t,["parameters","includeRaiReason"],d);const p=m(e,["language"]);t!==void 0&&p!=null&&v(t,["parameters","language"],p);const g=m(e,["outputMimeType"]);t!==void 0&&g!=null&&v(t,["parameters","outputOptions","mimeType"],g);const y=m(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=m(e,["imageSize"]);if(t!==void 0&&w!=null&&v(t,["parameters","sampleImageSize"],w),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function OH(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=m(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const l=m(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&v(t,["parameters","guidanceScale"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&v(t,["parameters","seed"],f);const d=m(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&v(t,["parameters","personGeneration"],p);const g=m(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&v(t,["parameters","includeSafetyAttributes"],g);const y=m(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const w=m(e,["language"]);t!==void 0&&w!=null&&v(t,["parameters","language"],w);const S=m(e,["outputMimeType"]);t!==void 0&&S!=null&&v(t,["parameters","outputOptions","mimeType"],S);const E=m(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const T=m(e,["addWatermark"]);t!==void 0&&T!=null&&v(t,["parameters","addWatermark"],T);const x=m(e,["labels"]);t!==void 0&&x!=null&&v(t,["labels"],x);const I=m(e,["imageSize"]);t!==void 0&&I!=null&&v(t,["parameters","sampleImageSize"],I);const M=m(e,["enhancePrompt"]);return t!==void 0&&M!=null&&v(t,["parameters","enhancePrompt"],M),n}function PH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=m(t,["config"]);return a!=null&&IH(a,n),n}function DH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=m(t,["config"]);return a!=null&&OH(a,n),n}function kH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>KH(l))),v(t,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],YM(i)),t}function UH(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>qd(l))),v(t,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],JM(i)),t}function LH(e,t){const n={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=m(e,["durationSeconds"]);if(t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=m(e,["aspectRatio"]);t!==void 0&&a!=null&&v(t,["parameters","aspectRatio"],a);const l=m(e,["resolution"]);t!==void 0&&l!=null&&v(t,["parameters","resolution"],l);const c=m(e,["personGeneration"]);if(t!==void 0&&c!=null&&v(t,["parameters","personGeneration"],c),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(e,["negativePrompt"]);t!==void 0&&f!=null&&v(t,["parameters","negativePrompt"],f);const d=m(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&v(t,["parameters","enhancePrompt"],d),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=m(e,["lastFrame"]);t!==void 0&&p!=null&&v(t,["instances[0]","lastFrame"],$d(p));const g=m(e,["referenceImages"]);if(t!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(w=>$5(w))),v(t,["instances[0]","referenceImages"],y)}if(m(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qH(e,t){const n={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=m(e,["outputGcsUri"]);t!==void 0&&i!=null&&v(t,["parameters","storageUri"],i);const a=m(e,["fps"]);t!==void 0&&a!=null&&v(t,["parameters","fps"],a);const l=m(e,["durationSeconds"]);t!==void 0&&l!=null&&v(t,["parameters","durationSeconds"],l);const c=m(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&v(t,["parameters","aspectRatio"],f);const d=m(e,["resolution"]);t!==void 0&&d!=null&&v(t,["parameters","resolution"],d);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&v(t,["parameters","personGeneration"],p);const g=m(e,["pubsubTopic"]);t!==void 0&&g!=null&&v(t,["parameters","pubsubTopic"],g);const y=m(e,["negativePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","negativePrompt"],y);const w=m(e,["enhancePrompt"]);t!==void 0&&w!=null&&v(t,["parameters","enhancePrompt"],w);const S=m(e,["generateAudio"]);t!==void 0&&S!=null&&v(t,["parameters","generateAudio"],S);const E=m(e,["lastFrame"]);t!==void 0&&E!=null&&v(t,["instances[0]","lastFrame"],Or(E));const T=m(e,["referenceImages"]);if(t!==void 0&&T!=null){let M=T;Array.isArray(M)&&(M=M.map(O=>B5(O))),v(t,["instances[0]","referenceImages"],M)}const x=m(e,["mask"]);t!==void 0&&x!=null&&v(t,["instances[0]","mask"],q5(x));const I=m(e,["compressionQuality"]);return t!==void 0&&I!=null&&v(t,["parameters","compressionQuality"],I),n}function $H(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],GH(l)),t}function BH(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response"]);return l!=null&&v(t,["response"],VH(l)),t}function zH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=m(t,["image"]);a!=null&&v(n,["instances[0]","image"],$d(a));const l=m(t,["video"]);l!=null&&v(n,["instances[0]","video"],XM(l));const c=m(t,["source"]);c!=null&&jH(c,n);const f=m(t,["config"]);return f!=null&&LH(f,n),n}function HH(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=m(t,["image"]);a!=null&&v(n,["instances[0]","image"],Or(a));const l=m(t,["video"]);l!=null&&v(n,["instances[0]","video"],QM(l));const c=m(t,["source"]);c!=null&&FH(c,n);const f=m(t,["config"]);return f!=null&&qH(f,n),n}function GH(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>JH(l))),v(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=m(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function VH(e){const t={},n=m(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>WH(l))),v(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=m(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function jH(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=m(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],$d(i));const a=m(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],XM(a)),n}function FH(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=m(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Or(i));const a=m(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],QM(a)),n}function KH(e){const t={},n=m(e,["_self"]);n!=null&&v(t,["image"],i5(n));const r=m(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=m(e,["_self"]);return i!=null&&v(t,["safetyAttributes"],YM(i)),t}function qd(e){const t={},n=m(e,["_self"]);n!=null&&v(t,["image"],KM(n));const r=m(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=m(e,["_self"]);i!=null&&v(t,["safetyAttributes"],JM(i));const a=m(e,["prompt"]);return a!=null&&v(t,["enhancedPrompt"],a),t}function YH(e){const t={},n=m(e,["_self"]);n!=null&&v(t,["mask"],KM(n));const r=m(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["labels"],i)}return t}function JH(e){const t={},n=m(e,["video"]);return n!=null&&v(t,["video"],U5(n)),t}function WH(e){const t={},n=m(e,["_self"]);return n!=null&&v(t,["video"],L5(n)),t}function XH(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=m(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=m(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const l=m(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&v(t,["frequencyPenalty"],c);const f=m(e,["logprobs"]);f!=null&&v(t,["logprobs"],f);const d=m(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const p=m(e,["mediaResolution"]);p!=null&&v(t,["mediaResolution"],p);const g=m(e,["presencePenalty"]);g!=null&&v(t,["presencePenalty"],g);const y=m(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const w=m(e,["responseMimeType"]);w!=null&&v(t,["responseMimeType"],w);const S=m(e,["responseModalities"]);S!=null&&v(t,["responseModalities"],S);const E=m(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const T=m(e,["routingConfig"]);T!=null&&v(t,["routingConfig"],T);const x=m(e,["seed"]);x!=null&&v(t,["seed"],x);const I=m(e,["speechConfig"]);I!=null&&v(t,["speechConfig"],I);const M=m(e,["stopSequences"]);M!=null&&v(t,["stopSequences"],M);const O=m(e,["temperature"]);O!=null&&v(t,["temperature"],O);const P=m(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const D=m(e,["topK"]);D!=null&&v(t,["topK"],D);const U=m(e,["topP"]);if(U!=null&&v(t,["topP"],U),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function QH(e,t){const n={},r=m(t,["model"]);return r!=null&&v(n,["_url","name"],je(e,r)),n}function ZH(e,t){const n={},r=m(t,["model"]);return r!=null&&v(n,["_url","name"],je(e,r)),n}function e5(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function t5(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function n5(e){const t={},n=m(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=m(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),m(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function r5(e){const t={},n=m(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=m(e,["imageSize"]);r!=null&&v(t,["imageSize"],r);const i=m(e,["outputMimeType"]);i!=null&&v(t,["imageOutputOptions","mimeType"],i);const a=m(e,["outputCompressionQuality"]);return a!=null&&v(t,["imageOutputOptions","compressionQuality"],a),t}function i5(e){const t={},n=m(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],po(n));const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function KM(e){const t={},n=m(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],po(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function $d(e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],po(n));const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Or(e){const t={},n=m(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=m(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],po(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function o5(e,t,n){const r={},i=m(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=m(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=m(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=m(t,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],BM(e,c)),r}function a5(e,t,n){const r={},i=m(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=m(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=m(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const c=m(t,["queryBase"]);return n!==void 0&&c!=null&&v(n,["_url","models_url"],BM(e,c)),r}function s5(e,t){const n={},r=m(t,["config"]);return r!=null&&o5(e,r,n),n}function l5(e,t){const n={},r=m(t,["config"]);return r!=null&&a5(e,r,n),n}function u5(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=zM(i);Array.isArray(a)&&(a=a.map(l=>hy(l))),v(t,["models"],a)}return t}function c5(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=zM(i);Array.isArray(a)&&(a=a.map(l=>py(l))),v(t,["models"],a)}return t}function f5(e){const t={},n=m(e,["maskMode"]);n!=null&&v(t,["maskMode"],n);const r=m(e,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const i=m(e,["maskDilation"]);return i!=null&&v(t,["dilation"],i),t}function hy(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=m(e,["description"]);i!=null&&v(t,["description"],i);const a=m(e,["version"]);a!=null&&v(t,["version"],a);const l=m(e,["_self"]);l!=null&&v(t,["tunedModelInfo"],C5(l));const c=m(e,["inputTokenLimit"]);c!=null&&v(t,["inputTokenLimit"],c);const f=m(e,["outputTokenLimit"]);f!=null&&v(t,["outputTokenLimit"],f);const d=m(e,["supportedGenerationMethods"]);d!=null&&v(t,["supportedActions"],d);const p=m(e,["temperature"]);p!=null&&v(t,["temperature"],p);const g=m(e,["maxTemperature"]);g!=null&&v(t,["maxTemperature"],g);const y=m(e,["topP"]);y!=null&&v(t,["topP"],y);const w=m(e,["topK"]);w!=null&&v(t,["topK"],w);const S=m(e,["thinking"]);return S!=null&&v(t,["thinking"],S),t}function py(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=m(e,["description"]);i!=null&&v(t,["description"],i);const a=m(e,["versionId"]);a!=null&&v(t,["version"],a);const l=m(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>TH(y))),v(t,["endpoints"],g)}const c=m(e,["labels"]);c!=null&&v(t,["labels"],c);const f=m(e,["_self"]);f!=null&&v(t,["tunedModelInfo"],R5(f));const d=m(e,["defaultCheckpointId"]);d!=null&&v(t,["defaultCheckpointId"],d);const p=m(e,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>y)),v(t,["checkpoints"],g)}return t}function d5(e){const t={},n=m(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=m(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=m(e,["fileData"]);a!=null&&v(t,["fileData"],AH(a));const l=m(e,["functionCall"]);l!=null&&v(t,["functionCall"],xH(l));const c=m(e,["functionResponse"]);c!=null&&v(t,["functionResponse"],c);const f=m(e,["inlineData"]);f!=null&&v(t,["inlineData"],X4(f));const d=m(e,["text"]);d!=null&&v(t,["text"],d);const p=m(e,["thought"]);p!=null&&v(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&v(t,["thoughtSignature"],g);const y=m(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function h5(e){const t={},n=m(e,["productImage"]);return n!=null&&v(t,["image"],Or(n)),t}function p5(e,t){const n={},r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=m(e,["baseSteps"]);t!==void 0&&i!=null&&v(t,["parameters","baseSteps"],i);const a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&v(t,["parameters","storageUri"],a);const l=m(e,["seed"]);t!==void 0&&l!=null&&v(t,["parameters","seed"],l);const c=m(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&v(t,["parameters","safetySetting"],c);const f=m(e,["personGeneration"]);t!==void 0&&f!=null&&v(t,["parameters","personGeneration"],f);const d=m(e,["addWatermark"]);t!==void 0&&d!=null&&v(t,["parameters","addWatermark"],d);const p=m(e,["outputMimeType"]);t!==void 0&&p!=null&&v(t,["parameters","outputOptions","mimeType"],p);const g=m(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&v(t,["parameters","outputOptions","compressionQuality"],g);const y=m(e,["enhancePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","enhancePrompt"],y);const w=m(e,["labels"]);return t!==void 0&&w!=null&&v(t,["labels"],w),n}function m5(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["source"]);i!=null&&v5(i,n);const a=m(t,["config"]);return a!=null&&p5(a,n),n}function g5(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qd(i))),v(t,["generatedImages"],r)}return t}function v5(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=m(e,["personImage"]);t!==void 0&&i!=null&&v(t,["instances[0]","personImage","image"],Or(i));const a=m(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>h5(c))),v(t,["instances[0]","productImages"],l)}return n}function y5(e){const t={},n=m(e,["referenceImage"]);n!=null&&v(t,["referenceImage"],Or(n));const r=m(e,["referenceId"]);r!=null&&v(t,["referenceId"],r);const i=m(e,["referenceType"]);i!=null&&v(t,["referenceType"],i);const a=m(e,["maskImageConfig"]);a!=null&&v(t,["maskImageConfig"],f5(a));const l=m(e,["controlImageConfig"]);l!=null&&v(t,["controlImageConfig"],iH(l));const c=m(e,["styleImageConfig"]);c!=null&&v(t,["styleImageConfig"],c);const f=m(e,["subjectImageConfig"]);return f!=null&&v(t,["subjectImageConfig"],f),t}function YM(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=m(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function JM(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=m(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function b5(e){const t={},n=m(e,["category"]);if(n!=null&&v(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function _5(e){const t={},n=m(e,["image"]);return n!=null&&v(t,["image"],Or(n)),t}function w5(e,t){const n={},r=m(e,["mode"]);t!==void 0&&r!=null&&v(t,["parameters","mode"],r);const i=m(e,["maxPredictions"]);t!==void 0&&i!=null&&v(t,["parameters","maxPredictions"],i);const a=m(e,["confidenceThreshold"]);t!==void 0&&a!=null&&v(t,["parameters","confidenceThreshold"],a);const l=m(e,["maskDilation"]);t!==void 0&&l!=null&&v(t,["parameters","maskDilation"],l);const c=m(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&v(t,["parameters","binaryColorThreshold"],c);const f=m(e,["labels"]);return t!==void 0&&f!=null&&v(t,["labels"],f),n}function S5(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["source"]);i!=null&&T5(i,n);const a=m(t,["config"]);return a!=null&&w5(a,n),n}function E5(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YH(i))),v(t,["generatedMasks"],r)}return t}function T5(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=m(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Or(i));const a=m(e,["scribbleImage"]);return t!==void 0&&a!=null&&v(t,["instances[0]","scribble"],_5(a)),n}function A5(e){const t={},n=m(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],CH(n));const r=m(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function x5(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),v(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=m(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=m(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=m(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],e5(c));const f=m(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],t5(f));const d=m(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function WM(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>RH(y))),v(t,["functionDeclarations"],g)}const r=m(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=m(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=m(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&v(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=m(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const p=m(e,["urlContext"]);return p!=null&&v(t,["urlContext"],p),t}function C5(e){const t={},n=m(e,["baseModel"]);n!=null&&v(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=m(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function R5(e){const t={},n=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=m(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function N5(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=m(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=m(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function M5(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=m(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=m(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function I5(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","name"],je(e,r));const i=m(t,["config"]);return i!=null&&N5(i,n),n}function O5(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["config"]);return i!=null&&M5(i,n),n}function P5(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=m(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const a=m(e,["personGeneration"]);t!==void 0&&a!=null&&v(t,["parameters","personGeneration"],a);const l=m(e,["includeRaiReason"]);t!==void 0&&l!=null&&v(t,["parameters","includeRaiReason"],l);const c=m(e,["outputMimeType"]);t!==void 0&&c!=null&&v(t,["parameters","outputOptions","mimeType"],c);const f=m(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&v(t,["parameters","outputOptions","compressionQuality"],f);const d=m(e,["enhanceInputImage"]);t!==void 0&&d!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],d);const p=m(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=m(e,["labels"]);t!==void 0&&g!=null&&v(t,["labels"],g);const y=m(e,["numberOfImages"]);t!==void 0&&y!=null&&v(t,["parameters","sampleCount"],y);const w=m(e,["mode"]);return t!==void 0&&w!=null&&v(t,["parameters","mode"],w),n}function D5(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["_url","model"],je(e,r));const i=m(t,["image"]);i!=null&&v(n,["instances[0]","image"],Or(i));const a=m(t,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=m(t,["config"]);return l!=null&&P5(l,n),n}function k5(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>qd(a))),v(t,["generatedImages"],i)}return t}function U5(e){const t={},n=m(e,["uri"]);n!=null&&v(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],po(r));const i=m(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function L5(e){const t={},n=m(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],po(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function q5(e){const t={},n=m(e,["image"]);n!=null&&v(t,["_self"],Or(n));const r=m(e,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function $5(e){const t={},n=m(e,["image"]);n!=null&&v(t,["image"],$d(n));const r=m(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function B5(e){const t={},n=m(e,["image"]);n!=null&&v(t,["image"],Or(n));const r=m(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function XM(e){const t={},n=m(e,["uri"]);n!=null&&v(t,["uri"],n);const r=m(e,["videoBytes"]);r!=null&&v(t,["encodedVideo"],po(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["encoding"],i),t}function QM(e){const t={},n=m(e,["uri"]);n!=null&&v(t,["gcsUri"],n);const r=m(e,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],po(r));const i=m(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z5(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["displayName"],r),n}function H5(e){const t={},n=m(e,["config"]);return n!=null&&z5(n,t),t}function G5(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function V5(e){const t={},n=m(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&G5(r,t),t}function j5(e){const t={},n=m(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function F5(e,t){const n={},r=m(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["customMetadata"],a)}const i=m(e,["chunkingConfig"]);return t!==void 0&&i!=null&&v(t,["chunkingConfig"],i),n}function K5(e){const t={},n=m(e,["name"]);n!=null&&v(t,["name"],n);const r=m(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=m(e,["done"]);i!=null&&v(t,["done"],i);const a=m(e,["error"]);a!=null&&v(t,["error"],a);const l=m(e,["response"]);return l!=null&&v(t,["response"],J5(l)),t}function Y5(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=m(e,["fileName"]);r!=null&&v(t,["fileName"],r);const i=m(e,["config"]);return i!=null&&F5(i,t),t}function J5(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&v(t,["parent"],r);const i=m(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function W5(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function X5(e){const t={},n=m(e,["config"]);return n!=null&&W5(n,t),t}function Q5(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["fileSearchStores"],a)}return t}function ZM(e,t){const n={},r=m(e,["mimeType"]);t!==void 0&&r!=null&&v(t,["mimeType"],r);const i=m(e,["displayName"]);t!==void 0&&i!=null&&v(t,["displayName"],i);const a=m(e,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),v(t,["customMetadata"],c)}const l=m(e,["chunkingConfig"]);return t!==void 0&&l!=null&&v(t,["chunkingConfig"],l),n}function Z5(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=m(e,["config"]);return r!=null&&ZM(r,t),t}function eG(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tG="Content-Type",nG="X-Server-Timeout",rG="User-Agent",my="x-goog-api-client",iG="1.34.0",oG=`google-genai-sdk/${iG}`,aG="v1beta1",sG="v1beta";class lG{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aG,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:sG,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))i.searchParams.append(l,String(c));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&uG(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mx(i),new cy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mx(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Rr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:p}=yield Ne(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=a.decode(p,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,x=E.code,I=`got status: ${T}. ${JSON.stringify(S)}`;if(x>=400&&x<600)throw new Ud({message:I,status:x})}}catch(S){if(S.name==="ApiError")throw S}l+=g;let y=-1,w=0;for(;;){y=-1,w=0;for(const T of f){const x=l.indexOf(T);x!==-1&&(y===-1||x<y)&&(y=x,w=T.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+w);const E=S.trim();if(E.startsWith(c)){const T=E.substring(c.length).trim();try{const x=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ne(new cy(x))}catch(x){throw new Error(`exception parsing stream chunk ${T}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=oG+" "+this.clientOptions.userAgentExtra;return t[rG]=n,t[my]=n,t[tG]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(nG,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(t),p=ue("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return a.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&ZM(r,g);const y=await this.fetchUploadUrl(d,c,f,p,g,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function mx(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ud({message:i,status:n}):new Error(i)}}function uG(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const c=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],p=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?c[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cG="mcp_used/unknown";let fG=!1;function eI(e){for(const t of e)if(dG(t)||typeof t=="object"&&"inputSchema"in t)return!0;return fG}function tI(e){var t;const n=(t=e[my])!==null&&t!==void 0?t:"";e[my]=(n+` ${cG}`).trimStart()}function dG(e){return e!==null&&typeof e=="object"&&e instanceof N0}function hG(e){return Rr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const l=yield Ne(n.listTools({cursor:i}));for(const c of l.tools)yield yield Ne(c),a++;if(!l.nextCursor)break;i=l.nextCursor}})}class N0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new N0(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,f=(n=void 0,Nr(hG(p))),d;d=await f.next(),t=d.done,!t;c=!0){i=d.value,c=!1;const g=i;l.push(g);const y=g.name;if(a[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);a[y]=p}}catch(g){n={error:g}}finally{try{!c&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),j3(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pG(e,t,n){const r=new L3;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class mG{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=yG(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const p=new Promise(M=>{d=M}),g=t.callbacks,y=function(){d({})},w=this.apiClient,S={onopen:y,onmessage:M=>{pG(w,g.onmessage,M)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(M){}},E=this.webSocketFactory.create(f,vG(l),S);E.connect(),await p;const I={setup:{model:je(this.apiClient,t.model)}};return E.send(JSON.stringify(I)),new gG(E,this.apiClient)}}class gG{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=H4(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=z4(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hs.PLAY)}pause(){this.sendPlaybackControl(hs.PAUSE)}stop(){this.sendPlaybackControl(hs.STOP)}resetContext(){this.sendPlaybackControl(hs.RESET_CONTEXT)}close(){this.conn.close()}}function vG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function yG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bG="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _G(e,t,n){const r=new U3;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=j4(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class wG{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new mG(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&eI(t.config.tools)&&tI(g);const y=AG(g);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,p);else{const V=this.apiClient.getApiKey();let re="BidiGenerateContent",J="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",J="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${re}?${J}=${V}`}let w=()=>{};const S=new Promise(V=>{w=V}),E=t.callbacks,T=function(){var V;(V=E==null?void 0:E.onopen)===null||V===void 0||V.call(E),w({})},x=this.apiClient,I={onopen:T,onmessage:V=>{_G(x,E.onmessage,V)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(V){}},M=this.webSocketFactory.create(p,TG(y),I);M.connect(),await S;let O=je(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const V=this.apiClient.getProject(),re=this.apiClient.getLocation();O=`projects/${V}/locations/${re}/`+O}let P={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[$f.AUDIO]}:t.config.responseModalities=[$f.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],U=[];for(const V of D)if(this.isCallableTool(V)){const re=V;U.push(await re.tool())}else U.push(V);U.length>0&&(t.config.tools=U);const Y={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=B4(this.apiClient,Y):P=$4(this.apiClient,Y),delete P.config,M.send(JSON.stringify(P)),new EG(M,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const SG={turnComplete:!0};class EG{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fr(n.turns),t.isVertexAI()||(r=r.map(i=>Ld(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(bG)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},SG),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:V4(t)}:n={realtimeInput:G4(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function AG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gx=10;function vx(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(bs(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function bs(e){return"callTool"in e&&typeof e.callTool=="function"}function xG(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>bs(i)))!==null&&r!==void 0?r:!1}function yx(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(bs(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function bx(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CG extends xi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xG(n)||vx(n.config))return await this.generateContentInternal(f);const d=yx(n);if(d.length>0){const E=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let p,g;const y=fr(f.contents),w=(a=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:gx;let S=0;for(;S<w&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,T=[];for(const x of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(bs(x)){const M=await x.callTool(p.functionCalls);T.push(...M)}S++,g={role:"user",parts:T},f.contents=fr(f.contents),f.contents.push(E),f.contents.push(g),bx(f.config)&&(y.push(E),y.push(g))}return bx(f.config)&&(p.automaticFunctionCallingHistory=y),p},this.generateContentStream=async n=>{var r,i,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),vx(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=yx(n);if(f.length>0){const g=f.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new la(gi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async f=>bs(f)?await f.tool():f)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&eI(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),tI(d),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bs(l)){const c=l,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:gx;let l=!1,c=0;const f=await this.initAfcToolsMap(t);return(function(d,p,g){return Rr(this,arguments,function*(){for(var y,w,S,E,T,x;c<a;){l&&(c++,l=!1);const P=yield Ne(d.processParamsMaybeAddMcpUsage(g)),D=yield Ne(d.generateContentStreamInternal(P)),U=[],Y=[];try{for(var I=!0,M=(w=void 0,Nr(D)),O;O=yield Ne(M.next()),y=O.done,!y;I=!0){E=O.value,I=!1;const V=E;if(yield yield Ne(V),V.candidates&&(!((T=V.candidates[0])===null||T===void 0)&&T.content)){Y.push(V.candidates[0].content);for(const re of(x=V.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(c<a&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(re.functionCall.name)){const J=yield Ne(p.get(re.functionCall.name).callTool([re.functionCall]));U.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(V){w={error:V}}finally{try{!I&&!y&&(S=M.return)&&(yield Ne(S.call(M)))}finally{if(w)throw w.error}}if(U.length>0){l=!0;const V=new Dl;V.candidates=[{content:{role:"user",parts:U}}],yield yield Ne(V);const re=[];re.push(...Y),re.push({role:"user",parts:U});const J=fr(g.contents).concat(re);g.contents=J}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dx(this.apiClient,t);return c=ue("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=px(p),y=new Dl;return Object.assign(y,g),y})}else{const d=fx(this.apiClient,t);return c=ue("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=hx(p),y=new Dl;return Object.assign(y,g),y})}}async generateContentStreamInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dx(this.apiClient,t);return c=ue("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Rr(this,arguments,function*(){var y,w,S,E;try{for(var T=!0,x=Nr(g),I;I=yield Ne(x.next()),y=I.done,!y;T=!0){E=I.value,T=!1;const M=E,O=px(yield Ne(M.json()));O.sdkHttpResponse={headers:M.headers};const P=new Dl;Object.assign(P,O),yield yield Ne(P)}}catch(M){w={error:M}}finally{try{!T&&!y&&(S=x.return)&&(yield Ne(S.call(x)))}finally{if(w)throw w.error}}})})}else{const d=fx(this.apiClient,t);return c=ue("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(g){return Rr(this,arguments,function*(){var y,w,S,E;try{for(var T=!0,x=Nr(g),I;I=yield Ne(x.next()),y=I.done,!y;T=!0){E=I.value,T=!1;const M=E,O=hx(yield Ne(M.json()));O.sdkHttpResponse={headers:M.headers};const P=new Dl;Object.assign(P,O),yield yield Ne(P)}}catch(M){w={error:M}}finally{try{!T&&!y&&(S=x.return)&&(yield Ne(S.call(x)))}finally{if(w)throw w.error}}})})}}async embedContent(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=wH(this.apiClient,t);return c=ue("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=EH(p),y=new YA;return Object.assign(y,g),y})}else{const d=_H(this.apiClient,t);return c=ue("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=SH(p),y=new YA;return Object.assign(y,g),y})}}async generateImagesInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=DH(this.apiClient,t);return c=ue("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=UH(p),y=new JA;return Object.assign(y,g),y})}else{const d=PH(this.apiClient,t);return c=ue("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=kH(p),y=new JA;return Object.assign(y,g),y})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=gH(this.apiClient,t);return a=ue("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=vH(f),p=new A3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=D5(this.apiClient,t);return a=ue("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=k5(f),p=new x3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=m5(this.apiClient,t);return a=ue("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=g5(f),p=new C3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=S5(this.apiClient,t);return a=ue("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=E5(f),p=new R3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=ZH(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>py(p))}else{const d=QH(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>hy(p))}}async listInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=l5(this.apiClient,t);return c=ue("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=c5(p),y=new WA;return Object.assign(y,g),y})}else{const d=s5(this.apiClient,t);return c=ue("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=u5(p),y=new WA;return Object.assign(y,g),y})}}async update(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=O5(this.apiClient,t);return c=ue("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>py(p))}else{const d=I5(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>hy(p))}}async delete(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dH(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=pH(p),y=new XA;return Object.assign(y,g),y})}else{const d=fH(this.apiClient,t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=hH(p),y=new XA;return Object.assign(y,g),y})}}async countTokens(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lH(this.apiClient,t);return c=ue("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=cH(p),y=new QA;return Object.assign(y,g),y})}else{const d=sH(this.apiClient,t);return c=ue("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=uH(p),y=new QA;return Object.assign(y,g),y})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=eH(this.apiClient,t);return a=ue("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=tH(f),p=new N3;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=HH(this.apiClient,t);return c=ue("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const g=BH(p),y=new Bf;return Object.assign(y,g),y})}else{const d=zH(this.apiClient,t);return c=ue("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const g=$H(p),y=new Bf;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RG extends xi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=b3(t);return c=ue("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const d=y3(t);return c=ue("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=f3(t);return a=ue("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NG(e){const t={},n=m(e,["data"]);if(n!=null&&v(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function MG(e){const t={},n=m(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$G(a))),v(t,["parts"],i)}const r=m(e,["role"]);return r!=null&&v(t,["role"],r),t}function IG(e,t,n){const r={},i=m(t,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const a=m(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const l=m(t,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const c=m(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],qG(e,c));const f=m(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function OG(e,t){const n={},r=m(t,["config"]);return r!=null&&v(n,["config"],IG(e,r,n)),n}function PG(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function DG(e){const t={},n=m(e,["id"]);n!=null&&v(t,["id"],n);const r=m(e,["args"]);r!=null&&v(t,["args"],r);const i=m(e,["name"]);if(i!=null&&v(t,["name"],i),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kG(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function UG(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function LG(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=m(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=m(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","topK"],c);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=m(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&v(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","speechConfig"],R0(g));const y=m(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],w);const S=m(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],MG(dn(S)));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let D=Ms(E);Array.isArray(D)&&(D=D.map(U=>zG(Ns(U)))),v(t,["setup","tools"],D)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],BG(T));const x=m(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const I=m(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&v(t,["setup","realtimeInputConfig"],M);const O=m(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=m(e,["proactivity"]);if(t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),m(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function qG(e,t){const n={},r=m(t,["model"]);r!=null&&v(n,["setup","model"],je(e,r));const i=m(t,["config"]);return i!=null&&v(n,["config"],LG(i,n)),n}function $G(e){const t={},n=m(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=m(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=m(e,["fileData"]);a!=null&&v(t,["fileData"],PG(a));const l=m(e,["functionCall"]);l!=null&&v(t,["functionCall"],DG(l));const c=m(e,["functionResponse"]);c!=null&&v(t,["functionResponse"],c);const f=m(e,["inlineData"]);f!=null&&v(t,["inlineData"],NG(f));const d=m(e,["text"]);d!=null&&v(t,["text"],d);const p=m(e,["thought"]);p!=null&&v(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&v(t,["thoughtSignature"],g);const y=m(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function BG(e){const t={},n=m(e,["handle"]);if(n!=null&&v(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zG(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),v(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=m(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=m(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=m(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],kG(c));const f=m(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],UG(f));const d=m(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HG(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function GG(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=HG(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class VG extends xi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=OG(this.apiClient,t);a=ue("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=GG(c,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jG(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function FG(e){const t={},n=m(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&jG(r,t),t}function KG(e){const t={},n=m(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function YG(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=m(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function JG(e){const t={},n=m(e,["parent"]);n!=null&&v(t,["_url","parent"],n);const r=m(e,["config"]);return r!=null&&YG(r,t),t}function WG(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=m(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XG extends xi{constructor(t){super(),this.apiClient=t,this.list=async n=>new la(gi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KG(t);return a=ue("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=FG(t);i=ue("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JG(t);return a=ue("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=WG(f),p=new M3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QG extends xi{constructor(t,n=new XG(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new la(gi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=H5(t);return a=ue("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=j5(t);return a=ue("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=V5(t);i=ue("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=X5(t);return a=ue("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Q5(f),p=new I3;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Z5(t);return a=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=eG(f),p=new O3;return Object.assign(p,d),p})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Y5(t);return a=ue("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=K5(f),p=new E0;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nI=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return nI=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const ZG=()=>nI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const vy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dr extends Error{}class wn extends dr{constructor(t,n,r,i){super(`${wn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Bd({message:r,cause:vy(n)});const a=n;return t===400?new iI(t,a,r,i):t===401?new oI(t,a,r,i):t===403?new aI(t,a,r,i):t===404?new sI(t,a,r,i):t===409?new lI(t,a,r,i):t===422?new uI(t,a,r,i):t===429?new cI(t,a,r,i):t>=500?new fI(t,a,r,i):new wn(t,a,r,i)}}class yy extends wn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Bd extends wn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class rI extends Bd{constructor({message:t}={}){super({message:t??"Request timed out."})}}class iI extends wn{}class oI extends wn{}class aI extends wn{}class sI extends wn{}class lI extends wn{}class uI extends wn{}class cI extends wn{}class fI extends wn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eV=/^[a-z][a-z0-9+.-]*:/i,tV=e=>eV.test(e);let by=e=>(by=Array.isArray,by(e));const nV=by;let rV=nV;const _x=rV;function iV(e){if(!e)return!0;for(const t in e)return!1;return!0}function oV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const aV=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new dr(`${e} must be an integer`);if(t<0)throw new dr(`${e} must be a positive integer`);return t},sV=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lV=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const cV=()=>{var e,t,n,r,i;const a=uV();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":Sx(Deno.build.os),"X-Stainless-Arch":wx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":Sx((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":wx((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=fV();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fV(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${a}.${l}`}}}return null}const wx=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Sx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let af;const dV=()=>af??(af=cV());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function dI(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function pV(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return dI({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function hI(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mV(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gV=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pI=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dg(e,t,n){return pI(),new File(e,t??"unknown_file",n)}function vV(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const yV=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",bV=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&mI(e),_V=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function wV(e,t,n){if(pI(),e=await e,bV(e))return e instanceof File?e:dg([await e.arrayBuffer()],e.name);if(_V(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),dg(await _y(i),t,n)}const r=await _y(e);if(t||(t=vV(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return dg(r,t,n)}async function _y(e){var t,n,r,i,a;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(mI(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(yV(e))try{for(var c=!0,f=Nr(e),d;d=await f.next(),t=d.done,!t;c=!0){i=d.value,c=!1;const p=i;l.push(...await _y(p))}}catch(p){n={error:p}}finally{try{!c&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const p=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${SV(e)}`)}return l}function SV(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gI{constructor(t){this._client=t}}gI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vI(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ex=Object.freeze(Object.create(null)),EV=(e=vI)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((p,g,y)=>{var w,S,E;/[?#]/.test(g)&&(i=!0);const T=r[y];let x=(i?encodeURIComponent:e)(""+T);return y!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((w=T.hasOwnProperty)!==null&&w!==void 0?w:Ex))!==null&&S!==void 0?S:Ex))===null||E===void 0?void 0:E.toString))&&(x=T+"",a.push({start:p.length+g.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),p+g+(y===r.length?"":x)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((p,g)=>p.start-g.start),a.length>0){let p=0;const g=a.reduce((y,w)=>{const S=" ".repeat(w.start-p),E="^".repeat(w.length);return p=w.start+w.length,y+S+E},"");throw new dr(`Path parameters result in path with invalid segments:
${a.map(y=>y.error).join(`
`)}
${l}
${g}`)}return l}),sf=EV(vI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yI extends gI{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=Hf(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new dr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new dr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sf`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(sf`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(sf`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=Hf(a,["api_version"]);return this._client.get(sf`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yI._key=Object.freeze(["interactions"]);class bI extends yI{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TV(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let lf;function M0(e){let t;return(lf??(t=new globalThis.TextEncoder,lf=t.encode.bind(t)))(e)}let uf;function Tx(e){let t;return(uf??(t=new globalThis.TextDecoder,uf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?M0(t):t;this.buffer=TV([this.buffer,n]);const r=[];let i;for(;(i=AV(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Tx(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=Tx(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}zd.NEWLINE_CHARS=new Set([`
`,"\r"]);zd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AV(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function xV(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gf={off:0,error:200,warn:300,info:400,debug:500},Ax=(e,t,n)=>{if(e){if(oV(Gf,e))return e;bn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Gf))}`)}};function jl(){}function cf(e,t,n){return!t||Gf[e]>Gf[n]?jl:t[e].bind(t)}const CV={error:jl,warn:jl,info:jl,debug:jl};let xx=new WeakMap;function bn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return CV;const i=xx.get(n);if(i&&i[0]===r)return i[1];const a={error:cf("error",n,r),warn:cf("warn",n,r),info:cf("info",n,r),debug:cf("debug",n,r)};return xx.set(n,[r,a]),a}const Go=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ps{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?bn(r):console;function l(){return Rr(this,arguments,function*(){var f,d,p,g;if(i)throw new dr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var w=!0,S=Nr(RV(t,n)),E;E=yield Ne(S.next()),f=E.done,!f;w=!0){g=E.value,w=!1;const T=g;if(!y)if(T.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Ne(JSON.parse(T.data))}catch(x){throw a.error("Could not parse message into JSON:",T.data),a.error("From chunk:",T.raw),x}}}catch(T){d={error:T}}finally{try{!w&&!f&&(p=S.return)&&(yield Ne(p.call(S)))}finally{if(d)throw d.error}}y=!0}catch(T){if(gy(T))return yield Ne(void 0);throw T}finally{y||n.abort()}})}return new ps(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Rr(this,arguments,function*(){var f,d,p,g;const y=new zd,w=hI(t);try{for(var S=!0,E=Nr(w),T;T=yield Ne(E.next()),f=T.done,!f;S=!0){g=T.value,S=!1;const x=g;for(const I of y.decode(x))yield yield Ne(I)}}catch(x){d={error:x}}finally{try{!S&&!f&&(p=E.return)&&(yield Ne(p.call(E)))}finally{if(d)throw d.error}}for(const x of y.flush())yield yield Ne(x)})}function l(){return Rr(this,arguments,function*(){var f,d,p,g;if(i)throw new dr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var w=!0,S=Nr(a()),E;E=yield Ne(S.next()),f=E.done,!f;w=!0){g=E.value,w=!1;const T=g;y||T&&(yield yield Ne(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!w&&!f&&(p=S.return)&&(yield Ne(p.call(S)))}finally{if(d)throw d.error}}y=!0}catch(T){if(gy(T))return yield Ne(void 0);throw T}finally{y||n.abort()}})}return new ps(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();t.push(l),n.push(l)}return a.shift()}});return[new ps(()=>i(t),this.controller,this.client),new ps(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return dI({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=M0(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function RV(e,t){return Rr(this,arguments,function*(){var r,i,a,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new dr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new dr("Attempted to iterate over a response with no body");const c=new MV,f=new zd,d=hI(e.body);try{for(var p=!0,g=Nr(NV(d)),y;y=yield Ne(g.next()),r=y.done,!r;p=!0){l=y.value,p=!1;const w=l;for(const S of f.decode(w)){const E=c.decode(S);E&&(yield yield Ne(E))}}}catch(w){i={error:w}}finally{try{!p&&!r&&(a=g.return)&&(yield Ne(a.call(g)))}finally{if(i)throw i.error}}for(const w of f.flush()){const S=c.decode(w);S&&(yield yield Ne(S))}})}function NV(e){return Rr(this,arguments,function*(){var n,r,i,a;let l=new Uint8Array;try{for(var c=!0,f=Nr(e),d;d=yield Ne(f.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const p=a;if(p==null)continue;const g=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?M0(p):p;let y=new Uint8Array(l.length+g.length);y.set(l),y.set(g,l.length),l=y;let w;for(;(w=xV(l))!==-1;)yield yield Ne(l.slice(0,w)),l=l.slice(w)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=f.return)&&(yield Ne(i.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ne(l))})}class MV{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=IV(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function IV(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OV(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,l=await(async()=>{var c;if(t.options.stream)return bn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ps.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return bn(e).debug(`[${r}] response parsed`,Go({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I0 extends Promise{constructor(t,n,r=OV){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new I0(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _I=Symbol("brand.privateNullableHeaders");function*PV(e){if(!e)return;if(_I in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():_x(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=_x(r[1])?r[1]:[r[1]];let l=!1;for(const c of a)c!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const kl=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,l]of PV(r)){const c=a.toLowerCase();i.has(c)||(t.delete(a),i.add(c)),l===null?(t.delete(a),n.add(c)):(t.append(a,l),n.delete(c))}}return{[_I]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hg=e=>{var t,n,r,i,a,l;if(typeof globalThis.process<"u")return(r=(n=(t=o3)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wI;class Hd{constructor(t){var n,r,i,a,l,c,f,{baseURL:d=hg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=hg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,y=Hf(t,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:p,apiVersion:g},y),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:Hd.DEFAULT_TIMEOUT,this.logger=(i=w.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(a=Ax(w.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:Ax(hg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=w.fetchOptions,this.maxRetries=(c=w.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=w.fetch)!==null&&f!==void 0?f:hV(),this.encoder=gV,this._options=w,this.apiKey=p,this.apiVersion=g,this.clientAdapter=w.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=kl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return kl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return kl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new dr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${cs}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZG()}`}makeStatusError(t,n,r,i){return wn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=tV(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return iV(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new I0(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,l;const c=await t,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:p,timeout:g}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:p,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(bn(this).debug(`[${y}] sending request`,Go({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new yy;const E=new AbortController,T=await this.fetchWithTimeout(p,d,g,E).catch(vy),x=Date.now();if(T instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new yy;const O=gy(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return bn(this).info(`[${y}] connection ${O?"timed out":"failed"} - ${M}`),bn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (${M})`,Go({retryOfRequestLogID:r,url:p,durationMs:x-S,message:T.message})),this.retryRequest(c,n,r??y);throw bn(this).info(`[${y}] connection ${O?"timed out":"failed"} - error; no more retries left`),bn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (error; no more retries left)`,Go({retryOfRequestLogID:r,url:p,durationMs:x-S,message:T.message})),O?new rI:new Bd({cause:T})}const I=`[${y}${w}] ${d.method} ${p} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${x-S}ms`;if(!T.ok){const M=await this.shouldRetry(T);if(n&&M){const V=`retrying, ${n} attempts remaining`;return await mV(T.body),bn(this).info(`${I} - ${V}`),bn(this).debug(`[${y}] response error (${V})`,Go({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:x-S})),this.retryRequest(c,n,r??y,T.headers)}const O=M?"error; no more retries left":"error; not retryable";bn(this).info(`${I} - ${O}`);const P=await T.text().catch(V=>vy(V).message),D=sV(P),U=D?void 0:P;throw bn(this).debug(`[${y}] response error (${O})`,Go({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:U,durationMs:Date.now()-S})),this.makeStatusError(T.status,D,U,T.headers)}return bn(this).info(I),bn(this).debug(`[${y}] response start`,Go({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:x-S})),{response:T,options:c,controller:E,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:l,method:c}=a,f=Hf(a,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),f);c&&(g.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(d)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(l=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await lV(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const l=Object.assign({},t),{method:c,path:f,query:d,defaultBaseURL:p}=l,g=this.buildURL(f,d,p);"timeout"in l&&aV("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:w}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:g,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=kl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dV()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=kl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pV(t)}:this.encoder({body:t,headers:r})}}Hd.DEFAULT_TIMEOUT=6e4;class Qt extends Hd{constructor(){super(...arguments),this.interactions=new bI(this)}}wI=Qt;Qt.GeminiNextGenAPIClient=wI;Qt.GeminiNextGenAPIClientError=dr;Qt.APIError=wn;Qt.APIConnectionError=Bd;Qt.APIConnectionTimeoutError=rI;Qt.APIUserAbortError=yy;Qt.NotFoundError=sI;Qt.ConflictError=lI;Qt.RateLimitError=cI;Qt.BadRequestError=iI;Qt.AuthenticationError=oI;Qt.InternalServerError=fI;Qt.PermissionDeniedError=aI;Qt.UnprocessableEntityError=uI;Qt.toFile=wV;Qt.Interactions=bI;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DV(e,t){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function kV(e,t){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function UV(e,t){const n={},r=m(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function LV(e,t){const n={},r=m(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function qV(e,t,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&v(t,["displayName"],i),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(e,["epochCount"]);t!==void 0&&a!=null&&v(t,["tuningTask","hyperparameters","epochCount"],a);const l=m(e,["learningRateMultiplier"]);if(l!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(e,["batchSize"]);t!==void 0&&c!=null&&v(t,["tuningTask","hyperparameters","batchSize"],c);const f=m(e,["learningRate"]);if(t!==void 0&&f!=null&&v(t,["tuningTask","hyperparameters","learningRate"],f),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $V(e,t,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=m(e,["validationDataset"]);t!==void 0&&w!=null&&v(t,["supervisedTuningSpec"],Cx(w))}else if(i==="PREFERENCE_TUNING"){const w=m(e,["validationDataset"]);t!==void 0&&w!=null&&v(t,["preferenceOptimizationSpec"],Cx(w))}const a=m(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&v(t,["tunedModelDisplayName"],a);const l=m(e,["description"]);t!==void 0&&l!=null&&v(t,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=m(e,["epochCount"]);t!==void 0&&w!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(c==="PREFERENCE_TUNING"){const w=m(e,["epochCount"]);t!==void 0&&w!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=m(e,["learningRateMultiplier"]);t!==void 0&&w!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(f==="PREFERENCE_TUNING"){const w=m(e,["learningRateMultiplier"]);t!==void 0&&w!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=m(e,["exportLastCheckpointOnly"]);t!==void 0&&w!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(d==="PREFERENCE_TUNING"){const w=m(e,["exportLastCheckpointOnly"]);t!==void 0&&w!=null&&v(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=m(e,["adapterSize"]);t!==void 0&&w!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(p==="PREFERENCE_TUNING"){const w=m(e,["adapterSize"]);t!==void 0&&w!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=m(e,["labels"]);t!==void 0&&g!=null&&v(t,["labels"],g);const y=m(e,["beta"]);return t!==void 0&&y!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function BV(e,t){const n={},r=m(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=m(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=m(e,["trainingDataset"]);a!=null&&XV(a);const l=m(e,["config"]);return l!=null&&qV(l,n),n}function zV(e,t){const n={},r=m(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=m(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=m(e,["trainingDataset"]);a!=null&&QV(a,n,t);const l=m(e,["config"]);return l!=null&&$V(l,n,t),n}function HV(e,t){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function GV(e,t){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function VV(e,t,n){const r={},i=m(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const l=m(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function jV(e,t,n){const r={},i=m(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const l=m(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function FV(e,t){const n={},r=m(e,["config"]);return r!=null&&VV(r,n),n}function KV(e,t){const n={},r=m(e,["config"]);return r!=null&&jV(r,n),n}function YV(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=m(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>SI(c))),v(n,["tuningJobs"],l)}return n}function JV(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=m(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>wy(c))),v(n,["tuningJobs"],l)}return n}function WV(e,t){const n={},r=m(e,["name"]);r!=null&&v(n,["model"],r);const i=m(e,["name"]);return i!=null&&v(n,["endpoint"],i),n}function XV(e,t){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(n,["examples","examples"],i)}return n}function QV(e,t,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=m(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=m(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function SI(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(e,["name"]);i!=null&&v(n,["name"],i);const a=m(e,["state"]);a!=null&&v(n,["state"],qM(a));const l=m(e,["createTime"]);l!=null&&v(n,["createTime"],l);const c=m(e,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const f=m(e,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const p=m(e,["description"]);p!=null&&v(n,["description"],p);const g=m(e,["baseModel"]);g!=null&&v(n,["baseModel"],g);const y=m(e,["_self"]);return y!=null&&v(n,["tunedModel"],WV(y)),n}function wy(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(e,["name"]);i!=null&&v(n,["name"],i);const a=m(e,["state"]);a!=null&&v(n,["state"],qM(a));const l=m(e,["createTime"]);l!=null&&v(n,["createTime"],l);const c=m(e,["startTime"]);c!=null&&v(n,["startTime"],c);const f=m(e,["endTime"]);f!=null&&v(n,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const p=m(e,["error"]);p!=null&&v(n,["error"],p);const g=m(e,["description"]);g!=null&&v(n,["description"],g);const y=m(e,["baseModel"]);y!=null&&v(n,["baseModel"],y);const w=m(e,["tunedModel"]);w!=null&&v(n,["tunedModel"],w);const S=m(e,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const E=m(e,["supervisedTuningSpec"]);E!=null&&v(n,["supervisedTuningSpec"],E);const T=m(e,["preferenceOptimizationSpec"]);T!=null&&v(n,["preferenceOptimizationSpec"],T);const x=m(e,["tuningDataStats"]);x!=null&&v(n,["tuningDataStats"],x);const I=m(e,["encryptionSpec"]);I!=null&&v(n,["encryptionSpec"],I);const M=m(e,["partnerModelTuningSpec"]);M!=null&&v(n,["partnerModelTuningSpec"],M);const O=m(e,["customBaseModel"]);O!=null&&v(n,["customBaseModel"],O);const P=m(e,["experiment"]);P!=null&&v(n,["experiment"],P);const D=m(e,["labels"]);D!=null&&v(n,["labels"],D);const U=m(e,["outputUri"]);U!=null&&v(n,["outputUri"],U);const Y=m(e,["pipelineJob"]);Y!=null&&v(n,["pipelineJob"],Y);const V=m(e,["serviceAccount"]);V!=null&&v(n,["serviceAccount"],V);const re=m(e,["tunedModelDisplayName"]);re!=null&&v(n,["tunedModelDisplayName"],re);const J=m(e,["veoTuningSpec"]);return J!=null&&v(n,["veoTuningSpec"],J),n}function ZV(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(e,["name"]);i!=null&&v(n,["name"],i);const a=m(e,["metadata"]);a!=null&&v(n,["metadata"],a);const l=m(e,["done"]);l!=null&&v(n,["done"],l);const c=m(e,["error"]);return c!=null&&v(n,["error"],c),n}function Cx(e,t){const n={},r=m(e,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=m(e,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ej extends xi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new la(gi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:uy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=GV(t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>wy(p))}else{const d=HV(t);return c=ue("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>SI(p))}}async listInternal(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=KV(t);return c=ue("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=JV(p),y=new ZA;return Object.assign(y,g),y})}else{const d=FV(t);return c=ue("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=YV(p),y=new ZA;return Object.assign(y,g),y})}}async cancel(t){var n,r,i,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=kV(t);return c=ue("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=LV(p),y=new ex;return Object.assign(y,g),y})}else{const d=DV(t);return c=ue("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const g=UV(p),y=new ex;return Object.assign(y,g),y})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const c=zV(t,t);return a=ue("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>wy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=BV(t);return a=ue("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>ZV(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tj{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nj=1024*1024*8,rj=3,ij=1e3,oj=2,Vf="x-goog-upload-status";async function aj(e,t,n){var r;const i=await EI(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function sj(e,t,n){var r;const i=await EI(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=OM(a),c=new T0;return Object.assign(c,l),c}async function EI(e,t,n){var r,i;let a=0,l=0,c=new cy(new Response),f="upload";for(a=e.size;l<a;){const d=Math.min(nj,a-l),p=e.slice(l,l+d);l+d>=a&&(f+=", finalize");let g=0,y=ij;for(;g<rj&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Vf]));)g++,await uj(y),y=y*oj;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Vf])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function lj(e){return{size:e.size,type:e.type}}function uj(e){return new Promise(t=>setTimeout(t,e))}class cj{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aj(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sj(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lj(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fj{create(t,n,r){return new dj(t,n,r)}}class dj{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rx="x-goog-api-key";class hj{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Rx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Rx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pj="gl-node/";class mj{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=u3(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new hj(this.apiKey);this.apiClient=new lG({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pj+"web",uploader:new cj,downloader:new tj}),this.models=new CG(this.apiClient),this.live=new wG(this.apiClient,i,new fj),this.batches=new qz(this.apiClient),this.chats=new b4(this.models,this.apiClient),this.caches=new g4(this.apiClient),this.files=new N4(this.apiClient),this.operations=new RG(this.apiClient),this.authTokens=new VG(this.apiClient),this.tunings=new ej(this.apiClient),this.fileSearchStores=new QG(this.apiClient)}}const Gd=()=>new mj({apiKey:"PLACEHOLDER_API_KEY"}),gj=async e=>{const t=Gd(),n=`
    I am a woman in my late 20s planning for a successful 2026. 
    I have a big goal: "${e}".
    
    Please break this down into 3-5 specific, actionable, and energetic checklist tasks.
    Estimate the time (in minutes) for each task.
    Assign a category from this list: Career, Health, Finance, Lifestyle, Travel, Personal.
  `;try{const r=await t.models.generateContent({model:"gemini-3-flash-preview",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:kt.ARRAY,items:{type:kt.OBJECT,properties:{title:{type:kt.STRING,description:"Action-oriented task title"},description:{type:kt.STRING,description:"Short motivational detail"},category:{type:kt.STRING,enum:["Career","Health","Finance","Lifestyle","Travel","Personal"]},estimatedMinutes:{type:kt.INTEGER,description:"Estimated time to complete in minutes"}},required:["title","category","estimatedMinutes"]}}}});return r.text?JSON.parse(r.text):[]}catch(r){throw console.error("Failed to generate tasks:",r),r}},vj=async e=>{const t=Gd();try{const n=e?`Give me a short, punchy motivational quote for a woman in her specific era: "${e}". Max 15 words.`:"Give me one short, punchy, energetic motivational quote for a woman about to turn 29 and crush her goals. Max 15 words.";return(await t.models.generateContent({model:"gemini-3-flash-preview",contents:n})).text||"Make it happen!"}catch{return"2026 is yours for the taking!"}},Nx=async e=>{const t=Gd(),n=`
    Based on this theme description: "${e}", suggest a Tailwind CSS color palette that matches the mood.
    Return JSON with fields:
    - gradientFrom: a tailwind color class (e.g., from-indigo-500)
    - gradientTo: a tailwind color class (e.g., to-purple-600)
    - accentColor: a text color class (e.g., text-indigo-600)
    - bgOverlay: a very light background color class (e.g., bg-indigo-50)
    - cardBorder: a border color class (e.g., border-indigo-200)
    
    Examples:
    "Energetic kickoff": from-rose-500, to-orange-500, text-rose-600, bg-rose-50, border-rose-200
    "Calm focus": from-emerald-400, to-cyan-500, text-emerald-700, bg-emerald-50, border-emerald-200
    "Dark feminine": from-slate-700, to-purple-900, text-purple-900, bg-slate-100, border-purple-200
  `;try{const r=await t.models.generateContent({model:"gemini-3-flash-preview",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:kt.OBJECT,properties:{gradientFrom:{type:kt.STRING},gradientTo:{type:kt.STRING},accentColor:{type:kt.STRING},bgOverlay:{type:kt.STRING},cardBorder:{type:kt.STRING}},required:["gradientFrom","gradientTo","accentColor","bgOverlay","cardBorder"]}}});return r.text?JSON.parse(r.text):{gradientFrom:"from-rose-500",gradientTo:"to-orange-500",accentColor:"text-rose-600",bgOverlay:"bg-rose-50",cardBorder:"border-rose-200"}}catch(r){return console.error("Failed to generate theme style",r),{gradientFrom:"from-blue-500",gradientTo:"to-indigo-500",accentColor:"text-blue-600",bgOverlay:"bg-blue-50",cardBorder:"border-blue-200"}}},yj=(e,t,n)=>`
    You are "The 29th Chapter Copilot", an energetic, supportive, and highly organized strategic planner for ${e.name}.
    
    CONTEXT:
    - User Name: ${e.name}
    - Current Era (Theme): ${t.title} (${t.description})
    - Current Tasks in this Era: ${n.length} tasks.
    - Task List: ${JSON.stringify(n.map(r=>r.title))}

    YOUR GOAL:
    Help the user plan their 2026. Brainstorm ideas, suggest tasks, and help define new Eras (Themes).
    Be concise, conversational, and energetic. Use emojis occasionally.

    AGENTIC TOOLS (IMPORTANT):
    You can propose actions for the user to take. 
    
    1. SUGGEST TASKS:
    If the user agrees to a plan or asks for tasks, output a JSON block inside specific tags:
    <JSON_ACTION type="TASKS">
    [
      { "title": "Task Name", "description": "Short desc", "category": "Career", "estimatedMinutes": 30 }
    ]
    </JSON_ACTION>

    2. SUGGEST NEW ERA:
    If the user wants to start a new phase/era, output a JSON block:
    <JSON_ACTION type="THEME">
    {
      "title": "Era Name",
      "description": "Vibe description",
      "startDate": "2026-06-01",
      "endDate": "2026-08-30"
    }
    </JSON_ACTION>

    Always keep your conversational text OUTSIDE the <JSON_ACTION> tags.
  `,bj=async(e,t,n,r,i)=>{const a=Gd(),l=yj(n,r,i);return(await a.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:l,temperature:.8},history:e.map(d=>({role:d.role,parts:d.parts}))}).sendMessage({message:t})).text};function TI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=TI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=TI(e))&&(r&&(r+=" "),r+=t);return r}var _j=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function O0(e){if(typeof e!="string")return!1;var t=_j;return t.includes(e)}var wj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Sj=new Set(wj);function AI(e){return typeof e!="string"?!1:Sj.has(e)}function xI(e){return typeof e=="string"&&e.startsWith("data-")}function Ss(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AI(n)||xI(n))&&(t[n]=e[n]);return t}function Sy(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ss(t)}return typeof e=="object"&&!Array.isArray(e)?Ss(e):null}function hr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AI(n)||xI(n)||O0(n))&&(t[n]=e[n]);return t}var Ej=["children","width","height","viewBox","className","style","title","desc"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function Tj(e,t){if(e==null)return{};var n,r,i=Aj(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CI=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:c,title:f,desc:d}=e,p=Tj(e,Ej),g=a||{width:r,height:i,x:0,y:0},y=qt("recharts-surface",l);return C.createElement("svg",Ey({},hr(p),{className:y,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),C.createElement("title",null,f),C.createElement("desc",null,d),n)}),xj=["children","className"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}function Cj(e,t){if(e==null)return{};var n,r,i=Rj(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uo=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Cj(e,xj),a=qt("recharts-layer",r);return C.createElement("g",Ty({className:a},hr(i),{ref:t}),n)}),RI=aM(),Nj=C.createContext(null);function at(e){return function(){return e}}const NI=Math.cos,jf=Math.sin,Pr=Math.sqrt,Ff=Math.PI,Vd=2*Ff,Ay=Math.PI,xy=2*Ay,Vo=1e-6,Mj=xy-Vo;function MI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ij(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Oj{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MI:Ij(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=r-t,d=i-n,p=l-t,g=c-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Vo)if(!(Math.abs(g*f-d*p)>Vo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-l,S=i-c,E=f*f+d*d,T=w*w+S*S,x=Math.sqrt(E),I=Math.sqrt(y),M=a*Math.tan((Ay-Math.acos((E+y-T)/(2*x*I)))/2),O=M/I,P=M/x;Math.abs(O-1)>Vo&&this._append`L${t+O*p},${n+O*g}`,this._append`A${a},${a},0,0,${+(g*w>p*S)},${this._x1=t+P*f},${this._y1=n+P*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=t+c,p=n+f,g=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Vo||Math.abs(this._y1-p)>Vo)&&this._append`L${d},${p}`,r&&(y<0&&(y=y%xy+xy),y>Mj?this._append`A${r},${r},0,1,${g},${t-c},${n-f}A${r},${r},0,1,${g},${this._x1=d},${this._y1=p}`:y>Vo&&this._append`A${r},${r},0,${+(y>=Ay)},${g},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function P0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Oj(t)}function D0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function II(e){this._context=e}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jd(e){return new II(e)}function OI(e){return e[0]}function PI(e){return e[1]}function DI(e,t){var n=at(!0),r=null,i=jd,a=null,l=P0(c);e=typeof e=="function"?e:e===void 0?OI:at(e),t=typeof t=="function"?t:t===void 0?PI:at(t);function c(f){var d,p=(f=D0(f)).length,g,y=!1,w;for(r==null&&(a=i(w=l())),d=0;d<=p;++d)!(d<p&&n(g=f[d],d,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(g,d,f),+t(g,d,f));if(w)return a=null,w+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:at(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),c):r},c}function ff(e,t,n){var r=null,i=at(!0),a=null,l=jd,c=null,f=P0(d);e=typeof e=="function"?e:e===void 0?OI:at(+e),t=typeof t=="function"?t:at(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?PI:at(+n);function d(g){var y,w,S,E=(g=D0(g)).length,T,x=!1,I,M=new Array(E),O=new Array(E);for(a==null&&(c=l(I=f())),y=0;y<=E;++y){if(!(y<E&&i(T=g[y],y,g))===x)if(x=!x)w=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=y-1;S>=w;--S)c.point(M[S],O[S]);c.lineEnd(),c.areaEnd()}x&&(M[y]=+e(T,y,g),O[y]=+t(T,y,g),c.point(r?+r(T,y,g):M[y],n?+n(T,y,g):O[y]))}if(I)return c=null,I+""||null}function p(){return DI().defined(i).curve(l).context(a)}return d.x=function(g){return arguments.length?(e=typeof g=="function"?g:at(+g),r=null,d):e},d.x0=function(g){return arguments.length?(e=typeof g=="function"?g:at(+g),d):e},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:at(+g),d):r},d.y=function(g){return arguments.length?(t=typeof g=="function"?g:at(+g),n=null,d):t},d.y0=function(g){return arguments.length?(t=typeof g=="function"?g:at(+g),d):t},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:at(+g),d):n},d.lineX0=d.lineY0=function(){return p().x(e).y(t)},d.lineY1=function(){return p().x(e).y(n)},d.lineX1=function(){return p().x(r).y(t)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:at(!!g),d):i},d.curve=function(g){return arguments.length?(l=g,a!=null&&(c=l(a)),d):l},d.context=function(g){return arguments.length?(g==null?a=c=null:c=l(a=g),d):a},d}class kI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Pj(e){return new kI(e,!0)}function Dj(e){return new kI(e,!1)}const k0={draw(e,t){const n=Pr(t/Ff);e.moveTo(n,0),e.arc(0,0,n,0,Vd)}},kj={draw(e,t){const n=Pr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},UI=Pr(1/3),Uj=UI*2,Lj={draw(e,t){const n=Pr(t/Uj),r=n*UI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},qj={draw(e,t){const n=Pr(t),r=-n/2;e.rect(r,r,n,n)}},$j=.8908130915292852,LI=jf(Ff/10)/jf(7*Ff/10),Bj=jf(Vd/10)*LI,zj=-NI(Vd/10)*LI,Hj={draw(e,t){const n=Pr(t*$j),r=Bj*n,i=zj*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Vd*a/5,c=NI(l),f=jf(l);e.lineTo(f*n,-c*n),e.lineTo(c*r-f*i,f*r+c*i)}e.closePath()}},pg=Pr(3),Gj={draw(e,t){const n=-Pr(t/(pg*3));e.moveTo(0,n*2),e.lineTo(-pg*n,-n),e.lineTo(pg*n,-n),e.closePath()}},sr=-.5,lr=Pr(3)/2,Cy=1/Pr(12),Vj=(Cy/2+1)*3,jj={draw(e,t){const n=Pr(t/Vj),r=n/2,i=n*Cy,a=r,l=n*Cy+n,c=-a,f=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(c,f),e.lineTo(sr*r-lr*i,lr*r+sr*i),e.lineTo(sr*a-lr*l,lr*a+sr*l),e.lineTo(sr*c-lr*f,lr*c+sr*f),e.lineTo(sr*r+lr*i,sr*i-lr*r),e.lineTo(sr*a+lr*l,sr*l-lr*a),e.lineTo(sr*c+lr*f,sr*f-lr*c),e.closePath()}};function Fj(e,t){let n=null,r=P0(i);e=typeof e=="function"?e:at(e||k0),t=typeof t=="function"?t:at(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:at(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:at(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Kf(){}function Yf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qI(e){this._context=e}qI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kj(e){return new qI(e)}function $I(e){this._context=e}$I.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yj(e){return new $I(e)}function BI(e){this._context=e}BI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jj(e){return new BI(e)}function zI(e){this._context=e}zI.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Wj(e){return new zI(e)}function Mx(e){return e<0?-1:1}function Ix(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),c=(a*i+l*r)/(r+i);return(Mx(a)+Mx(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function Ox(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function mg(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,l-c*n,a,l)}function Jf(e){this._context=e}Jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mg(this,this._t0,Ox(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mg(this,Ox(this,n=Ix(this,e,t)),n);break;default:mg(this,this._t0,n=Ix(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HI(e){this._context=new GI(e)}(HI.prototype=Object.create(Jf.prototype)).point=function(e,t){Jf.prototype.point.call(this,t,e)};function GI(e){this._context=e}GI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Xj(e){return new Jf(e)}function Qj(e){return new HI(e)}function VI(e){this._context=e}VI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Px(e),i=Px(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Px(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Zj(e){return new VI(e)}function Fd(e,t){this._context=e,this._t=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function e6(e){return new Fd(e,.5)}function t6(e){return new Fd(e,0)}function n6(e){return new Fd(e,1)}function na(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,c=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ry(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function r6(e,t){return e[t]}function i6(e){const t=[];return t.key=e,t}function o6(){var e=at([]),t=Ry,n=na,r=r6;function i(a){var l=Array.from(e.apply(this,arguments),i6),c,f=l.length,d=-1,p;for(const g of a)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(g,l[c].key,d,a)]).data=g;for(c=0,p=D0(t(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:at(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:at(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Ry:typeof a=="function"?a:at(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??na,i):n},i}function a6(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}na(e,t)}}function s6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,c=0;l<i;++l)c+=e[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}na(e,t)}}function l6(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var c=0,f=0,d=0;c<l;++c){for(var p=e[t[c]],g=p[r][1]||0,y=p[r-1][1]||0,w=(g-y)/2,S=0;S<c;++S){var E=e[t[S]],T=E[r][1]||0,x=E[r-1][1]||0;w+=T-x}f+=g,d+=w*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,na(e,t)}}var gg={},vg={},Dx;function u6(){return Dx||(Dx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(vg)),vg}var yg={},kx;function jI(){return kx||(kx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(yg)),yg}var bg={},Ux;function U0(){return Ux||(Ux=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(bg)),bg}var _g={},wg={},Lx;function c6(){return Lx||(Lx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(wg)),wg}var qx;function L0(){return qx||(qx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6(),n=U0();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let c=0,f="",d="",p=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<l;){const g=i[c];d?g==="\\"&&c+1<l?(c++,f+=i[c]):g===d?d="":f+=g:p?g==='"'||g==="'"?d=g:g==="]"?(p=!1,a.push(f),f=""):f+=g:g==="["?(p=!0,f&&(a.push(f),f="")):g==="."?f&&(a.push(f),f=""):f+=g,c++}return f&&a.push(f),a}e.toPath=r})(_g)),_g}var $x;function q0(){return $x||($x=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u6(),n=jI(),r=U0(),i=L0();function a(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?n.isDeepKey(f)?a(c,i.toPath(f),d):d:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=c[f];return p===void 0?d:p}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?d:p}}}function l(c,f,d){if(f.length===0)return d;let p=c;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return d;p=p[f[g]]}return p===void 0?d:p}e.get=a})(gg)),gg}var Sg,Bx;function f6(){return Bx||(Bx=1,Sg=q0().get),Sg}var d6=f6();const nu=Vr(d6);var h6=4;function ao(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h6,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,l)=>{var c=n[l-1];return typeof c=="string"?i+c+a:c!==void 0?i+ao(c)+a:i+a},"")}var Mn=e=>e===0?0:e>0?1:-1,vi=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Re=e=>(typeof e=="number"||e instanceof Number)&&!vi(e),bi=e=>Re(e)||typeof e=="string",p6=0,ru=e=>{var t=++p6;return"".concat(e||"").concat(t)},Fn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(t)&&typeof t!="string")return r;var a;if(yi(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return vi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},FI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Er(e,t,n){return Re(e)&&Re(t)?ao(e+n*(t-e)):t}function m6(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):nu(r,t))===n)}var Yn=e=>e===null||typeof e>"u",bu=e=>Yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function g6(e){return e!=null}function _u(){}var v6=["type","size","sizeType"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zx(Object(n),!0).forEach(function(r){y6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y6(e,t,n){return(t=b6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b6(e){var t=_6(e,"string");return typeof t=="symbol"?t:t+""}function _6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w6(e,t){if(e==null)return{};var n,r,i=S6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KI={symbolCircle:k0,symbolCross:kj,symbolDiamond:Lj,symbolSquare:qj,symbolStar:Hj,symbolTriangle:Gj,symbolWye:jj},E6=Math.PI/180,T6=e=>{var t="symbol".concat(bu(e));return KI[t]||k0},A6=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*E6;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},x6=(e,t)=>{KI["symbol".concat(bu(e))]=t},YI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=w6(e,v6),a=Hx(Hx({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var c=()=>{var y=T6(l),w=Fj().type(y).size(A6(n,r,l)),S=w();if(S!==null)return S},{className:f,cx:d,cy:p}=a,g=hr(a);return Re(d)&&Re(p)&&Re(n)?C.createElement("path",Ny({},g,{className:qt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};YI.registerSymbol=x6;var JI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,C6=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{O0(i)&&(r[i]=(a=>n[i](n,a)))}),r},R6=(e,t,n)=>r=>(e(t,n,r),null),N6=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];O0(i)&&typeof a=="function"&&(r||(r={}),r[i]=R6(a,t,n))}),r};function Gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(n),!0).forEach(function(r){I6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I6(e,t,n){return(t=O6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O6(e){var t=P6(e,"string");return typeof t=="symbol"?t:t+""}function P6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t){var n=M6({},e),r=t,i=Object.keys(t),a=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return a}var Eg={},Tg={},Vx;function D6(){return Vx||(Vx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}e.uniqBy=t})(Tg)),Tg}var Ag={},jx;function WI(){return jx||(jx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ag)),Ag}var xg={},Cg={},Rg={},Fx;function k6(){return Fx||(Fx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Rg)),Rg}var Kx;function $0(){return Kx||(Kx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k6();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Cg)),Cg}var Ng={},Yx;function U6(){return Yx||(Yx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Ng)),Ng}var Jx;function L6(){return Jx||(Jx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$0(),n=U6();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(xg)),xg}var Mg={},Ig={},Wx;function q6(){return Wx||(Wx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q0();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Ig)),Ig}var Og={},Pg={},Dg={},kg={},Xx;function XI(){return Xx||(Xx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(kg)),kg}var Ug={},Qx;function QI(){return Qx||(Qx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ug)),Ug}var Lg={},Zx;function ZI(){return Zx||(Zx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Lg)),Lg}var eC;function $6(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI(),n=QI(),r=ZI();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):a(p,g,function w(S,E,T,x,I,M){const O=y(S,E,T,x,I,M);return O!==void 0?!!O:a(S,E,w,M)},new Map)}function a(p,g,y,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,w);case"function":return Object.keys(g).length>0?a(p,{...g},y,w):r.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,y,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,w);if(g instanceof Map)return c(p,g,y,w);if(g instanceof Set)return d(p,g,y,w);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(p)&&!(T in p)||g[T]===void 0&&p[T]!==void 0||g[T]===null&&p[T]!==null||!y(p[T],g[T],T,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function c(p,g,y,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const T=p.get(S);if(y(T,E,S,p,g,w)===!1)return!1}return!0}function f(p,g,y,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const T=g[E];let x=!1;for(let I=0;I<p.length;I++){if(S.has(I))continue;const M=p[I];let O=!1;if(y(M,T,E,p,g,w)&&(O=!0),O){S.add(I),x=!0;break}}if(!x)return!1}return!0}function d(p,g,y,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=d})(Dg)),Dg}var tC;function eO(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Pg)),Pg}var qg={},$g={},Bg={},nC;function B6(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Bg)),Bg}var zg={},rC;function tO(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(zg)),zg}var Hg={},iC;function nO(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",w="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",M="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",U="[object Int32Array]",Y="[object BigInt64Array]",V="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=Y,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=E,e.dateTag=c,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=re,e.functionTag=g,e.int16ArrayTag=D,e.int32ArrayTag=U,e.int8ArrayTag=P,e.mapTag=f,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=I,e.uint32ArrayTag=M,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=x})(Hg)),Hg}var Gg={},oC;function z6(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Gg)),Gg}var aC;function rO(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6(),n=tO(),r=nO(),i=QI(),a=z6();function l(p,g){return c(p,void 0,p,new Map,g)}function c(p,g,y,w=new Map,S=void 0){const E=S==null?void 0:S(p,g,y,w);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const T=new Array(p.length);w.set(p,T);for(let x=0;x<p.length;x++)T[x]=c(p[x],x,y,w,S);return Object.hasOwn(p,"index")&&(T.index=p.index),Object.hasOwn(p,"input")&&(T.input=p.input),T}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const T=new RegExp(p.source,p.flags);return T.lastIndex=p.lastIndex,T}if(p instanceof Map){const T=new Map;w.set(p,T);for(const[x,I]of p)T.set(x,c(I,x,y,w,S));return T}if(p instanceof Set){const T=new Set;w.set(p,T);for(const x of p)T.add(c(x,void 0,y,w,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const T=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,T);for(let x=0;x<p.length;x++)T[x]=c(p[x],x,y,w,S);return T}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const T=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,T),f(T,p,y,w,S),T}if(typeof File<"u"&&p instanceof File){const T=new File([p],p.name,{type:p.type});return w.set(p,T),f(T,p,y,w,S),T}if(typeof Blob<"u"&&p instanceof Blob){const T=new Blob([p],{type:p.type});return w.set(p,T),f(T,p,y,w,S),T}if(p instanceof Error){const T=new p.constructor;return w.set(p,T),T.message=p.message,T.name=p.name,T.stack=p.stack,T.cause=p.cause,f(T,p,y,w,S),T}if(p instanceof Boolean){const T=new Boolean(p.valueOf());return w.set(p,T),f(T,p,y,w,S),T}if(p instanceof Number){const T=new Number(p.valueOf());return w.set(p,T),f(T,p,y,w,S),T}if(p instanceof String){const T=new String(p.valueOf());return w.set(p,T),f(T,p,y,w,S),T}if(typeof p=="object"&&d(p)){const T=Object.create(Object.getPrototypeOf(p));return w.set(p,T),f(T,p,y,w,S),T}return p}function f(p,g,y=p,w,S){const E=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<E.length;T++){const x=E[T],I=Object.getOwnPropertyDescriptor(p,x);(I==null||I.writable)&&(p[x]=c(g[x],x,y,w,S))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=f})($g)),$g}var sC;function H6(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(qg)),qg}var lC;function G6(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO(),n=H6();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Og)),Og}var Vg={},jg={},Fg={},uC;function V6(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO(),n=nO();function r(i,a){return t.cloneDeepWith(i,(l,c,f,d)=>{const p=a==null?void 0:a(l,c,f,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Fg)),Fg}var cC;function j6(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(jg)),jg}var Kg={},Yg={},fC;function iO(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Yg)),Yg}var Jg={},dC;function F6(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Jg)),Jg}var hC;function K6(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI(),n=iO(),r=F6(),i=L0();function a(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&t.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let p=0;p<f.length;p++){const g=f[p];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}e.has=a})(Kg)),Kg}var pC;function Y6(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO(),n=U0(),r=j6(),i=q0(),a=K6();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const p=i.get(d,c);return p===void 0?a.has(d,c):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(Vg)),Vg}var mC;function J6(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI(),n=q6(),r=G6(),i=Y6();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Mg)),Mg}var gC;function W6(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D6(),n=WI(),r=L6(),i=J6();function a(l,c=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(c)):[]}e.uniqBy=a})(Eg)),Eg}var Wg,vC;function X6(){return vC||(vC=1,Wg=W6().uniqBy),Wg}var Q6=X6();const yC=Vr(Q6);function Z6(e,t,n){return t===!0?yC(e,n):typeof t=="function"?yC(e,t):e}var Xg={exports:{}},Qg={},Zg={exports:{}},ev={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function e8(){if(bC)return ev;bC=1;var e=Rs();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function c(g,y){var w=y(),S=r({inst:{value:w,getSnapshot:y}}),E=S[0].inst,T=S[1];return a(function(){E.value=w,E.getSnapshot=y,f(E)&&T({inst:E})},[g,w,y]),i(function(){return f(E)&&T({inst:E}),g(function(){f(E)&&T({inst:E})})},[g]),l(w),w}function f(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function d(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ev.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ev}var _C;function t8(){return _C||(_C=1,Zg.exports=e8()),Zg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function n8(){if(wC)return Qg;wC=1;var e=Rs(),t=t8();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Qg.useSyncExternalStoreWithSelector=function(d,p,g,y,w){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function x(D){if(!I){if(I=!0,M=D,D=y(D),w!==void 0&&E.hasValue){var U=E.value;if(w(U,D))return O=U}return O=D}if(U=O,r(M,D))return U;var Y=y(D);return w!==void 0&&w(U,Y)?(M=D,U):(M=D,O=Y)}var I=!1,M,O,P=g===void 0?null:g;return[function(){return x(p())},P===null?void 0:function(){return x(P())}]},[p,g,y,w]);var T=i(d,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},Qg}var SC;function r8(){return SC||(SC=1,Xg.exports=n8()),Xg.exports}var i8=r8(),B0=C.createContext(null),o8=e=>e,Vt=()=>{var e=C.useContext(B0);return e?e.store.dispatch:o8},Mf=()=>{},a8=()=>Mf,s8=(e,t)=>e===t;function ke(e){var t=C.useContext(B0);return i8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:a8,t?t.store.getState:Mf,t?t.store.getState:Mf,t?e:Mf,s8)}function l8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function u8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function c8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EC=e=>Array.isArray(e)?e:[e];function f8(e){const t=Array.isArray(e[0])?e[0]:e;return c8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function d8(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var h8=class{constructor(e){this.value=e}deref(){return this.value}},p8=typeof WeakRef<"u"?WeakRef:h8,m8=0,TC=1;function df(){return{s:m8,v:void 0,o:null,p:null}}function oO(e,t={}){let n=df();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var g;let c=n;const{length:f}=arguments;for(let y=0,w=f;y<w;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const T=E.get(S);T===void 0?(c=df(),E.set(S,c)):c=T}else{let E=c.p;E===null&&(c.p=E=new Map);const T=E.get(S);T===void 0?(c=df(),E.set(S,c)):c=T}}const d=c;let p;if(c.s===TC)p=c.v;else if(p=e.apply(null,arguments),a++,r){const y=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;y!=null&&r(y,p)&&(p=y,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new p8(p):p}return d.s=TC,d.v=p,p}return l.clearCache=()=>{n=df(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function g8(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),l8(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:w=oO,argsMemoizeOptions:S=[]}=p,E=EC(y),T=EC(S),x=f8(i),I=g(function(){return a++,d.apply(null,arguments)},...E),M=w(function(){l++;const P=d8(x,arguments);return c=I.apply(null,P),c},...T);return Object.assign(M,{resultFunc:d,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var j=g8(oO),v8=Object.assign((e,t=j)=>{u8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>v8}),tv={},nv={},rv={},AC;function y8(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),c=t(i);if(l===c&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-l:l-c}return 0};e.compareValues=n})(rv)),rv}var iv={},ov={},xC;function aO(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ov)),ov}var CC;function b8(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(iv)),iv}var RC;function _8(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y8(),n=b8(),r=L0();function i(a,l,c,f){if(a==null)return[];c=f?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const d=(w,S)=>{let E=w;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},p=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:d(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?d(S,w):typeof S=="object"?S[w]:S,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return a.map(w=>({original:w,criteria:g.map(S=>p(S,w))})).slice().sort((w,S)=>{for(let E=0;E<g.length;E++){const T=t.compareValues(w.criteria[E],S.criteria[E],c[E]);if(T!==0)return T}return 0}).map(w=>w.original)}e.orderBy=i})(nv)),nv}var av={},NC;function w8(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const p=c[d];Array.isArray(p)&&f<a?l(p,f+1):i.push(p)}};return l(n,0),i}e.flatten=t})(av)),av}var sv={},MC;function sO(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO(),n=$0(),r=XI(),i=ZI();function a(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&t.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}e.isIterateeCall=a})(sv)),sv}var IC;function S8(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_8(),n=w8(),r=sO();function i(a,...l){const c=l.length;return c>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(tv)),tv}var lv,OC;function E8(){return OC||(OC=1,lv=S8().sortBy),lv}var T8=E8();const Kd=Vr(T8);var lO=e=>e.legend.settings,A8=e=>e.legend.size,x8=e=>e.legend.payload;j([x8,lO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Kd(r,n):r});var hf=1;function C8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>hf||Math.abs(l.left-t.left)>hf||Math.abs(l.top-t.top)>hf||Math.abs(l.width-t.width)>hf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R8=typeof Symbol=="function"&&Symbol.observable||"@@observable",PC=R8,uv=()=>Math.random().toString(36).substring(7).split("").join("."),N8={INIT:`@@redux/INIT${uv()}`,REPLACE:`@@redux/REPLACE${uv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uv()}`},Wf=N8;function z0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uO(e,t,n){if(typeof e!="function")throw new Error(un(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(un(1));return n(uO)(e,t)}let r=e,i=t,a=new Map,l=a,c=0,f=!1;function d(){l===a&&(l=new Map,a.forEach((T,x)=>{l.set(x,T)}))}function p(){if(f)throw new Error(un(3));return i}function g(T){if(typeof T!="function")throw new Error(un(4));if(f)throw new Error(un(5));let x=!0;d();const I=c++;return l.set(I,T),function(){if(x){if(f)throw new Error(un(6));x=!1,d(),l.delete(I),a=null}}}function y(T){if(!z0(T))throw new Error(un(7));if(typeof T.type>"u")throw new Error(un(8));if(typeof T.type!="string")throw new Error(un(17));if(f)throw new Error(un(9));try{f=!0,i=r(i,T)}finally{f=!1}return(a=l).forEach(I=>{I()}),T}function w(T){if(typeof T!="function")throw new Error(un(10));r=T,y({type:Wf.REPLACE})}function S(){const T=g;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(un(11));function I(){const O=x;O.next&&O.next(p())}return I(),{unsubscribe:T(I)}},[PC](){return this}}}return y({type:Wf.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:w,[PC]:S}}function M8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wf.INIT})>"u")throw new Error(un(12));if(typeof n(void 0,{type:Wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(un(13))})}function cO(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{M8(n)}catch(a){i=a}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],w=l[g],S=y(w,c);if(typeof S>"u")throw c&&c.type,new Error(un(14));d[g]=S,f=f||S!==w}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function I8(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(un(15))};const l={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},c=e.map(f=>f(l));return a=Xf(...c)(i.dispatch),{...i,dispatch:a}}}function fO(e){return z0(e)&&"type"in e&&typeof e.type=="string"}var dO=Symbol.for("immer-nothing"),DC=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jn=Object,Es=jn.getPrototypeOf,Qf="constructor",Yd="prototype",My="configurable",Zf="enumerable",If="writable",iu="value",_i=e=>!!e&&!!e[Sn];function Ir(e){var t;return e?hO(e)||Wd(e)||!!e[DC]||!!((t=e[Qf])!=null&&t[DC])||Xd(e)||Qd(e):!1}var O8=jn[Yd][Qf].toString(),kC=new WeakMap;function hO(e){if(!e||!H0(e))return!1;const t=Es(e);if(t===null||t===jn[Yd])return!0;const n=jn.hasOwnProperty.call(t,Qf)&&t[Qf];if(n===Object)return!0;if(!fs(n))return!1;let r=kC.get(n);return r===void 0&&(r=Function.toString.call(n),kC.set(n,r)),r===O8}function Jd(e,t,n=!0){wu(e)===0?(n?Reflect.ownKeys(e):jn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function wu(e){const t=e[Sn];return t?t.type_:Wd(e)?1:Xd(e)?2:Qd(e)?3:0}var UC=(e,t,n=wu(e))=>n===2?e.has(t):jn[Yd].hasOwnProperty.call(e,t),Iy=(e,t,n=wu(e))=>n===2?e.get(t):e[t],ed=(e,t,n,r=wu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function P8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Wd=Array.isArray,Xd=e=>e instanceof Map,Qd=e=>e instanceof Set,H0=e=>typeof e=="object",fs=e=>typeof e=="function",cv=e=>typeof e=="boolean";function D8(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var fi=e=>e.copy_||e.base_,G0=e=>e.modified_?e.copy_:e.base_;function Oy(e,t){if(Xd(e))return new Map(e);if(Qd(e))return new Set(e);if(Wd(e))return Array[Yd].slice.call(e);const n=hO(e);if(t===!0||t==="class_only"&&!n){const r=jn.getOwnPropertyDescriptors(e);delete r[Sn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c[If]===!1&&(c[If]=!0,c[My]=!0),(c.get||c.set)&&(r[l]={[My]:!0,[If]:!0,[Zf]:c[Zf],[iu]:e[l]})}return jn.create(Es(e),r)}else{const r=Es(e);if(r!==null&&n)return{...e};const i=jn.create(r);return jn.assign(i,e)}}function V0(e,t=!1){return Zd(e)||_i(e)||!Ir(e)||(wu(e)>1&&jn.defineProperties(e,{set:pf,add:pf,clear:pf,delete:pf}),jn.freeze(e),t&&Jd(e,(n,r)=>{V0(r,!0)},!1)),e}function k8(){Tr(2)}var pf={[iu]:k8};function Zd(e){return e===null||!H0(e)?!0:jn.isFrozen(e)}var td="MapSet",Py="Patches",LC="ArrayMethods",pO={};function ra(e){const t=pO[e];return t||Tr(0,e),t}var qC=e=>!!pO[e],ou,mO=()=>ou,U8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qC(td)?ra(td):void 0,arrayMethodsPlugin_:qC(LC)?ra(LC):void 0});function $C(e,t){t&&(e.patchPlugin_=ra(Py),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){ky(e),e.drafts_.forEach(L8),e.drafts_=null}function ky(e){e===ou&&(ou=e.parent_)}var BC=e=>ou=U8(ou,e);function L8(e){const t=e[Sn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Sn].modified_&&(Dy(t),Tr(4)),Ir(e)&&(e=HC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Sn].base_,e,t)}else e=HC(t,n);return q8(t,e,!0),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dO?e:void 0}function HC(e,t){if(Zd(t))return t;const n=t[Sn];if(!n)return nd(t,e.handledSet_,e);if(!eh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);yO(n,e)}return n.copy_}function q8(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V0(t,n)}function gO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var eh=(e,t)=>e.scope_===t,$8=[];function vO(e,t,n,r){const i=fi(e),a=e.type_;if(r!==void 0&&Iy(i,r,a)===t){ed(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Jd(i,(f,d)=>{if(_i(d)){const p=c.get(d)||[];p.push(f),c.set(d,p)}})}const l=e.draftLocations_.get(t)??$8;for(const c of l)ed(i,c,n,a)}function B8(e,t,n){e.callbacks_.push(function(i){var c;const a=t;if(!a||!eh(a,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(a);const l=G0(a);vO(e,a.draft_??a,l,n),yO(a,i)})}function yO(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}gO(e)}}function z8(e,t,n){const{scope_:r}=e;if(_i(n)){const i=n[Sn];eh(i,r)&&i.callbacks_.push(function(){Of(e);const l=G0(i);vO(e,n,l,t)})}else Ir(n)&&e.callbacks_.push(function(){const a=fi(e);e.type_===3?a.has(n)&&nd(n,r.handledSet_,r):Iy(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&nd(Iy(e.copy_,t,e.type_),r.handledSet_,r)})}function nd(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_i(e)||t.has(e)||!Ir(e)||Zd(e)||(t.add(e),Jd(e,(r,i)=>{if(_i(i)){const a=i[Sn];if(eh(a,n)){const l=G0(a);ed(e,r,l,e.type_),gO(a)}}else Ir(i)&&nd(i,t,n)})),e}function H8(e,t){const n=Wd(e),r={type_:n?1:0,scope_:t?t.scope_:mO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=rd;n&&(i=[r],a=au);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,[c,r]}var rd={get(e,t){if(t===Sn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=fi(e);if(!UC(i,t,e.type_))return G8(e,i,t);const a=i[t];if(e.finalized_||!Ir(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&D8(t))return a;if(a===fv(e.base_,t)){Of(e);const l=e.type_===1?+t:t,c=Ly(e.scope_,a,e,l);return e.copy_[l]=c}return a},has(e,t){return t in fi(e)},ownKeys(e){return Reflect.ownKeys(fi(e))},set(e,t,n){const r=bO(fi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=fv(fi(e),t),a=i==null?void 0:i[Sn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(P8(n,i)&&(n!==void 0||UC(e.base_,t,e.type_)))return!0;Of(e),Uy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),z8(e,t,n)),!0},deleteProperty(e,t){return Of(e),fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Uy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=fi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[If]:!0,[My]:e.type_!==1||t!=="length",[Zf]:r[Zf],[iu]:n[t]}},defineProperty(){Tr(11)},getPrototypeOf(e){return Es(e.base_)},setPrototypeOf(){Tr(12)}},au={};for(let e in rd){let t=rd[e];au[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,n){return rd.set.call(this,e[0],t,n,e[0])};function fv(e,t){const n=e[Sn];return(n?fi(n):e)[t]}function G8(e,t,n){var i;const r=bO(t,n);return r?iu in r?r[iu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function bO(e,t){if(!(t in e))return;let n=Es(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Es(n)}}function Uy(e){e.modified_||(e.modified_=!0,e.parent_&&Uy(e.parent_))}function Of(e){e.copy_||(e.assigned_=new Map,e.copy_=Oy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var V8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(fs(n)&&!fs(r)){const l=r;r=n;const c=this;return function(d=l,...p){return c.produce(d,g=>r.call(this,g,...p))}}fs(r)||Tr(6),i!==void 0&&!fs(i)&&Tr(7);let a;if(Ir(n)){const l=BC(this),c=Ly(l,n,void 0);let f=!0;try{a=r(c),f=!1}finally{f?Dy(l):ky(l)}return $C(l,i),zC(a,l)}else if(!n||!H0(n)){if(a=r(n),a===void 0&&(a=n),a===dO&&(a=void 0),this.autoFreeze_&&V0(a,!0),i){const l=[],c=[];ra(Py).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:c}),i(l,c)}return a}else Tr(1,n)},this.produceWithPatches=(n,r)=>{if(fs(n))return(c,...f)=>this.produceWithPatches(c,d=>n(d,...f));let i,a;return[this.produce(n,r,(c,f)=>{i=c,a=f}),i,a]},cv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),cv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),cv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ir(t)||Tr(8),_i(t)&&(t=Mr(t));const n=BC(this),r=Ly(n,t,void 0);return r[Sn].isManual_=!0,ky(n),r}finishDraft(t,n){const r=t&&t[Sn];(!r||!r.isManual_)&&Tr(9);const{scope_:i}=r;return $C(i,n),zC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ra(Py).applyPatches_;return _i(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Ly(e,t,n,r){const[i,a]=Xd(t)?ra(td).proxyMap_(t,n):Qd(t)?ra(td).proxySet_(t,n):H8(t,n);return((n==null?void 0:n.scope_)??mO()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?B8(n,a,r):a.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(a);const{patchPlugin_:d}=f;a.modified_&&d&&d.generatePatches_(a,[],f)}),i}function Mr(e){return _i(e)||Tr(10,e),_O(e)}function _O(e){if(!Ir(e)||Zd(e))return e;const t=e[Sn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Oy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Oy(e,!0);return Jd(n,(i,a)=>{ed(n,i,_O(a))},r),t&&(t.finalized_=!1),n}var j8=new V8,wO=j8.produce;function SO(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var F8=SO(),K8=SO,Y8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Kn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fO(r)&&r.type===e,n}var EO=class Fl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fl.prototype)}static get[Symbol.species](){return Fl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fl(...t[0].concat(this)):new Fl(...t.concat(this))}};function GC(e){return Ir(e)?wO(e,()=>{}):e}function mf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function J8(e){return typeof e=="boolean"}var W8=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new EO;return n&&(J8(n)?l.push(F8):l.push(K8(n.extraArgument))),l},TO="RTK_autoBatch",dt=()=>e=>({payload:e,meta:{[TO]:!0}}),VC=e=>t=>{setTimeout(t,e)},AO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const c=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VC(10):e.type==="callback"?e.queueNotification:VC(e.timeout),d=()=>{l=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[TO]),a=!i,a&&(l||(l=!0,f(d))),r.dispatch(p)}finally{i=!0}}})},X8=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new EO(e);return r&&i.push(AO(typeof r=="object"?r:void 0)),i};function Q8(e){const t=W8(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(z0(n))c=cO(n);else throw new Error(Kn(1));let f;typeof r=="function"?f=r(t):f=t();let d=Xf;i&&(d=Y8({trace:!1,...typeof i=="object"&&i}));const p=I8(...f),g=X8(p);let y=typeof l=="function"?l(g):g();const w=d(...y);return uO(c,a,w)}function xO(e){const t={},n=[];let r;const i={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Kn(28));if(c in t)throw new Error(Kn(29));return t[c]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Z8(e){return typeof e=="function"}function eF(e,t){let[n,r,i]=xO(t),a;if(Z8(e))a=()=>GC(e());else{const c=GC(e);a=()=>c}function l(c=a(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,g)=>{if(g)if(_i(p)){const w=g(p,f);return w===void 0?p:w}else{if(Ir(p))return wO(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return l.getInitialState=a,l}var tF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nF=(e=21)=>{let t="",n=e;for(;n--;)t+=tF[Math.random()*64|0];return t},rF=Symbol.for("rtk-slice-createasyncthunk");function iF(e,t){return`${e}/${t}`}function oF({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[rF];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(Kn(11));const c=(typeof i.reducers=="function"?i.reducers(sF()):i.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(O,P){const D=typeof O=="string"?O:O.type;if(!D)throw new Error(Kn(12));if(D in d.sliceCaseReducersByType)throw new Error(Kn(13));return d.sliceCaseReducersByType[D]=P,p},addMatcher(O,P){return d.sliceMatchers.push({matcher:O,reducer:P}),p},exposeAction(O,P){return d.actionCreators[O]=P,p},exposeCaseReducer(O,P){return d.sliceCaseReducersByName[O]=P,p}};f.forEach(O=>{const P=c[O],D={reducerName:O,type:iF(a,O),createNotation:typeof i.reducers=="function"};uF(P)?fF(D,P,p,t):lF(D,P,p)});function g(){const[O={},P=[],D=void 0]=typeof i.extraReducers=="function"?xO(i.extraReducers):[i.extraReducers],U={...O,...d.sliceCaseReducersByType};return eF(i.initialState,Y=>{for(let V in U)Y.addCase(V,U[V]);for(let V of d.sliceMatchers)Y.addMatcher(V.matcher,V.reducer);for(let V of P)Y.addMatcher(V.matcher,V.reducer);D&&Y.addDefaultCase(D)})}const y=O=>O,w=new Map,S=new WeakMap;let E;function T(O,P){return E||(E=g()),E(O,P)}function x(){return E||(E=g()),E.getInitialState()}function I(O,P=!1){function D(Y){let V=Y[O];return typeof V>"u"&&P&&(V=mf(S,D,x)),V}function U(Y=y){const V=mf(w,P,()=>new WeakMap);return mf(V,Y,()=>{const re={};for(const[J,te]of Object.entries(i.selectors??{}))re[J]=aF(te,Y,()=>mf(S,Y,x),P);return re})}return{reducerPath:O,getSelectors:U,get selectors(){return U(D)},selectSlice:D}}const M={name:a,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...I(l),injectInto(O,{reducerPath:P,...D}={}){const U=P??l;return O.inject({reducerPath:U,reducer:T},D),{...M,...I(U,!0)}}};return M}}function aF(e,t,n,r){function i(a,...l){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...l)}return i.unwrapped=e,i}var On=oF();function sF(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function lF({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!cF(r))throw new Error(Kn(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?pr(e,l):pr(e))}function uF(e){return e._reducerDefinitionType==="asyncThunk"}function cF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fF({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Kn(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:f,settled:d,options:p}=n,g=i(e,a,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(t,{fulfilled:l||gf,pending:c||gf,rejected:f||gf,settled:d||gf})}function gf(){}var dF="task",CO="listener",RO="completed",j0="cancelled",hF=`task-${j0}`,pF=`task-${RO}`,qy=`${CO}-${j0}`,mF=`${CO}-${RO}`,th=class{constructor(e){Wm(this,"name","TaskAbortError");Wm(this,"message");this.code=e,this.message=`${dF} ${j0} (reason: ${e})`}},F0=(e,t)=>{if(typeof e!="function")throw new TypeError(Kn(32))},id=()=>{},NO=(e,t=id)=>(e.catch(t),e),MO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Zo=e=>{if(e.aborted)throw new th(e.reason)};function IO(e,t){let n=id;return new Promise((r,i)=>{const a=()=>i(new th(e.reason));if(e.aborted){a();return}n=MO(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=id})}var gF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof th?"cancelled":"rejected",error:n}}finally{t==null||t()}},od=e=>t=>NO(IO(e,t).then(n=>(Zo(e),n))),OO=e=>{const t=od(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:_s}=Object,jC={},nh="listenerMiddleware",vF=(e,t)=>{const n=r=>MO(e,()=>r.abort(e.reason));return(r,i)=>{F0(r);const a=new AbortController;n(a);const l=gF(async()=>{Zo(e),Zo(a.signal);const c=await r({pause:od(a.signal),delay:OO(a.signal),signal:a.signal});return Zo(a.signal),c},()=>a.abort(pF));return i!=null&&i.autoJoin&&t.push(l.catch(id)),{result:od(e)(l),cancel(){a.abort(hF)}}}},yF=(e,t)=>{const n=async(r,i)=>{Zo(t);let a=()=>{};const c=[new Promise((f,d)=>{let p=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});a=()=>{p(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await IO(t,Promise.race(c));return Zo(t),f}finally{a()}};return(r,i)=>NO(n(r,i))},PO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Kn(21));return F0(a),{predicate:i,type:t,effect:a}},DO=_s(e=>{const{type:t,predicate:n,effect:r}=PO(e);return{id:nF(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Kn(22))}}},{withTypes:()=>DO}),FC=(e,t)=>{const{type:n,effect:r,predicate:i}=PO(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},$y=e=>{e.pending.forEach(t=>{t.abort(qy)})},bF=(e,t)=>()=>{for(const n of t.keys())$y(n);e.clear()},KC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},kO=_s(pr(`${nh}/add`),{withTypes:()=>kO}),_F=pr(`${nh}/removeAll`),UO=_s(pr(`${nh}/remove`),{withTypes:()=>UO}),wF=(...e)=>{console.error(`${nh}/error`,...e)},Su=(e={})=>{const t=new Map,n=new Map,r=w=>{const S=n.get(w)??0;n.set(w,S+1)},i=w=>{const S=n.get(w)??1;S===1?n.delete(w):n.set(w,S-1)},{extra:a,onError:l=wF}=e;F0(l);const c=w=>(w.unsubscribe=()=>t.delete(w.id),t.set(w.id,w),S=>{w.unsubscribe(),S!=null&&S.cancelActive&&$y(w)}),f=w=>{const S=FC(t,w)??DO(w);return c(S)};_s(f,{withTypes:()=>f});const d=w=>{const S=FC(t,w);return S&&(S.unsubscribe(),w.cancelActive&&$y(S)),!!S};_s(d,{withTypes:()=>d});const p=async(w,S,E,T)=>{const x=new AbortController,I=yF(f,x.signal),M=[];try{w.pending.add(x),r(w),await Promise.resolve(w.effect(S,_s({},E,{getOriginalState:T,condition:(O,P)=>I(O,P).then(Boolean),take:I,delay:OO(x.signal),pause:od(x.signal),extra:a,signal:x.signal,fork:vF(x.signal,M),unsubscribe:w.unsubscribe,subscribe:()=>{t.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((O,P,D)=>{O!==x&&(O.abort(qy),D.delete(O))})},cancel:()=>{x.abort(qy),w.pending.delete(x)},throwIfCancelled:()=>{Zo(x.signal)}})))}catch(O){O instanceof th||KC(l,O,{raisedBy:"effect"})}finally{await Promise.all(M),x.abort(mF),i(w),w.pending.delete(x)}},g=bF(t,n);return{middleware:w=>S=>E=>{if(!fO(E))return S(E);if(kO.match(E))return f(E.payload);if(_F.match(E)){g();return}if(UO.match(E))return d(E.payload);let T=w.getState();const x=()=>{if(T===jC)throw new Error(Kn(23));return T};let I;try{if(I=S(E),t.size>0){const M=w.getState(),O=Array.from(t.values());for(const P of O){let D=!1;try{D=P.predicate(E,M,T)}catch(U){D=!1,KC(l,U,{raisedBy:"predicate"})}D&&p(P,E,w,x)}}}finally{T=jC}return I},startListening:f,stopListening:d,clearListeners:g}};function Kn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LO=On({name:"chartLayout",initialState:SF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:EF,setLayout:TF,setChartSize:AF,setScale:xF}=LO.actions,CF=LO.reducer;function qO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function $t(e){return Number.isFinite(e)}function co(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){RF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RF(e,t,n){return(t=NF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NF(e){var t=MF(e,"string");return typeof t=="symbol"?t:t+""}function MF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Et(e,t,n){return Yn(e)||Yn(t)?n:bi(t)?nu(e,t,n):typeof t=="function"?t(e):n}var IF=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&a!=="center"&&Re(e[a]))return ms(ms({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&l!=="middle"&&Re(e[l]))return ms(ms({},e),{},{[l]:e[l]+(i||0)})}return e},ua=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JC=1e-4,OF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-JC,a=Math.max(r[0],r[1])+JC,l=e(t[0]),c=e(t[n-1]);(l<i||l>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},PF=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,c=0;c<n;++c){var f=e[c],d=f==null?void 0:f[i];if(d!=null){var p=d[1],g=d[0],y=vi(p)?g:p;y>=0?(d[0]=a,d[1]=a+y,a=p):(d[0]=l,d[1]=l+y,l=p)}}}},DF=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var c=e[l],f=c==null?void 0:c[i];if(f!=null){var d=vi(f[1])?f[0]:f[1];d>=0?(f[0]=a,f[1]=a+d,a=f[1]):(f[0]=0,f[1]=0)}}}},kF={sign:PF,expand:a6,none:na,silhouette:s6,wiggle:l6,positive:DF},UF=(e,t,n)=>{var r,i=(r=kF[n])!==null&&r!==void 0?r:na,a=o6().keys(t).value((c,f)=>Number(Et(c,f,0))).order(Ry).offset(i),l=a(e);return l.forEach((c,f)=>{c.forEach((d,p)=>{var g=Et(e[p],t[f],0);Array.isArray(g)&&g.length===2&&Re(g[0])&&Re(g[1])&&(d[0]=g[0],d[1]=g[1])})}),l},LF=e=>{var t=e.flat(2).filter(Re);return[Math.min(...t),Math.max(...t)]},qF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$F=(e,t,n)=>{if(e!=null)return qF(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:l}=a,c=l.reduce((f,d)=>{var p=qO(d,t,n),g=LF(p);return!$t(g[0])||!$t(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QC=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var i=Kd(t,p=>p.coordinate),a=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];a=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function ZC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return ms(ms({},t),{},{dataKey:n,payload:r,value:i,name:a})}function $O(e,t){if(e)return String(e);if(typeof t=="string")return t}var BF=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},zF=(e,t)=>t==="centric"?e.angle:e.radius,Ri=e=>e.layout.width,Ni=e=>e.layout.height,HF=e=>e.layout.scale,BO=e=>e.layout.margin,rh=j(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ih=j(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zO="data-recharts-item-index",HO="data-recharts-item-id",Eu=60;function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){GF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FF=e=>e.brush.height;function KF(e){var t=ih(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eu;return n+i}return n},0)}function YF(e){var t=ih(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eu;return n+i}return n},0)}function JF(e){var t=rh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function WF(e){var t=rh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Zt=j([Ri,Ni,BO,FF,KF,YF,JF,WF,lO,A8],(e,t,n,r,i,a,l,c,f,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+l,bottom:(n.bottom||0)+c},y=vf(vf({},g),p),w=y.bottom;y.bottom+=r,y=IF(y,f,d);var S=e-y.left-y.right,E=t-y.top-y.bottom;return vf(vf({brushBottom:w},y),{},{width:Math.max(S,0),height:Math.max(E,0)})}),XF=j(Zt,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));j(Ri,Ni,(e,t)=>({x:0,y:0,width:e,height:t}));var QF=C.createContext(null),mo=()=>C.useContext(QF)!=null,oh=e=>e.brush,ah=j([oh,Zt,BO],(e,t,n)=>({height:e.height,x:Re(e.x)?e.x:t.left,y:Re(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Re(e.width)?e.width:t.width})),dv={},hv={},pv={},t1;function ZF(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,c=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},g=()=>{d&&p(),E()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{S(),l=void 0,c=null},T=()=>{p()},x=function(...I){if(i!=null&&i.aborted)return;l=this,c=I;const M=y==null;w(),f&&M&&p()};return x.schedule=w,x.cancel=E,x.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),x}e.debounce=t})(pv)),pv}var n1;function eK(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZF();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:c=!0,maxWait:f}=a,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let p,g=null;const y=t.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:d}),w=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,E),p)},S=()=>(y.flush(),p);return w.cancel=y.cancel,w.flush=S,w}e.debounce=n})(hv)),hv}var r1;function tK(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK();function n(r,i=0,a={}){const{leading:l=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:c})}e.throttle=n})(dv)),dv}var mv,i1;function nK(){return i1||(i1=1,mv=tK().throttle),mv}var rK=nK();const iK=Vr(rK);var o1=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},GO=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,c=yi(r)?e:Number(r),f=yi(i)?t:Number(i);return a&&a>0&&(c?f=c/a:f&&(c=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},oK={width:0,height:0,overflow:"visible"},aK={width:0,overflowX:"visible"},sK={height:0,overflowY:"visible"},lK={},uK=e=>{var{width:t,height:n}=e,r=yi(t),i=yi(n);return r&&i?oK:r?aK:i?sK:lK};function cK(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(null,arguments)}function a1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VO=C.createContext({width:-1,height:-1});function pK(e){return co(e.width)&&co(e.height)}function jO(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return pK(i)?C.createElement(VO.Provider,{value:i},t):null}var K0=()=>C.useContext(VO),mK=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:p=0,id:g,className:y,onResize:w,style:S={}}=e,E=C.useRef(null),T=C.useRef();T.current=w,C.useImperativeHandle(t,()=>E.current);var[x,I]=C.useState({containerWidth:r.width,containerHeight:r.height}),M=C.useCallback((Y,V)=>{I(re=>{var J=Math.round(Y),te=Math.round(V);return re.containerWidth===J&&re.containerHeight===te?re:{containerWidth:J,containerHeight:te}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return _u;var Y=te=>{var ae,{width:de,height:Te}=te[0].contentRect;M(de,Te),(ae=T.current)===null||ae===void 0||ae.call(T,de,Te)};p>0&&(Y=iK(Y,p,{trailing:!0,leading:!1}));var V=new ResizeObserver(Y),{width:re,height:J}=E.current.getBoundingClientRect();return M(re,J),V.observe(E.current),()=>{V.disconnect()}},[M,p]);var{containerWidth:O,containerHeight:P}=x;o1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:U}=GO(O,P,{width:i,height:a,aspect:n,maxHeight:f});return o1(D!=null&&D>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,i,a,l,c,n),C.createElement("div",{id:g?"".concat(g):void 0,className:qt("recharts-responsive-container",y),style:s1(s1({},S),{},{width:i,height:a,minWidth:l,minHeight:c,maxHeight:f}),ref:E},C.createElement("div",{style:uK({width:i,height:a})},C.createElement(jO,{width:D,height:U},d)))}),gK=C.forwardRef((e,t)=>{var n=K0();if(co(n.width)&&co(n.height))return e.children;var{width:r,height:i}=cK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=GO(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Re(a)&&Re(l)?C.createElement(jO,{width:a,height:l},e.children):C.createElement(mK,By({},e,{width:r,height:i,ref:t}))});function FO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sh=()=>{var e,t=mo(),n=ke(XF),r=ke(ah),i=(e=ke(oh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yK=()=>{var e;return(e=ke(Zt))!==null&&e!==void 0?e:vK},bK=()=>ke(Ri),_K=()=>ke(Ni),st=e=>e.layout.layoutType,lh=()=>ke(st),wK=()=>{var e=lh();return e!==void 0},uh=e=>{var t=Vt(),n=mo(),{width:r,height:i}=e,a=K0(),l=r,c=i;return a&&(l=a.width>0?a.width:r,c=a.height>0?a.height:i),C.useEffect(()=>{!n&&co(l)&&co(c)&&t(AF({width:l,height:c}))},[t,n,l,c]),null},KO=Symbol.for("immer-nothing"),l1=Symbol.for("immer-draftable"),Jn=Symbol.for("immer-state");function Ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function Ts(e){return!!e&&!!e[Jn]}function ia(e){var t;return e?YO(e)||Array.isArray(e)||!!e[l1]||!!((t=e.constructor)!=null&&t[l1])||Tu(e)||fh(e):!1}var SK=Object.prototype.constructor.toString(),u1=new WeakMap;function YO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=u1.get(n);return r===void 0&&(r=Function.toString.call(n),u1.set(n,r)),r===SK}function ad(e,t,n=!0){ch(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ch(e){const t=e[Jn];return t?t.type_:Array.isArray(e)?1:Tu(e)?2:fh(e)?3:0}function zy(e,t){return ch(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JO(e,t,n){const r=ch(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function EK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tu(e){return e instanceof Map}function fh(e){return e instanceof Set}function jo(e){return e.copy_||e.base_}function Hy(e,t){if(Tu(e))return new Map(e);if(fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=YO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Jn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(su(e),r)}else{const r=su(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Y0(e,t=!1){return dh(e)||Ts(e)||!ia(e)||(ch(e)>1&&Object.defineProperties(e,{set:yf,add:yf,clear:yf,delete:yf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Y0(n,!0))),e}function TK(){Ar(2)}var yf={value:TK};function dh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var AK={};function oa(e){const t=AK[e];return t||Ar(0,e),t}var lu;function WO(){return lu}function xK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c1(e,t){t&&(oa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gy(e){Vy(e),e.drafts_.forEach(CK),e.drafts_=null}function Vy(e){e===lu&&(lu=e.parent_)}function f1(e){return lu=xK(lu,e)}function CK(e){const t=e[Jn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function d1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Jn].modified_&&(Gy(t),Ar(4)),ia(e)&&(e=sd(t,e),t.parent_||ld(t,e)),t.patches_&&oa("Patches").generateReplacementPatches_(n[Jn].base_,e,t.patches_,t.inversePatches_)):e=sd(t,n,[]),Gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KO?e:void 0}function sd(e,t,n){if(dh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Jn];if(!i)return ad(t,(a,l)=>h1(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ld(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),ad(l,(f,d)=>h1(e,i,a,f,d,n,c),r),ld(e,a,!1),n&&e.patches_&&oa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function h1(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const c=dh(i);if(!(c&&!l)){if(Ts(i)){const f=a&&t&&t.type_!==3&&!zy(t.assigned_,r)?a.concat(r):void 0,d=sd(e,i,f);if(JO(n,r,d),Ts(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ia(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;sd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Tu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ld(e,i)}}}function ld(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y0(t,n)}function RK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:WO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=J0;n&&(i=[r],a=uu);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=l,c}var J0={get(e,t){if(t===Jn)return e;const n=jo(e);if(!zy(n,t))return NK(e,n,t);const r=n[t];return e.finalized_||!ia(r)?r:r===gv(e.base_,t)?(vv(e),e.copy_[t]=Fy(r,e)):r},has(e,t){return t in jo(e)},ownKeys(e){return Reflect.ownKeys(jo(e))},set(e,t,n){const r=XO(jo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=gv(jo(e),t),a=i==null?void 0:i[Jn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(EK(n,i)&&(n!==void 0||zy(e.base_,t)))return!0;vv(e),jy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vv(e),jy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=jo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ar(11)},getPrototypeOf(e){return su(e.base_)},setPrototypeOf(){Ar(12)}},uu={};ad(J0,(e,t)=>{uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,n){return J0.set.call(this,e[0],t,n,e[0])};function gv(e,t){const n=e[Jn];return(n?jo(n):e)[t]}function NK(e,t,n){var i;const r=XO(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function XO(e,t){if(!(t in e))return;let n=su(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=su(n)}}function jy(e){e.modified_||(e.modified_=!0,e.parent_&&jy(e.parent_))}function vv(e){e.copy_||(e.copy_=Hy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var MK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(f=a,...d){return l.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&Ar(6),r!==void 0&&typeof r!="function"&&Ar(7);let i;if(ia(t)){const a=f1(this),l=Fy(t,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Gy(a):Vy(a)}return c1(a,r),d1(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===KO&&(i=void 0),this.autoFreeze_&&Y0(i,!0),r){const a=[],l=[];oa("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Ar(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,f=>t(f,...c));let r,i;return[this.produce(t,n,(l,c)=>{r=l,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ia(e)||Ar(8),Ts(e)&&(e=IK(e));const t=f1(this),n=Fy(e,void 0);return n[Jn].isManual_=!0,Vy(t),n}finishDraft(e,t){const n=e&&e[Jn];(!n||!n.isManual_)&&Ar(9);const{scope_:r}=n;return c1(r,t),d1(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=oa("Patches").applyPatches_;return Ts(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Fy(e,t){const n=Tu(e)?oa("MapSet").proxyMap_(e,t):fh(e)?oa("MapSet").proxySet_(e,t):RK(e,t);return(t?t.scope_:WO()).drafts_.push(n),n}function IK(e){return Ts(e)||Ar(10,e),QO(e)}function QO(e){if(!ia(e)||dh(e))return e;const t=e[Jn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Hy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Hy(e,!0);return ad(n,(i,a)=>{JO(n,i,QO(a))},r),t&&(t.finalized_=!1),n}var OK=new MK;OK.produce;var PK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZO=On({name:"legend",initialState:PK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:dt()},removeLegendPayload:{reducer(e,t){var n=Mr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:dt()}}}),{setLegendSize:Cre,setLegendSettings:Rre,addLegendPayload:DK,replaceLegendPayload:kK,removeLegendPayload:UK}=ZO.actions,LK=ZO.reducer;function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(r){qK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qK(e,t,n){return(t=$K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zK(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var HK=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:p,labelFormatter:g,accessibilityLayer:y=!1}=e,w=()=>{if(a&&a.length){var P={padding:0,margin:0},D=(c?Kd(a,c):a).map((U,Y)=>{if(U.type==="none")return null;var V=U.formatter||l||zK,{value:re,name:J}=U,te=re,ae=J;if(V){var de=V(re,J,U,Y,a);if(Array.isArray(de))[te,ae]=de;else if(de!=null)te=de;else return null}var Te=yv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:Te},bi(ae)?C.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,bi(ae)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},te),C.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},S=yv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=yv({margin:0},i),T=!Yn(p),x=T?p:"",I=qt("recharts-default-tooltip",f),M=qt("recharts-tooltip-label",d);T&&g&&a!==void 0&&a!==null&&(x=g(p,a));var O=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Ky({className:I,style:S},O),C.createElement("p",{className:M,style:E},C.isValidElement(x)?x:"".concat(x)),w())},Ul="recharts-tooltip-wrapper",GK={visibility:"hidden"};function VK(e){var{coordinate:t,translateX:n,translateY:r}=e;return qt(Ul,{["".concat(Ul,"-right")]:Re(n)&&t&&Re(t.x)&&n>=t.x,["".concat(Ul,"-left")]:Re(n)&&t&&Re(t.x)&&n<t.x,["".concat(Ul,"-bottom")]:Re(r)&&t&&Re(t.y)&&r>=t.y,["".concat(Ul,"-top")]:Re(r)&&t&&Re(t.y)&&r<t.y})}function m1(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=e;if(a&&Re(a[r]))return a[r];var p=n[r]-c-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var y=f[r];if(y==null)return 0;if(l[r]){var w=p,S=y;return w<S?Math.max(g,y):Math.max(p,y)}if(d==null)return 0;var E=g+c,T=y+d;return E>T?Math.max(p,y):Math.max(g,y)}function jK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function FK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:f}=e,d,p,g;return l.height>0&&l.width>0&&n?(p=m1({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=m1({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=jK({translateX:p,translateY:g,useTranslate3d:c})):d=GK,{cssProperties:d,cssClasses:VK({translateX:p,translateY:g,coordinate:n})}}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){Yy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yy(e,t,n){return(t=KK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JK extends C.PureComponent{constructor(){super(...arguments),Yy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:p,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:M}=FK({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:w}),O=x?{}:bf(bf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=bf(bf({},O),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:T},a)}}var eP=()=>{var e;return(e=ke(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function v1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(n),!0).forEach(function(r){WK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WK(e,t,n){return(t=XK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b1={curveBasisClosed:Yj,curveBasisOpen:Jj,curveBasis:Kj,curveBumpX:Pj,curveBumpY:Dj,curveLinearClosed:Wj,curveLinear:jd,curveMonotoneX:Xj,curveMonotoneY:Qj,curveNatural:Zj,curveStep:e6,curveStepAfter:n6,curveStepBefore:t6},ud=e=>$t(e.x)&&$t(e.y),_1=e=>e.base!=null&&ud(e.base)&&ud(e),Ll=e=>e.x,ql=e=>e.y,ZK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(bu(e));return(n==="curveMonotone"||n==="curveBump")&&t?b1["".concat(n).concat(t==="vertical"?"Y":"X")]:b1[n]||jd},e9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=ZK(t,i),c=a?n.filter(ud):n,f;if(Array.isArray(r)){var d=n.map((w,S)=>y1(y1({},w),{},{base:r[S]}));i==="vertical"?f=ff().y(ql).x1(Ll).x0(w=>w.base.x):f=ff().x(Ll).y1(ql).y0(w=>w.base.y);var p=f.defined(_1).curve(l),g=a?d.filter(_1):d;return p(g)}i==="vertical"&&Re(r)?f=ff().y(ql).x1(Ll).x0(r):Re(r)?f=ff().x(Ll).y1(ql).y0(r):f=DI().x(Ll).y(ql);var y=f.defined(ud).curve(l);return y(c)},W0=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=lh();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},c=n&&n.length?e9(l):r;return C.createElement("path",Jy({},Ss(e),C6(e),{className:qt("recharts-curve",t),d:c===null?void 0:c,ref:i}))},t9=["x","y","top","left","width","height","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function w1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(n),!0).forEach(function(r){r9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r9(e,t,n){return(t=i9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a9(e,t){if(e==null)return{};var n,r,i=s9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var l9=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),u9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:c}=e,f=a9(e,t9),d=n9({x:t,y:n,top:r,left:i,width:a,height:l},f);return!Re(t)||!Re(n)||!Re(a)||!Re(l)||!Re(r)||!Re(i)?null:C.createElement("path",Wy({},hr(d),{className:qt("recharts-cross",c),d:l9(t,n,a,l,r,i)}))};function c9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(n),!0).forEach(function(r){f9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f9(e,t,n){return(t=d9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),tP=(e,t,n)=>e.map(r=>"".concat(p9(r)," ").concat(t,"ms ").concat(n)).join(","),m9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),cu=(e,t)=>Object.keys(t).reduce((n,r)=>E1(E1({},n),{},{[r]:e(r,t[r])}),{});function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=v9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cd=(e,t,n)=>e+(t-e)*n,Xy=e=>{var{from:t,to:n}=e;return t!==n},nP=(e,t,n)=>{var r=cu((i,a)=>{if(Xy(a)){var[l,c]=e(a.from,a.to,a.velocity);return Ht(Ht({},a),{},{from:l,velocity:c})}return a},t);return n<1?cu((i,a)=>Xy(a)&&r[i]!=null?Ht(Ht({},a),{},{velocity:cd(a.velocity,r[i].velocity,n),from:cd(a.from,r[i].from,n)}):a,t):nP(e,r,n-1)};function b9(e,t,n,r,i,a){var l,c=r.reduce((y,w)=>Ht(Ht({},y),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),f=()=>cu((y,w)=>w.from,c),d=()=>!Object.values(c).filter(Xy).length,p=null,g=y=>{l||(l=y);var w=y-l,S=w/n.dt;c=nP(n,c,S),i(Ht(Ht(Ht({},e),t),f())),l=y,d()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function _9(e,t,n,r,i,a,l){var c=null,f=i.reduce((g,y)=>{var w=e[y],S=t[y];return w==null||S==null?g:Ht(Ht({},g),{},{[y]:[w,S]})},{}),d,p=g=>{d||(d=g);var y=(g-d)/r,w=cu((E,T)=>cd(...T,n(y)),f);if(a(Ht(Ht(Ht({},e),t),w)),y<1)c=l.setTimeout(p);else{var S=cu((E,T)=>cd(...T,n(1)),f);a(Ht(Ht(Ht({},e),t),S))}};return()=>(c=l.setTimeout(p),()=>{var g;(g=c)===null||g===void 0||g()})}const w9=(e,t,n,r,i,a)=>{var l=m9(e,t);return n==null?()=>(i(Ht(Ht({},e),t)),()=>{}):n.isStepper===!0?b9(e,t,n,l,i,a):_9(e,t,n,r,l,i,a)};var fd=1e-4,rP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),A1=(e,t)=>n=>{var r=rP(e,t);return iP(r,n)},S9=(e,t)=>n=>{var r=rP(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return iP(i,n)},E9=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},T9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=E9(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},A9=(e,t,n,r)=>{var i=A1(e,n),a=A1(t,r),l=S9(e,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var p=d>1?1:d,g=p,y=0;y<8;++y){var w=i(g)-p,S=l(g);if(Math.abs(w-p)<fd||S<fd)return a(g);g=c(g-w/S)}return a(g)};return f.isStepper=!1,f},x1=function(){return A9(...T9(...arguments))},x9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,c,f)=>{var d=-(l-c)*n,p=f*r,g=f+(d-p)*i/1e3,y=f*i/1e3+l;return Math.abs(y-c)<fd&&Math.abs(g)<fd?[c,0]:[y,g]};return a.isStepper=!0,a.dt=i,a},C9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return x1(e);case"spring":return x9();default:if(e.split("(")[0]==="cubic-bezier")return x1(e)}return typeof e=="function"?e:null};function R9(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=e.setTimeout(a.bind(null,d),f);return}a(f),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class N9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function M9(){return R9(new N9)}var I9=C.createContext(M9);function O9(e,t){var n=C.useContext(I9);return C.useMemo(()=>t??n(e),[e,t,n])}var P9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),X0={isSsr:P9()},D9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},C1={t:0},bv={t:1};function Q0(e){var t=jr(e,D9),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=t,p=n==="auto"?!X0.isSsr:n,g=O9(t.animationId,t.animationManager),[y,w]=C.useState(p?C1:bv),S=C.useRef(null);return C.useEffect(()=>{p||w(bv)},[p]),C.useEffect(()=>{if(!p||!r)return _u;var E=w9(C1,bv,C9(a),i,w,g.getTimeoutController()),T=()=>{S.current=E()};return g.start([f,l,T,i,c]),()=>{g.stop(),S.current&&S.current(),c()}},[p,r,i,a,l,f,c,g]),d(y.t)}function Z0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(ru(t)),r=C.useRef(e);return r.current!==e&&(n.current=ru(t),r.current=e),n.current}var k9=["radius"],U9=["radius"],R1,N1,M1,I1,O1,P1,D1,k1,U1,L1;function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return(t=q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(null,arguments)}function B1(e,t){if(e==null)return{};var n,r,i=B9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Br(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var z1=(e,t,n,r,i)=>{var a=ao(n),l=ao(r),c=Math.min(Math.abs(a)/2,Math.abs(l)/2),f=l>=0?1:-1,d=a>=0?1:-1,p=l>=0&&a>=0||l<0&&a<0?1:0,g;if(c>0&&i instanceof Array){for(var y=[0,0,0,0],w=0,S=4;w<S;w++)y[w]=i[w]>c?c:i[w];g=wt(R1||(R1=Br(["M",",",""])),e,t+f*y[0]),y[0]>0&&(g+=wt(N1||(N1=Br(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+d*y[0],t)),g+=wt(M1||(M1=Br(["L ",",",""])),e+n-d*y[1],t),y[1]>0&&(g+=wt(I1||(I1=Br(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+n,t+f*y[1])),g+=wt(O1||(O1=Br(["L ",",",""])),e+n,t+r-f*y[2]),y[2]>0&&(g+=wt(P1||(P1=Br(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+n-d*y[2],t+r)),g+=wt(D1||(D1=Br(["L ",",",""])),e+d*y[3],t+r),y[3]>0&&(g+=wt(k1||(k1=Br(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+r-f*y[3])),g+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);g=wt(U1||(U1=Br(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*E,E,E,p,e+d*E,t,e+n-d*E,t,E,E,p,e+n,t+f*E,e+n,t+r-f*E,E,E,p,e+n-d*E,t+r,e+d*E,t+r,E,E,p,e,t+r-f*E)}else g=wt(L1||(L1=Br(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},H1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oP=e=>{var t=jr(e,H1),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&i(ne)}catch{}},[]);var{x:a,y:l,width:c,height:f,radius:d,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=C.useRef(c),x=C.useRef(f),I=C.useRef(a),M=C.useRef(l),O=C.useMemo(()=>({x:a,y:l,width:c,height:f,radius:d}),[a,l,c,f,d]),P=Z0(O,"rectangle-");if(a!==+a||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var D=qt("recharts-rectangle",p);if(!E){var U=hr(t),{radius:Y}=U,V=B1(U,k9);return C.createElement("path",dd({},V,{x:ao(a),y:ao(l),width:ao(c),height:ao(f),radius:typeof d=="number"?d:void 0,className:D,d:z1(a,l,c,f,d)}))}var re=T.current,J=x.current,te=I.current,ae=M.current,de="0px ".concat(r===-1?1:r,"px"),Te="".concat(r,"px 0px"),B=tP(["strokeDasharray"],y,typeof g=="string"?g:H1.animationEasing);return C.createElement(Q0,{animationId:P,key:P,canBegin:r>0,duration:y,easing:g,isActive:E,begin:w},ne=>{var ce=Er(re,c,ne),me=Er(J,f,ne),Oe=Er(te,a,ne),L=Er(ae,l,ne);n.current&&(T.current=ce,x.current=me,I.current=Oe,M.current=L);var W;S?ne>0?W={transition:B,strokeDasharray:Te}:W={strokeDasharray:de}:W={strokeDasharray:Te};var oe=hr(t),{radius:se}=oe,be=B1(oe,U9);return C.createElement("path",dd({},be,{radius:typeof d=="number"?d:void 0,className:D,d:z1(Oe,L,ce,me,d),ref:n,style:$1($1({},W),t.style)}))})};function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z9(e,t,n){return(t=H9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hd=Math.PI/180,V9=e=>e*180/Math.PI,Ut=(e,t,n,r)=>({x:e+Math.cos(-hd*r)*n,y:t+Math.sin(-hd*r)*n}),aP=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},j9=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},F9=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=j9({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>a&&(f=2*Math.PI-f),{radius:l,angle:V9(f),angleInRadian:f}},K9=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Y9=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},J9=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=F9({x:n,y:r},t),{innerRadius:l,outerRadius:c}=t;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=K9(t),p=a,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?V1(V1({},t),{},{radius:i,angle:Y9(p,t)}):null};function sP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=Ut(t,n,r,i),c=Ut(t,n,r,a);return{points:[l,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var j1,F1,K1,Y1,J1,W1,X1;function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function Wo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W9=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},_f=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:c,cornerIsExternal:f}=e,d=c*(l?1:-1)+r,p=Math.asin(c/d)/hd,g=f?i:i+a*p,y=Ut(t,n,d,g),w=Ut(t,n,r,g),S=f?i-a*p:i,E=Ut(t,n,d*Math.cos(p*hd),S);return{center:y,circleTangency:w,lineTangency:E,theta:p}},lP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,c=W9(a,l),f=a+c,d=Ut(t,n,i,a),p=Ut(t,n,i,f),g=wt(j1||(j1=Wo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(c)>180),+(a>f),p.x,p.y);if(r>0){var y=Ut(t,n,r,a),w=Ut(t,n,r,f);g+=wt(F1||(F1=Wo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(c)>180),+(a<=f),y.x,y.y)}else g+=wt(K1||(K1=Wo(["L ",","," Z"])),t,n);return g},X9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=e,p=Mn(d-f),{circleTangency:g,lineTangency:y,theta:w}=_f({cx:t,cy:n,radius:i,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:S,lineTangency:E,theta:T}=_f({cx:t,cy:n,radius:i,angle:d,sign:-p,cornerRadius:a,cornerIsExternal:c}),x=c?Math.abs(f-d):Math.abs(f-d)-w-T;if(x<0)return l?wt(Y1||(Y1=Wo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):lP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var I=wt(J1||(J1=Wo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(p<0),g.x,g.y,i,i,+(x>180),+(p<0),S.x,S.y,a,a,+(p<0),E.x,E.y);if(r>0){var{circleTangency:M,lineTangency:O,theta:P}=_f({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:U,theta:Y}=_f({cx:t,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),V=c?Math.abs(f-d):Math.abs(f-d)-P-Y;if(V<0&&a===0)return"".concat(I,"L").concat(t,",").concat(n,"Z");I+=wt(W1||(W1=Wo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),U.x,U.y,a,a,+(p<0),D.x,D.y,r,r,+(V>180),+(p>0),M.x,M.y,a,a,+(p<0),O.x,O.y)}else I+=wt(X1||(X1=Wo(["L",",","Z"])),t,n);return I},Q9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uP=e=>{var t=jr(e,Q9),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p,className:g}=t;if(a<i||d===p)return null;var y=qt("recharts-sector",g),w=a-i,S=Fn(l,w,0,!0),E;return S>0&&Math.abs(d-p)<360?E=X9({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):E=lP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p}),C.createElement("path",Qy({},hr(t),{className:y,d:E}))};function Z9(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(JI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:c}=t,f=Ut(r,i,a,c),d=Ut(r,i,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return sP(t)}}var _v={},wv={},Sv={},Q1;function eY(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Sv)),Sv}var Z1;function tY(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eY();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(wv)),wv}var eR;function nY(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO(),n=tY();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}e.range=r})(_v)),_v}var Ev,tR;function rY(){return tR||(tR=1,Ev=nY().range),Ev}var iY=rY();const cP=Vr(iY);function lo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eb(e){let t,n,r;e.length!==2?(t=lo,n=(c,f)=>lo(e(c),f),r=(c,f)=>e(c)-f):(t=e===lo||e===oY?e:aY,n=e,r=e);function i(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const g=d+p>>>1;n(c[g],f)<0?d=g+1:p=g}while(d<p)}return d}function a(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const g=d+p>>>1;n(c[g],f)<=0?d=g+1:p=g}while(d<p)}return d}function l(c,f,d=0,p=c.length){const g=i(c,f,d,p-1);return g>d&&r(c[g-1],f)>-r(c[g],f)?g-1:g}return{left:i,center:l,right:a}}function aY(){return 0}function fP(e){return e===null?NaN:+e}function*sY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lY=eb(lo),Au=lY.right;eb(fP).center;class nR extends Map{constructor(t,n=fY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rR(this,t))}has(t){return super.has(rR(this,t))}set(t,n){return super.set(uY(this,t),n)}delete(t){return super.delete(cY(this,t))}}function rR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dY(e=lo){if(e===lo)return dP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function dP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hY=Math.sqrt(50),pY=Math.sqrt(10),mY=Math.sqrt(2);function pd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=hY?10:a>=pY?5:a>=mY?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(e*d),f=Math.round(t*d),c/d<e&&++c,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(e/d),f=Math.round(t/d),c*d<e&&++c,f*d>t&&--f),f<c&&.5<=n&&n<2?pd(e,t,n*2):[c,f,d]}function Zy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?pd(t,e,n):pd(e,t,n);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(a-d)/-l;else for(let d=0;d<c;++d)f[d]=(a-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function e0(e,t,n){return t=+t,e=+e,n=+n,pd(e,t,n)[2]}function t0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?e0(t,e,n):e0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function iR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?dP:dY(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(d-f/2<0?-1:1),w=Math.max(n,Math.floor(t-d*g/f+y)),S=Math.min(r,Math.floor(t+(f-d)*g/f+y));hP(e,t,w,S,i)}const a=e[t];let l=n,c=r;for($l(e,n,t),i(e[r],a)>0&&$l(e,n,r);l<c;){for($l(e,l,c),++l,--c;i(e[l],a)<0;)++l;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?$l(e,n,c):(++c,$l(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function $l(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gY(e,t,n){if(e=Float64Array.from(sY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oR(e);if(t>=1)return iR(e);var r,i=(r-1)*t,a=Math.floor(i),l=iR(hP(e,a).subarray(0,a+1)),c=oR(e.subarray(a+1));return l+(c-l)*(i-a)}}function vY(e,t,n=fP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return l+(c-l)*(i-a)}}function yY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const n0=Symbol("implicit");function tb(){var e=new nR,t=[],n=[],r=n0;function i(a){let l=e.get(a);if(l===void 0){if(r!==n0)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new nR;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tb(t,n).unknown(r)},gr.apply(i,arguments),i}function nb(){var e=tb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,c=!1,f=0,d=0,p=.5;delete e.unknown;function g(){var y=t().length,w=i<r,S=w?i:r,E=w?r:i;a=(E-S)/Math.max(1,y-f+d*2),c&&(a=Math.floor(a)),S+=(E-S-a*(y-f))*p,l=a*(1-f),c&&(S=Math.round(S),l=Math.round(l));var T=yY(y).map(function(x){return S+a*x});return n(w?T.reverse():T)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,g()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,g()):c},e.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(d=+y,g()):d},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return nb(t(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(p)},gr.apply(g(),arguments)}function pP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pP(t())},e}function bY(){return pP(nb.apply(null,arguments).paddingInner(1))}function rb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xu(){}var fu=.7,md=1/fu,ws="\\s*([+-]?\\d+)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Y=/^#([0-9a-f]{3,8})$/,wY=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),SY=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),EY=new RegExp(`^rgba\\(${ws},${ws},${ws},${du}\\)$`),TY=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${du}\\)$`),AY=new RegExp(`^hsl\\(${du},${Hr},${Hr}\\)$`),xY=new RegExp(`^hsla\\(${du},${Hr},${Hr},${du}\\)$`),aR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rb(xu,hu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sR,formatHex:sR,formatHex8:CY,formatHsl:RY,formatRgb:lR,toString:lR});function sR(){return this.rgb().formatHex()}function CY(){return this.rgb().formatHex8()}function RY(){return gP(this).formatHsl()}function lR(){return this.rgb().formatRgb()}function hu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_Y.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uR(t):n===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wY.exec(e))?new In(t[1],t[2],t[3],1):(t=SY.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EY.exec(e))?wf(t[1],t[2],t[3],t[4]):(t=TY.exec(e))?wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AY.exec(e))?dR(t[1],t[2]/100,t[3]/100,1):(t=xY.exec(e))?dR(t[1],t[2]/100,t[3]/100,t[4]):aR.hasOwnProperty(e)?uR(aR[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function uR(e){return new In(e>>16&255,e>>8&255,e&255,1)}function wf(e,t,n,r){return r<=0&&(e=t=n=NaN),new In(e,t,n,r)}function NY(e){return e instanceof xu||(e=hu(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function r0(e,t,n,r){return arguments.length===1?NY(e):new In(e,t,n,r??1)}function In(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rb(In,r0,mP(xu,{brighter(e){return e=e==null?md:Math.pow(md,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(ea(this.r),ea(this.g),ea(this.b),gd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cR,formatHex:cR,formatHex8:MY,formatRgb:fR,toString:fR}));function cR(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function MY(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function fR(){const e=gd(this.opacity);return`${e===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${e===1?")":`, ${e})`}`}function gd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ea(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xo(e){return e=ea(e),(e<16?"0":"")+e.toString(16)}function dR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,n,r)}function gP(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof xu||(e=hu(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,c=a-i,f=(a+i)/2;return c?(t===a?l=(n-r)/c+(n<r)*6:n===a?l=(r-t)/c+2:l=(t-n)/c+4,c/=f<.5?a+i:2-a-i,l*=60):c=f>0&&f<1?0:l,new xr(l,c,f,e.opacity)}function IY(e,t,n,r){return arguments.length===1?gP(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rb(xr,IY,mP(xu,{brighter(e){return e=e==null?md:Math.pow(md,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new In(Tv(e>=240?e-240:e+120,i,r),Tv(e,i,r),Tv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xr(hR(this.h),Sf(this.s),Sf(this.l),gd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gd(this.opacity);return`${e===1?"hsl(":"hsla("}${hR(this.h)}, ${Sf(this.s)*100}%, ${Sf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hR(e){return e=(e||0)%360,e<0?e+360:e}function Sf(e){return Math.max(0,Math.min(1,e||0))}function Tv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ib=e=>()=>e;function OY(e,t){return function(n){return e+n*t}}function PY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DY(e){return(e=+e)==1?vP:function(t,n){return n-t?PY(t,n,e):ib(isNaN(t)?n:t)}}function vP(e,t){var n=t-e;return n?OY(e,n):ib(isNaN(e)?t:e)}const pR=(function e(t){var n=DY(t);function r(i,a){var l=n((i=r0(i)).r,(a=r0(a)).r),c=n(i.g,a.g),f=n(i.b,a.b),d=vP(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=d(p),i+""}}return r.gamma=e,r})(1);function kY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function UY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LY(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Os(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(c){for(l=0;l<r;++l)a[l]=i[l](c);return a}}function qY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $Y(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Os(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var i0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Av=new RegExp(i0.source,"g");function BY(e){return function(){return e}}function zY(e){return function(t){return e(t)+""}}function HY(e,t){var n=i0.lastIndex=Av.lastIndex=0,r,i,a,l=-1,c=[],f=[];for(e=e+"",t=t+"";(r=i0.exec(e))&&(i=Av.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:vd(r,i)})),n=Av.lastIndex;return n<t.length&&(a=t.slice(n),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?zY(f[0].x):BY(t):(t=f.length,function(d){for(var p=0,g;p<t;++p)c[(g=f[p]).i]=g.x(d);return c.join("")})}function Os(e,t){var n=typeof t,r;return t==null||n==="boolean"?ib(t):(n==="number"?vd:n==="string"?(r=hu(t))?(t=r,pR):HY:t instanceof hu?pR:t instanceof Date?qY:UY(t)?kY:Array.isArray(t)?LY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$Y:vd)(e,t)}function ob(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function GY(e,t){t===void 0&&(t=e,e=Os);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[c](l-c)}}function VY(e){return function(){return e}}function yd(e){return+e}var mR=[0,1];function _n(e){return e}function o0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:VY(isNaN(t)?NaN:.5)}function jY(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function FY(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=o0(i,r),a=n(l,a)):(r=o0(r,i),a=n(a,l)),function(c){return a(r(c))}}function KY(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=o0(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(c){var f=Au(e,c,1,r)-1;return a[f](i[f](c))}}function Cu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=mR,t=mR,n=Os,r,i,a,l=_n,c,f,d;function p(){var y=Math.min(e.length,t.length);return l!==_n&&(l=jY(e[0],e[y-1])),c=y>2?KY:FY,f=d=null,g}function g(y){return y==null||isNaN(y=+y)?a:(f||(f=c(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(i((d||(d=c(t,e.map(r),vd)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,yd),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=ob,p()},g.clamp=function(y){return arguments.length?(l=y?!0:_n,p()):l!==_n},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,w){return r=y,i=w,p()}}function ab(){return hh()(_n,_n)}function YY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function As(e){return e=bd(Math.abs(e)),e?e[1]:NaN}function JY(e,t){return function(n,r){for(var i=n.length,a=[],l=0,c=e[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=e[l=(l+1)%e.length];return a.reverse().join(t)}}function WY(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var XY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(e){if(!(t=XY.exec(e)))throw new Error("invalid format: "+e);var t;return new sb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pu.prototype=sb.prototype;function sb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QY(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var yP;function ZY(e,t){var n=bd(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(yP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bd(e,Math.max(0,t+a-1))[0]}function gR(e,t){var n=bd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gR(e*100,t),r:gR,s:ZY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yR(e){return e}var bR=Array.prototype.map,_R=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eJ(e){var t=e.grouping===void 0||e.thousands===void 0?yR:JY(bR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?yR:WY(bR.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(g){g=pu(g);var y=g.fill,w=g.align,S=g.sign,E=g.symbol,T=g.zero,x=g.width,I=g.comma,M=g.precision,O=g.trim,P=g.type;P==="n"?(I=!0,P="g"):vR[P]||(M===void 0&&(M=12),O=!0,P="g"),(T||y==="0"&&w==="=")&&(T=!0,y="0",w="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",U=E==="$"?r:/[%p]/.test(P)?l:"",Y=vR[P],V=/[defgprs%]/.test(P);M=M===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function re(J){var te=D,ae=U,de,Te,B;if(P==="c")ae=Y(J)+ae,J="";else{J=+J;var ne=J<0||1/J<0;if(J=isNaN(J)?f:Y(Math.abs(J),M),O&&(J=QY(J)),ne&&+J==0&&S!=="+"&&(ne=!1),te=(ne?S==="("?S:c:S==="-"||S==="("?"":S)+te,ae=(P==="s"?_R[8+yP/3]:"")+ae+(ne&&S==="("?")":""),V){for(de=-1,Te=J.length;++de<Te;)if(B=J.charCodeAt(de),48>B||B>57){ae=(B===46?i+J.slice(de+1):J.slice(de))+ae,J=J.slice(0,de);break}}}I&&!T&&(J=t(J,1/0));var ce=te.length+J.length+ae.length,me=ce<x?new Array(x-ce+1).join(y):"";switch(I&&T&&(J=t(me+J,me.length?x-ae.length:1/0),me=""),w){case"<":J=te+J+ae+me;break;case"=":J=te+me+J+ae;break;case"^":J=me.slice(0,ce=me.length>>1)+te+J+ae+me.slice(ce);break;default:J=me+te+J+ae;break}return a(J)}return re.toString=function(){return g+""},re}function p(g,y){var w=d((g=pu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(As(y)/3)))*3,E=Math.pow(10,-S),T=_R[8+S/3];return function(x){return w(E*x)+T}}return{format:d,formatPrefix:p}}var Ef,lb,bP;tJ({thousands:",",grouping:[3],currency:["$",""]});function tJ(e){return Ef=eJ(e),lb=Ef.format,bP=Ef.formatPrefix,Ef}function nJ(e){return Math.max(0,-As(Math.abs(e)))}function rJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(As(t)/3)))*3-As(Math.abs(e)))}function iJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,As(t)-As(e))+1}function _P(e,t,n,r){var i=t0(e,t,n),a;switch(r=pu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=rJ(i,l))&&(r.precision=a),bP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=iJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nJ(i))&&(r.precision=a-(r.type==="%")*2);break}}return lb(r)}function go(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _P(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],c=r[a],f,d,p=10;for(c<l&&(d=l,l=c,c=d,d=i,i=a,a=d);p-- >0;){if(d=e0(l,c,n),d===f)return r[i]=l,r[a]=c,t(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return e},e}function wP(){var e=ab();return e.copy=function(){return Cu(e,wP())},gr.apply(e,arguments),go(e)}function SP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return SP(e).unknown(t)},e=arguments.length?Array.from(e,yd):[0,1],go(n)}function EP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function wR(e){return Math.log(e)}function SR(e){return Math.exp(e)}function oJ(e){return-Math.log(-e)}function aJ(e){return-Math.exp(-e)}function sJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lJ(e){return e===10?sJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ER(e){return(t,n)=>-e(-t,n)}function ub(e){const t=e(wR,SR),n=t.domain;let r=10,i,a;function l(){return i=uJ(r),a=lJ(r),n()[0]<0?(i=ER(i),a=ER(a),e(oJ,aJ)):e(wR,SR),t}return t.base=function(c){return arguments.length?(r=+c,l()):r},t.domain=function(c){return arguments.length?(n(c),l()):n()},t.ticks=c=>{const f=n();let d=f[0],p=f[f.length-1];const g=p<d;g&&([d,p]=[p,d]);let y=i(d),w=i(p),S,E;const T=c==null?10:+c;let x=[];if(!(r%1)&&w-y<T){if(y=Math.floor(y),w=Math.ceil(w),d>0){for(;y<=w;++y)for(S=1;S<r;++S)if(E=y<0?S/a(-y):S*a(y),!(E<d)){if(E>p)break;x.push(E)}}else for(;y<=w;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/a(-y):S*a(y),!(E<d)){if(E>p)break;x.push(E)}x.length*2<T&&(x=Zy(d,p,T))}else x=Zy(y,w,Math.min(w-y,T)).map(a);return g?x.reverse():x},t.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=pu(f)).precision==null&&(f.trim=!0),f=lb(f)),c===1/0)return f;const d=Math.max(1,r*c/t.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=d?f(p):""}},t.nice=()=>n(EP(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function TP(){const e=ub(hh()).domain([1,10]);return e.copy=()=>Cu(e,TP()).base(e.base()),gr.apply(e,arguments),e}function TR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cb(e){var t=1,n=e(TR(t),AR(t));return n.constant=function(r){return arguments.length?e(TR(t=+r),AR(t)):t},go(n)}function AP(){var e=cb(hh());return e.copy=function(){return Cu(e,AP()).constant(e.constant())},gr.apply(e,arguments)}function xR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fJ(e){return e<0?-e*e:e*e}function fb(e){var t=e(_n,_n),n=1;function r(){return n===1?e(_n,_n):n===.5?e(cJ,fJ):e(xR(n),xR(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},go(t)}function db(){var e=fb(hh());return e.copy=function(){return Cu(e,db()).exponent(e.exponent())},gr.apply(e,arguments),e}function dJ(){return db.apply(null,arguments).exponent(.5)}function CR(e){return Math.sign(e)*e*e}function hJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xP(){var e=ab(),t=[0,1],n=!1,r;function i(a){var l=hJ(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(CR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,yd)).map(CR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},gr.apply(i,arguments),go(i)}function CP(){var e=[],t=[],n=[],r;function i(){var l=0,c=Math.max(1,t.length);for(n=new Array(c-1);++l<c;)n[l-1]=vY(e,l/c);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Au(n,l)]}return a.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(lo),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CP().domain(e).range(t).unknown(r)},gr.apply(a,arguments)}function RP(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Au(r,f,0,n)]:a}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,c()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return RP().domain([e,t]).range(i).unknown(a)},gr.apply(go(l),arguments)}function NP(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Au(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NP().domain(e).range(t).unknown(n)},gr.apply(i,arguments)}const xv=new Date,Cv=new Date;function jt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return f;let d;do f.push(d=new Date(+a)),t(a,c),e(a);while(d<a&&a<l);return f},i.filter=a=>jt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!a(l););else for(;--c>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(xv.setTime(+a),Cv.setTime(+l),e(xv),e(Cv),Math.floor(n(xv,Cv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const _d=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_d.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_d);_d.range;const hi=1e3,cr=hi*60,pi=cr*60,wi=pi*24,hb=wi*7,RR=wi*30,Rv=wi*365,Qo=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getUTCSeconds());Qo.range;const pb=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getMinutes());pb.range;const mb=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCMinutes());mb.range;const gb=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi-e.getMinutes()*cr)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());gb.range;const vb=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());vb.range;const Ru=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cr)/wi,e=>e.getDate()-1);Ru.range;const ph=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>e.getUTCDate()-1);ph.range;const MP=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>Math.floor(e/wi));MP.range;function ca(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cr)/hb)}const mh=ca(0),wd=ca(1),pJ=ca(2),mJ=ca(3),xs=ca(4),gJ=ca(5),vJ=ca(6);mh.range;wd.range;pJ.range;mJ.range;xs.range;gJ.range;vJ.range;function fa(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/hb)}const gh=fa(0),Sd=fa(1),yJ=fa(2),bJ=fa(3),Cs=fa(4),_J=fa(5),wJ=fa(6);gh.range;Sd.range;yJ.range;bJ.range;Cs.range;_J.range;wJ.range;const yb=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yb.range;const bb=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bb.range;const Si=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Si.range;const Ei=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ei.range;function IP(e,t,n,r,i,a){const l=[[Qo,1,hi],[Qo,5,5*hi],[Qo,15,15*hi],[Qo,30,30*hi],[a,1,cr],[a,5,5*cr],[a,15,15*cr],[a,30,30*cr],[i,1,pi],[i,3,3*pi],[i,6,6*pi],[i,12,12*pi],[r,1,wi],[r,2,2*wi],[n,1,hb],[t,1,RR],[t,3,3*RR],[e,1,Rv]];function c(d,p,g){const y=p<d;y&&([d,p]=[p,d]);const w=g&&typeof g.range=="function"?g:f(d,p,g),S=w?w.range(d,+p+1):[];return y?S.reverse():S}function f(d,p,g){const y=Math.abs(p-d)/g,w=eb(([,,T])=>T).right(l,y);if(w===l.length)return e.every(t0(d/Rv,p/Rv,g));if(w===0)return _d.every(Math.max(t0(d,p,g),1));const[S,E]=l[y/l[w-1][2]<l[w][2]/y?w-1:w];return S.every(E)}return[c,f]}const[SJ,EJ]=IP(Ei,bb,gh,MP,vb,mb),[TJ,AJ]=IP(Si,yb,mh,Ru,gb,pb);function Nv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xJ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,c=e.months,f=e.shortMonths,d=zl(i),p=Hl(i),g=zl(a),y=Hl(a),w=zl(l),S=Hl(l),E=zl(c),T=Hl(c),x=zl(f),I=Hl(f),M={a:ne,A:ce,b:me,B:Oe,c:null,d:DR,e:DR,f:JJ,g:o7,G:s7,H:FJ,I:KJ,j:YJ,L:OP,m:WJ,M:XJ,p:L,q:W,Q:LR,s:qR,S:QJ,u:ZJ,U:e7,V:t7,w:n7,W:r7,x:null,X:null,y:i7,Y:a7,Z:l7,"%":UR},O={a:oe,A:se,b:be,B:xe,c:null,d:kR,e:kR,f:d7,g:S7,G:T7,H:u7,I:c7,j:f7,L:DP,m:h7,M:p7,p:Ae,q:mt,Q:LR,s:qR,S:m7,u:g7,U:v7,V:y7,w:b7,W:_7,x:null,X:null,y:w7,Y:E7,Z:A7,"%":UR},P={a:re,A:J,b:te,B:ae,c:de,d:OR,e:OR,f:HJ,g:IR,G:MR,H:PR,I:PR,j:qJ,L:zJ,m:LJ,M:$J,p:V,q:UJ,Q:VJ,s:jJ,S:BJ,u:IJ,U:OJ,V:PJ,w:MJ,W:DJ,x:Te,X:B,y:IR,Y:MR,Z:kJ,"%":GJ};M.x=D(n,M),M.X=D(r,M),M.c=D(t,M),O.x=D(n,O),O.X=D(r,O),O.c=D(t,O);function D(Q,Ce){return function(Ie){var ie=[],Tt=-1,Ue=0,Ct=Q.length,Rt,Wn,Yt;for(Ie instanceof Date||(Ie=new Date(+Ie));++Tt<Ct;)Q.charCodeAt(Tt)===37&&(ie.push(Q.slice(Ue,Tt)),(Wn=NR[Rt=Q.charAt(++Tt)])!=null?Rt=Q.charAt(++Tt):Wn=Rt==="e"?" ":"0",(Yt=Ce[Rt])&&(Rt=Yt(Ie,Wn)),ie.push(Rt),Ue=Tt+1);return ie.push(Q.slice(Ue,Tt)),ie.join("")}}function U(Q,Ce){return function(Ie){var ie=Bl(1900,void 0,1),Tt=Y(ie,Q,Ie+="",0),Ue,Ct;if(Tt!=Ie.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ce&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Ue=Mv(Bl(ie.y,0,1)),Ct=Ue.getUTCDay(),Ue=Ct>4||Ct===0?Sd.ceil(Ue):Sd(Ue),Ue=ph.offset(Ue,(ie.V-1)*7),ie.y=Ue.getUTCFullYear(),ie.m=Ue.getUTCMonth(),ie.d=Ue.getUTCDate()+(ie.w+6)%7):(Ue=Nv(Bl(ie.y,0,1)),Ct=Ue.getDay(),Ue=Ct>4||Ct===0?wd.ceil(Ue):wd(Ue),Ue=Ru.offset(Ue,(ie.V-1)*7),ie.y=Ue.getFullYear(),ie.m=Ue.getMonth(),ie.d=Ue.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ct="Z"in ie?Mv(Bl(ie.y,0,1)).getUTCDay():Nv(Bl(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ct+5)%7:ie.w+ie.U*7-(Ct+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Mv(ie)):Nv(ie)}}function Y(Q,Ce,Ie,ie){for(var Tt=0,Ue=Ce.length,Ct=Ie.length,Rt,Wn;Tt<Ue;){if(ie>=Ct)return-1;if(Rt=Ce.charCodeAt(Tt++),Rt===37){if(Rt=Ce.charAt(Tt++),Wn=P[Rt in NR?Ce.charAt(Tt++):Rt],!Wn||(ie=Wn(Q,Ie,ie))<0)return-1}else if(Rt!=Ie.charCodeAt(ie++))return-1}return ie}function V(Q,Ce,Ie){var ie=d.exec(Ce.slice(Ie));return ie?(Q.p=p.get(ie[0].toLowerCase()),Ie+ie[0].length):-1}function re(Q,Ce,Ie){var ie=w.exec(Ce.slice(Ie));return ie?(Q.w=S.get(ie[0].toLowerCase()),Ie+ie[0].length):-1}function J(Q,Ce,Ie){var ie=g.exec(Ce.slice(Ie));return ie?(Q.w=y.get(ie[0].toLowerCase()),Ie+ie[0].length):-1}function te(Q,Ce,Ie){var ie=x.exec(Ce.slice(Ie));return ie?(Q.m=I.get(ie[0].toLowerCase()),Ie+ie[0].length):-1}function ae(Q,Ce,Ie){var ie=E.exec(Ce.slice(Ie));return ie?(Q.m=T.get(ie[0].toLowerCase()),Ie+ie[0].length):-1}function de(Q,Ce,Ie){return Y(Q,t,Ce,Ie)}function Te(Q,Ce,Ie){return Y(Q,n,Ce,Ie)}function B(Q,Ce,Ie){return Y(Q,r,Ce,Ie)}function ne(Q){return l[Q.getDay()]}function ce(Q){return a[Q.getDay()]}function me(Q){return f[Q.getMonth()]}function Oe(Q){return c[Q.getMonth()]}function L(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function oe(Q){return l[Q.getUTCDay()]}function se(Q){return a[Q.getUTCDay()]}function be(Q){return f[Q.getUTCMonth()]}function xe(Q){return c[Q.getUTCMonth()]}function Ae(Q){return i[+(Q.getUTCHours()>=12)]}function mt(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Ce=D(Q+="",M);return Ce.toString=function(){return Q},Ce},parse:function(Q){var Ce=U(Q+="",!1);return Ce.toString=function(){return Q},Ce},utcFormat:function(Q){var Ce=D(Q+="",O);return Ce.toString=function(){return Q},Ce},utcParse:function(Q){var Ce=U(Q+="",!0);return Ce.toString=function(){return Q},Ce}}}var NR={"-":"",_:" ",0:"0"},en=/^\s*\d+/,CJ=/^%/,RJ=/[\\^$*+?|[\]().{}]/g;function Fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function NJ(e){return e.replace(RJ,"\\$&")}function zl(e){return new RegExp("^(?:"+e.map(NJ).join("|")+")","i")}function Hl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function MJ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function IJ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function OJ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PJ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DJ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function MR(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function IR(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UJ(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function LJ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function OR(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qJ(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PR(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $J(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function BJ(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zJ(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function HJ(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function GJ(e,t,n){var r=CJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function VJ(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jJ(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function DR(e,t){return Fe(e.getDate(),t,2)}function FJ(e,t){return Fe(e.getHours(),t,2)}function KJ(e,t){return Fe(e.getHours()%12||12,t,2)}function YJ(e,t){return Fe(1+Ru.count(Si(e),e),t,3)}function OP(e,t){return Fe(e.getMilliseconds(),t,3)}function JJ(e,t){return OP(e,t)+"000"}function WJ(e,t){return Fe(e.getMonth()+1,t,2)}function XJ(e,t){return Fe(e.getMinutes(),t,2)}function QJ(e,t){return Fe(e.getSeconds(),t,2)}function ZJ(e){var t=e.getDay();return t===0?7:t}function e7(e,t){return Fe(mh.count(Si(e)-1,e),t,2)}function PP(e){var t=e.getDay();return t>=4||t===0?xs(e):xs.ceil(e)}function t7(e,t){return e=PP(e),Fe(xs.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function n7(e){return e.getDay()}function r7(e,t){return Fe(wd.count(Si(e)-1,e),t,2)}function i7(e,t){return Fe(e.getFullYear()%100,t,2)}function o7(e,t){return e=PP(e),Fe(e.getFullYear()%100,t,2)}function a7(e,t){return Fe(e.getFullYear()%1e4,t,4)}function s7(e,t){var n=e.getDay();return e=n>=4||n===0?xs(e):xs.ceil(e),Fe(e.getFullYear()%1e4,t,4)}function l7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fe(t/60|0,"0",2)+Fe(t%60,"0",2)}function kR(e,t){return Fe(e.getUTCDate(),t,2)}function u7(e,t){return Fe(e.getUTCHours(),t,2)}function c7(e,t){return Fe(e.getUTCHours()%12||12,t,2)}function f7(e,t){return Fe(1+ph.count(Ei(e),e),t,3)}function DP(e,t){return Fe(e.getUTCMilliseconds(),t,3)}function d7(e,t){return DP(e,t)+"000"}function h7(e,t){return Fe(e.getUTCMonth()+1,t,2)}function p7(e,t){return Fe(e.getUTCMinutes(),t,2)}function m7(e,t){return Fe(e.getUTCSeconds(),t,2)}function g7(e){var t=e.getUTCDay();return t===0?7:t}function v7(e,t){return Fe(gh.count(Ei(e)-1,e),t,2)}function kP(e){var t=e.getUTCDay();return t>=4||t===0?Cs(e):Cs.ceil(e)}function y7(e,t){return e=kP(e),Fe(Cs.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function b7(e){return e.getUTCDay()}function _7(e,t){return Fe(Sd.count(Ei(e)-1,e),t,2)}function w7(e,t){return Fe(e.getUTCFullYear()%100,t,2)}function S7(e,t){return e=kP(e),Fe(e.getUTCFullYear()%100,t,2)}function E7(e,t){return Fe(e.getUTCFullYear()%1e4,t,4)}function T7(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Cs(e):Cs.ceil(e),Fe(e.getUTCFullYear()%1e4,t,4)}function A7(){return"+0000"}function UR(){return"%"}function LR(e){return+e}function qR(e){return Math.floor(+e/1e3)}var is,UP,LP;x7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x7(e){return is=xJ(e),UP=is.format,is.parse,LP=is.utcFormat,is.utcParse,is}function C7(e){return new Date(e)}function R7(e){return e instanceof Date?+e:+new Date(+e)}function _b(e,t,n,r,i,a,l,c,f,d){var p=ab(),g=p.invert,y=p.domain,w=d(".%L"),S=d(":%S"),E=d("%I:%M"),T=d("%I %p"),x=d("%a %d"),I=d("%b %d"),M=d("%B"),O=d("%Y");function P(D){return(f(D)<D?w:c(D)<D?S:l(D)<D?E:a(D)<D?T:r(D)<D?i(D)<D?x:I:n(D)<D?M:O)(D)}return p.invert=function(D){return new Date(g(D))},p.domain=function(D){return arguments.length?y(Array.from(D,R7)):y().map(C7)},p.ticks=function(D){var U=y();return e(U[0],U[U.length-1],D??10)},p.tickFormat=function(D,U){return U==null?P:d(U)},p.nice=function(D){var U=y();return(!D||typeof D.range!="function")&&(D=t(U[0],U[U.length-1],D??10)),D?y(EP(U,D)):p},p.copy=function(){return Cu(p,_b(e,t,n,r,i,a,l,c,f,d))},p}function N7(){return gr.apply(_b(TJ,AJ,Si,yb,mh,Ru,gb,pb,Qo,UP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M7(){return gr.apply(_b(SJ,EJ,Ei,bb,gh,ph,vb,mb,Qo,LP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var e=0,t=1,n,r,i,a,l=_n,c=!1,f;function d(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(a(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t]=g,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(g){return arguments.length?(c=!!g,d):c},d.interpolator=function(g){return arguments.length?(l=g,d):l};function p(g){return function(y){var w,S;return arguments.length?([w,S]=y,l=g(w,S),d):[l(0),l(1)]}}return d.range=p(Os),d.rangeRound=p(ob),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return a=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),d}}function vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qP(){var e=go(vh()(_n));return e.copy=function(){return vo(e,qP())},Mi.apply(e,arguments)}function $P(){var e=ub(vh()).domain([1,10]);return e.copy=function(){return vo(e,$P()).base(e.base())},Mi.apply(e,arguments)}function BP(){var e=cb(vh());return e.copy=function(){return vo(e,BP()).constant(e.constant())},Mi.apply(e,arguments)}function wb(){var e=fb(vh());return e.copy=function(){return vo(e,wb()).exponent(e.exponent())},Mi.apply(e,arguments)}function I7(){return wb.apply(null,arguments).exponent(.5)}function zP(){var e=[],t=_n;function n(r){if(r!=null&&!isNaN(r=+r))return t((Au(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(lo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>gY(e,a/r))},n.copy=function(){return zP(t).domain(e)},Mi.apply(n,arguments)}function yh(){var e=0,t=.5,n=1,r=1,i,a,l,c,f,d=_n,p,g=!1,y;function w(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-a)*(r*E<r*a?c:f),d(g?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([e,t,n]=E,i=p(e=+e),a=p(t=+t),l=p(n=+n),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,w):[e,t,n]},w.clamp=function(E){return arguments.length?(g=!!E,w):g},w.interpolator=function(E){return arguments.length?(d=E,w):d};function S(E){return function(T){var x,I,M;return arguments.length?([x,I,M]=T,d=GY(E,[x,I,M]),w):[d(0),d(.5),d(1)]}}return w.range=S(Os),w.rangeRound=S(ob),w.unknown=function(E){return arguments.length?(y=E,w):y},function(E){return p=E,i=E(e),a=E(t),l=E(n),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,w}}function HP(){var e=go(yh()(_n));return e.copy=function(){return vo(e,HP())},Mi.apply(e,arguments)}function GP(){var e=ub(yh()).domain([.1,1,10]);return e.copy=function(){return vo(e,GP()).base(e.base())},Mi.apply(e,arguments)}function VP(){var e=cb(yh());return e.copy=function(){return vo(e,VP()).constant(e.constant())},Mi.apply(e,arguments)}function Sb(){var e=fb(yh());return e.copy=function(){return vo(e,Sb()).exponent(e.exponent())},Mi.apply(e,arguments)}function O7(){return Sb.apply(null,arguments).exponent(.5)}const Kl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nb,scaleDiverging:HP,scaleDivergingLog:GP,scaleDivergingPow:Sb,scaleDivergingSqrt:O7,scaleDivergingSymlog:VP,scaleIdentity:SP,scaleImplicit:n0,scaleLinear:wP,scaleLog:TP,scaleOrdinal:tb,scalePoint:bY,scalePow:db,scaleQuantile:CP,scaleQuantize:RP,scaleRadial:xP,scaleSequential:qP,scaleSequentialLog:$P,scaleSequentialPow:wb,scaleSequentialQuantile:zP,scaleSequentialSqrt:I7,scaleSequentialSymlog:BP,scaleSqrt:dJ,scaleSymlog:AP,scaleThreshold:NP,scaleTime:N7,scaleUtc:M7,tickFormat:_P},Symbol.toStringTag,{value:"Module"}));var yo=e=>e.chartData,Eb=j([yo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jP=(e,t,n,r)=>r?Eb(e):yo(e);function fo(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if($t(t)&&$t(n))return!0}return!1}function $R(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if($t(n))i=n;else if(typeof n=="function")return;if($t(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(fo(l))return l}}function P7(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(fo(r))return $R(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,c;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Re(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&WC.test(i)){var f=WC.exec(i);if(f==null||f[1]==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Re(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&XC.test(a)){var p=XC.exec(a);if(p==null||p[1]==null||t==null)c=void 0;else{var g=+p[1];c=t[1]+g}}else c=t==null?void 0:t[1];var y=[l,c];if(fo(y))return t==null?y:$R(y,t,n)}}}var Ps=1e9,D7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ab,ht=!0,mr="[DecimalError] ",ta=mr+"Invalid argument: ",Tb=mr+"Exponent out of range: ",Ds=Math.floor,Fo=Math.pow,k7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Xt=1e7,ct=7,KP=9007199254740991,Ed=Ds(KP/ct),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return mi(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return it(mi(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return Lt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Vn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(ht=!1,t=mi(mu(n,a),mu(e,a),a),ht=!0,it(t,i))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WP(t,e):YP(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(mr+"NaN");return n.s?(ht=!1,t=mi(n,e,0,1).times(e),ht=!0,n.minus(t)):it(new r(n),i)};fe.naturalExponential=fe.exp=function(){return JP(this)};fe.naturalLogarithm=fe.ln=function(){return mu(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YP(t,e):WP(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ta+e);if(t=Lt(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,i,a,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(mr+"NaN")}for(e=Lt(c),ht=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=zr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ds((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(mi(c,a,l+2)).times(.5),zr(a.d).slice(0,l)===(t=zr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(it(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;l+=4}return ht=!0,it(r,n)};fe.times=fe.mul=function(e){var t,n,r,i,a,l,c,f,d,p=this,g=p.constructor,y=p.d,w=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,f=y.length,d=w.length,f<d&&(a=y,y=w,w=a,l=f,f=d,d=l),a=[],l=f+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)c=a[i]+w[r]*y[i-r-1]+t,a[i--]=c%Xt|0,t=c/Xt|0;a[i]=(a[i]+t)%Xt|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ht?it(e,g.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Gr(e,0,Ps),t===void 0?t=r.rounding:Gr(t,0,8),it(n,e+Lt(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=aa(r,!0):(Gr(e,0,Ps),t===void 0?t=i.rounding:Gr(t,0,8),r=it(new i(r),e+1,t),n=aa(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?aa(i):(Gr(e,0,Ps),t===void 0?t=a.rounding:Gr(t,0,8),r=it(new a(i),e+Lt(i)+1,t),n=aa(r.abs(),!1,e+Lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return it(new t(e),Lt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,i,a,l,c=this,f=c.constructor,d=12,p=+(e=new f(e));if(!e.s)return new f(Vn);if(c=new f(c),!c.s){if(e.s<1)throw Error(mr+"Infinity");return c}if(c.eq(Vn))return c;if(r=f.precision,e.eq(Vn))return it(c,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=c.s,l){if((n=p<0?-p:p)<=KP){for(i=new f(Vn),t=Math.ceil(r/ct+4),ht=!1;n%2&&(i=i.times(c),zR(i.d,t)),n=Ds(n/2),n!==0;)c=c.times(c),zR(c.d,t);return ht=!0,e.s<0?new f(Vn).div(i):it(i,r)}}else if(a<0)throw Error(mr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,ht=!1,i=e.times(mu(c,r+d)),ht=!0,i=JP(i),i.s=a,i};fe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Lt(i),r=aa(i,n<=a.toExpNeg||n>=a.toExpPos)):(Gr(e,1,Ps),t===void 0?t=a.rounding:Gr(t,0,8),i=it(new a(i),e,t),n=Lt(i),r=aa(i,e<=n||n<=a.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Gr(e,1,Ps),t===void 0?t=r.rounding:Gr(t,0,8)),it(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),n=e.constructor;return aa(e,t<=n.toExpNeg||t>=n.toExpPos)};function YP(e,t){var n,r,i,a,l,c,f,d,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ht?it(t,g):t;if(f=e.d,d=t.d,l=e.e,i=t.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(g/ct),c=l>c?l+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=f.length,a=d.length,c-a<0&&(a=c,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Xt|0,f[a]%=Xt;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=i,ht?it(t,g):t}function Gr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ta+e)}function zr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=ct-r.length,n&&(a+=ro(n)),a+=r;l=e[t],r=l+"",n=ct-r.length,n&&(a+=ro(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var mi=(function(){function e(r,i){var a,l=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+l,r[c]=a%Xt|0,l=a/Xt|0;return l&&r.unshift(l),r}function t(r,i,a,l){var c,f;if(a!=l)f=a>l?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Xt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var c,f,d,p,g,y,w,S,E,T,x,I,M,O,P,D,U,Y,V=r.constructor,re=r.s==i.s?1:-1,J=r.d,te=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(mr+"Division by zero");for(f=r.e-i.e,U=te.length,P=J.length,w=new V(re),S=w.d=[],d=0;te[d]==(J[d]||0);)++d;if(te[d]>(J[d]||0)&&--f,a==null?I=a=V.precision:l?I=a+(Lt(r)-Lt(i))+1:I=a,I<0)return new V(0);if(I=I/ct+2|0,d=0,U==1)for(p=0,te=te[0],I++;(d<P||p)&&I--;d++)M=p*Xt+(J[d]||0),S[d]=M/te|0,p=M%te|0;else{for(p=Xt/(te[0]+1)|0,p>1&&(te=e(te,p),J=e(J,p),U=te.length,P=J.length),O=U,E=J.slice(0,U),T=E.length;T<U;)E[T++]=0;Y=te.slice(),Y.unshift(0),D=te[0],te[1]>=Xt/2&&++D;do p=0,c=t(te,E,U,T),c<0?(x=E[0],U!=T&&(x=x*Xt+(E[1]||0)),p=x/D|0,p>1?(p>=Xt&&(p=Xt-1),g=e(te,p),y=g.length,T=E.length,c=t(g,E,y,T),c==1&&(p--,n(g,U<y?Y:te,y))):(p==0&&(c=p=1),g=te.slice()),y=g.length,y<T&&g.unshift(0),n(E,g,T),c==-1&&(T=E.length,c=t(te,E,U,T),c<1&&(p++,n(E,U<T?Y:te,T))),T=E.length):c===0&&(p++,E=[0]),S[d++]=p,c&&E[0]?E[T++]=J[O]||0:(E=[J[O]],T=1);while((O++<P||E[0]!==void 0)&&I--)}return S[0]||S.shift(),w.e=f,it(w,l?a+Lt(w)+1:a)}})();function JP(e,t){var n,r,i,a,l,c,f=0,d=0,p=e.constructor,g=p.precision;if(Lt(e)>16)throw Error(Tb+Lt(e));if(!e.s)return new p(Vn);for(ht=!1,c=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Fo(2,d))/Math.LN10*2+5|0,c+=r,n=i=a=new p(Vn),p.precision=c;;){if(i=it(i.times(e),c),n=n.times(++f),l=a.plus(mi(i,n,c)),zr(l.d).slice(0,c)===zr(a.d).slice(0,c)){for(;d--;)a=it(a.times(a),c);return p.precision=g,t==null?(ht=!0,it(a,g)):a}a=l}}function Lt(e){for(var t=e.e*ct,n=e.d[0];n>=10;n/=10)t++;return t}function Iv(e,t,n){if(t>e.LN10.sd())throw ht=!0,n&&(e.precision=n),Error(mr+"LN10 precision limit exceeded");return it(new e(e.LN10),t)}function ro(e){for(var t="";e--;)t+="0";return t}function mu(e,t){var n,r,i,a,l,c,f,d,p,g=1,y=10,w=e,S=w.d,E=w.constructor,T=E.precision;if(w.s<1)throw Error(mr+(w.s?"NaN":"-Infinity"));if(w.eq(Vn))return new E(0);if(t==null?(ht=!1,d=T):d=t,w.eq(10))return t==null&&(ht=!0),Iv(E,d);if(d+=y,E.precision=d,n=zr(S),r=n.charAt(0),a=Lt(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=zr(w.d),r=n.charAt(0),g++;a=Lt(w),r>1?(w=new E("0."+n),a++):w=new E(r+"."+n.slice(1))}else return f=Iv(E,d+2,T).times(a+""),w=mu(new E(r+"."+n.slice(1)),d-y).plus(f),E.precision=T,t==null?(ht=!0,it(w,T)):w;for(c=l=w=mi(w.minus(Vn),w.plus(Vn),d),p=it(w.times(w),d),i=3;;){if(l=it(l.times(p),d),f=c.plus(mi(l,new E(i),d)),zr(f.d).slice(0,d)===zr(c.d).slice(0,d))return c=c.times(2),a!==0&&(c=c.plus(Iv(E,d+2,T).times(a+""))),c=mi(c,new E(g),d),E.precision=T,t==null?(ht=!0,it(c,T)):c;c=f,i+=2}}function BR(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ds(n/ct),e.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ct;r<i;)e.d.push(+t.slice(r,r+=ct));t=t.slice(r),r=ct-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ht&&(e.e>Ed||e.e<-Ed))throw Error(Tb+n)}else e.s=0,e.e=0,e.d=[0];return e}function it(e,t,n){var r,i,a,l,c,f,d,p,g=e.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=ct,i=t,d=g[p=0];else{if(p=Math.ceil((r+1)/ct),a=g.length,p>=a)return e;for(d=a=g[p],l=1;a>=10;a/=10)l++;r%=ct,i=r-ct+l}if(n!==void 0&&(a=Fo(10,l-i-1),c=d/a%10|0,f=t<0||g[p+1]!==void 0||d%a,f=n<4?(c||f)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/Fo(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(a=Lt(e),g.length=1,t=t-a-1,g[0]=Fo(10,(ct-t%ct)%ct),e.e=Ds(-t/ct)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=Fo(10,ct-r),g[p]=i>0?(d/Fo(10,l-i)%Fo(10,i)|0)*a:0),f)for(;;)if(p==0){(g[0]+=a)==Xt&&(g[0]=1,++e.e);break}else{if(g[p]+=a,g[p]!=Xt)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(ht&&(e.e>Ed||e.e<-Ed))throw Error(Tb+Lt(e));return e}function WP(e,t){var n,r,i,a,l,c,f,d,p,g,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),ht?it(t,w):t;if(f=e.d,g=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(p=l<0,p?(n=f,l=-l,c=g.length):(n=g,r=d,c=f.length),i=Math.max(Math.ceil(w/ct),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=g.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,t.s=-t.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=Xt-1;--f[a],f[i]+=Xt}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,ht?it(t,w):t):new y(0)}function aa(e,t,n){var r,i=Lt(e),a=zr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+ro(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ro(-i-1)+a,n&&(r=n-l)>0&&(a+=ro(r))):i>=l?(a+=ro(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+ro(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=ro(r))),e.s<0?"-"+a:a}function zR(e,t){if(e.length>t)return e.length=t,!0}function XP(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ta+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return BR(l,a.toString())}else if(typeof a!="string")throw Error(ta+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,k7.test(a))BR(l,a);else throw Error(ta+a)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XP,i.config=i.set=U7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function U7(e){if(!e||typeof e!="object")throw Error(mr+"Object expected");var t,n,r,i=["precision",1,Ps,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ds(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ta+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ta+n+": "+r);return this}var Ab=XP(D7);Vn=new Ab(1);const Qe=Ab;var L7=e=>e,QP={},ZP=e=>e===QP,HR=e=>function t(){return arguments.length===0||arguments.length===1&&ZP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},eD=(e,t)=>e===1?t:HR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==QP).length;return a>=e?t(...r):eD(e-a,HR(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(p=>ZP(p)?c.shift():p);return t(...d,...c)}))}),q7=e=>eD(e.length,e),a0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$7=q7((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),B7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return L7;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),a(...arguments))}};function tD(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function nD(e,t,n){for(var r=new Qe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var rD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},iD=(e,t,n)=>{if(e.lte(0))return new Qe(0);var r=tD(e.toNumber()),i=new Qe(10).pow(r),a=e.div(i),l=r!==1?.05:.1,c=new Qe(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return t?new Qe(f.toNumber()):new Qe(Math.ceil(f.toNumber()))},z7=(e,t,n)=>{var r=new Qe(1),i=new Qe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Qe(10).pow(tD(e)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Qe(Math.floor(e)))}else e===0?i=new Qe(Math.floor((t-1)/2)):n||(i=new Qe(Math.floor(e)));var l=Math.floor((t-1)/2),c=B7($7(f=>i.add(new Qe(f-l).mul(r)).toNumber()),a0);return c(0,t)},oD=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var l=iD(new Qe(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Qe(0):(c=new Qe(t).add(n).div(2),c=c.sub(new Qe(c).mod(l)));var f=Math.ceil(c.sub(t).div(l).toNumber()),d=Math.ceil(new Qe(n).sub(c).div(l).toNumber()),p=f+d+1;return p>r?oD(t,n,r,i,a+1):(p<r&&(d=n>0?d+(r-p):d,f=n>0?f:f+(r-p)),{step:l,tickMin:c.sub(new Qe(f).mul(l)),tickMax:c.add(new Qe(d).mul(l))})},H7=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=rD([n,r]);if(c===-1/0||f===1/0){var d=f===1/0?[c,...a0(0,i-1).map(()=>1/0)]:[...a0(0,i-1).map(()=>-1/0),f];return n>r?d.reverse():d}if(c===f)return z7(c,i,a);var{step:p,tickMin:g,tickMax:y}=oD(c,f,l,a,0),w=nD(g,y.add(new Qe(.1).mul(p)),p);return n>r?w.reverse():w},G7=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=rD([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),d=iD(new Qe(c).sub(l).div(f-1),a,0),p=[...nD(new Qe(l),new Qe(c),d),c];return a===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},V7=e=>e.rootProps.barCategoryGap,Nu=e=>e.rootProps.stackOffset,aD=e=>e.rootProps.reverseStackOrder,xb=e=>e.options.chartName,Cb=e=>e.rootProps.syncId,sD=e=>e.rootProps.syncMethod,Rb=e=>e.options.eventEmitter,Cr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},di={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},j7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:di.angleAxisId,includeHidden:!1,name:void 0,reversed:di.reversed,scale:di.scale,tick:di.tick,tickCount:void 0,ticks:void 0,type:di.type,unit:void 0},F7={allowDataOverflow:zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,ticks:void 0,type:zn.type,unit:void 0},K7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Y7={allowDataOverflow:zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,ticks:void 0,type:"category",unit:void 0},Nb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?K7:j7,Mb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Y7:F7,_h=e=>e.polarOptions,Ib=j([Ri,Ni,Zt],aP),lD=j([_h,Ib],(e,t)=>{if(e!=null)return Fn(e.innerRadius,t,0)}),uD=j([_h,Ib],(e,t)=>{if(e!=null)return Fn(e.outerRadius,t,t*.8)}),J7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cD=j([_h],J7);j([Nb,cD],bh);var fD=j([Ib,lD,uD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});j([Mb,fD],bh);var dD=j([st,_h,lD,uD,Ri,Ni],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=t;return{cx:Fn(l,i,i/2),cy:Fn(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),pt=(e,t)=>t,Mu=(e,t,n)=>n;function hD(e){return e==null?void 0:e.id}function pD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var p=hD(c);d.forEach((g,y)=>{var w=a==null||i?y:String(Et(g,a,null)),S=Et(g,c.dataKey,0),E;l.has(w)?E=l.get(w):E={},Object.assign(E,{[p]:S}),l.set(w,E)})}}),Array.from(l.values())}function Ob(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var wh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function W7(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ft=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ks=e=>e.tooltip.settings.axisId;function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){X7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X7(e,t,n){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0=[0,"auto"],eW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tW=(e,t)=>e.cartesianAxis.xAxis[t],bo=(e,t)=>{var n=tW(e,t);return n??eW},nW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:s0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eu},rW=(e,t)=>e.cartesianAxis.yAxis[t],_o=(e,t)=>{var n=rW(e,t);return n??nW},iW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Pb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??iW},vt=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return _o(e,n);case"zAxis":return Pb(e,n);case"angleAxis":return Nb(e,n);case"radiusAxis":return Mb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},oW=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return _o(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Iu=(e,t,n)=>{switch(t){case"xAxis":return bo(e,n);case"yAxis":return _o(e,n);case"angleAxis":return Nb(e,n);case"radiusAxis":return Mb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Db(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var aW=e=>e.graphicalItems.cartesianItems,sW=j([pt,Mu],Db),kb=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ou=j([aW,vt,sW],kb,{memoizeOptions:{resultEqualityCheck:Sh}}),gD=j([Ou],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ob)),vD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lW=j([Ou],vD),Ub=e=>e.map(t=>t.data).filter(Boolean).flat(1),uW=j([Ou],Ub,{memoizeOptions:{resultEqualityCheck:Sh}}),Lb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},qb=j([uW,jP],Lb),$b=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Et(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Et(i,r)}))):e.map(r=>({value:r})),Eh=j([qb,vt,Ou],$b);function yD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pf(e){if(bi(e)||e instanceof Date){var t=Number(e);if($t(t))return t}}function VR(e){if(Array.isArray(e)){var t=[Pf(e[0]),Pf(e[1])];return fo(t)?t:void 0}var n=Pf(e);if(n!=null)return[n,n]}function Ti(e){return e.map(Pf).filter(g6)}function cW(e,t,n){return!n||typeof t!="number"||vi(t)?[]:n.length?Ti(n.flatMap(r=>{var i=Et(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!$t(a)||!$t(l)))return[t-a,t+l]})):[]}var Kt=e=>{var t=Ft(e),n=ks(e);return Iu(e,t,n)},Pu=j([Kt],e=>e==null?void 0:e.dataKey),fW=j([gD,jP,Kt],pD),bD=(e,t,n,r)=>{var i={},a=t.reduce((l,c)=>{if(c.stackId==null)return l;var f=l[c.stackId];return f==null&&(f=[]),f.push(c),l[c.stackId]=f,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[c,f]=l,d=r?[...f].reverse():f,p=d.map(hD);return[c,{stackedData:UF(e,p,n),graphicalItems:d}]}))},dW=j([fW,gD,Nu,aD],bD),_D=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=$F(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},hW=j([vt],e=>e.allowDataOverflow),Bb=e=>{var t;if(e==null||!("domain"in e))return s0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ti(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:s0},zb=j([vt],Bb),Hb=j([zb,hW],FP),pW=j([dW,yo,pt,Hb],_D,{memoizeOptions:{resultEqualityCheck:wh}}),Th=e=>e.errorBars,mW=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>yD(n,r)),Ad=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),c=Math.max(...a);return[l,c]}},Gb=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(c=>{n.forEach(f=>{var d,p,g=(d=r[f.id])===null||d===void 0?void 0:d.filter(x=>yD(i,x)),y=Et(c,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),w=cW(c,y,g);if(w.length>=2){var S=Math.min(...w),E=Math.max(...w);(a==null||S<a)&&(a=S),(l==null||E>l)&&(l=E)}var T=VR(y);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var f=VR(Et(c,t.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),$t(a)&&$t(l))return[a,l]},gW=j([qb,vt,lW,Th,pt],Gb,{memoizeOptions:{resultEqualityCheck:wh}});function vW(e){var{value:t}=e;if(bi(t)||t instanceof Date)return t}var yW=(e,t,n)=>{var r=e.map(vW).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&FI(r))?cP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},wD=e=>e.referenceElements.dots,Us=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),bW=j([wD,pt,Mu],Us),SD=e=>e.referenceElements.areas,_W=j([SD,pt,Mu],Us),ED=e=>e.referenceElements.lines,wW=j([ED,pt,Mu],Us),TD=(e,t)=>{if(e!=null){var n=Ti(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},SW=j(bW,pt,TD),AD=(e,t)=>{if(e!=null){var n=Ti(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},EW=j([_W,pt],AD);function TW(e){var t;if(e.x!=null)return Ti([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ti(n)}function AW(e){var t;if(e.y!=null)return Ti([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ti(n)}var xD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?TW(r):AW(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xW=j([wW,pt],xD),CW=j(SW,xW,EW,(e,t,n)=>Ad(e,n,t)),Vb=(e,t,n,r,i,a,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?Ad(r,a,i):Ad(a,i);return P7(t,d,e.allowDataOverflow)},RW=j([vt,zb,Hb,pW,gW,CW,st,pt],Vb,{memoizeOptions:{resultEqualityCheck:wh}}),NW=[0,1],jb=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=e,d=ua(t,a);if(d&&c==null){var p;return cP(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?yW(r,e,d):i==="expand"?NW:l}},Fb=j([vt,st,qb,Eh,Nu,pt,RW],jb),CD=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(bu(a));return c in Kl?c:"point"}}},Ls=j([vt,st,mD,xb,pt],CD);function MW(e){if(e!=null){if(e in Kl)return Kl[e]();var t="scale".concat(bu(e));if(t in Kl)return Kl[t]()}}function Kb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=MW(t);if(i!=null){var a=i.domain(n).range(r);return OF(a),a}}}var Yb=(e,t,n)=>{var r=Bb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fo(e))return H7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fo(e))return G7(e,t.tickCount,t.allowDecimals)}},Jb=j([Fb,Iu,Ls],Yb),Wb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fo(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(l,c)]}return t},IW=j([vt,Fb,Jb,pt],Wb),OW=j(Eh,vt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ti(e.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var f=r[c],d=r[c+1];if(!(f==null||d==null)){var p=d-f;n=Math.min(n,p)}}return n/l}}),RD=j(OW,st,V7,Zt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!$t(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=Fn(n,e*a),c=e*a/2;return c-l-(c-l)/a*l}return 0}),PW=(e,t,n)=>{var r=bo(e,t);return r==null||typeof r.padding!="string"?0:RD(e,"xAxis",t,n,r.padding)},DW=(e,t,n)=>{var r=_o(e,t);return r==null||typeof r.padding!="string"?0:RD(e,"yAxis",t,n,r.padding)},kW=j(bo,PW,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),UW=j(_o,DW,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),LW=j([Zt,kW,ah,oh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),qW=j([Zt,st,UW,ah,oh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Du=(e,t,n,r)=>{var i;switch(t){case"xAxis":return LW(e,n,r);case"yAxis":return qW(e,n,r);case"zAxis":return(i=Pb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cD(e);case"radiusAxis":return fD(e,n);default:return}},ND=j([vt,Du],bh),Ah=j([vt,Ls,IW,ND],Kb);j([Ou,Th,pt],mW);function MD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xh=(e,t)=>t,Ch=(e,t,n)=>n,$W=j(rh,xh,Ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MD)),BW=j(ih,xh,Ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MD)),ID=(e,t)=>({width:e.width,height:t.height}),zW=(e,t)=>{var n=typeof t.width=="number"?t.width:Eu;return{width:n,height:e.height}};j(Zt,bo,ID);var HW=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},GW=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},VW=j(Ni,Zt,$W,xh,Ch,(e,t,n,r,i)=>{var a={},l;return n.forEach(c=>{var f=ID(t,c);l==null&&(l=HW(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),a}),jW=j(Ri,Zt,BW,xh,Ch,(e,t,n,r,i)=>{var a={},l;return n.forEach(c=>{var f=zW(t,c);l==null&&(l=GW(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),a}),FW=(e,t)=>{var n=bo(e,t);if(n!=null)return VW(e,n.orientation,n.mirror)};j([Zt,bo,FW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var KW=(e,t)=>{var n=_o(e,t);if(n!=null)return jW(e,n.orientation,n.mirror)};j([Zt,_o,KW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});j(Zt,_o,(e,t)=>{var n=typeof t.width=="number"?t.width:Eu;return{width:n,height:e.height}});var OD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,c=ua(e,r),f=t.map(d=>d.value);if(l&&c&&a==="category"&&i&&FI(f))return f}},Xb=j([st,Eh,vt,pt],OD),PD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ua(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},Qb=j([st,Eh,Iu,pt],PD);j([st,oW,Ls,Ah,Xb,Qb,Du,Jb,pt],(e,t,n,r,i,a,l,c,f)=>{if(t!=null){var d=ua(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}});var YW=(e,t,n,r,i,a,l,c,f)=>{if(!(t==null||r==null)){var d=ua(e,f),{type:p,ticks:g,tickCount:y}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/w:0;S=f==="angleAxis"&&a!=null&&a.length>=2?Mn(a[0]-a[1])*2*S:S;var E=g||i;if(E){var T=E.map((x,I)=>{var M=l?l.indexOf(x):x;return{index:I,coordinate:r(M)+S,value:x,offset:S}});return T.filter(x=>$t(x.coordinate))}return d&&c?c.map((x,I)=>({coordinate:r(x)+S,value:x,index:I,offset:S})).filter(x=>$t(x.coordinate)):r.ticks?r.ticks(y).map(x=>({coordinate:r(x)+S,value:x,offset:S})):r.domain().map((x,I)=>({coordinate:r(x)+S,value:l?l[x]:x,index:I,offset:S}))}};j([st,Iu,Ls,Ah,Jb,Du,Xb,Qb,pt],YW);var JW=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=ua(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Mn(r[0]-r[1])*2*d:d,c&&a?a.map((p,g)=>({coordinate:n(p)+d,value:p,index:g,offset:d})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,g)=>({coordinate:n(p)+d,value:i?i[p]:p,index:g,offset:d}))}};j([st,Iu,Ah,Du,Xb,Qb,pt],JW);j(vt,Ah,(e,t)=>{if(!(e==null||t==null))return Td(Td({},e),{},{scale:t})});var WW=j([vt,Ls,Fb,ND],Kb);j((e,t,n)=>Pb(e,n),WW,(e,t)=>{if(!(e==null||t==null))return Td(Td({},e),{},{scale:t})});var XW=j([st,rh,ih],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DD=e=>e.options.defaultTooltipEventType,kD=e=>e.options.validateTooltipEventTypes;function UD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Zb(e,t){var n=DD(e),r=kD(e);return UD(t,n,r)}function QW(e){return ke(t=>Zb(t,e))}var LD=(e,t)=>{var n,r=Number(t);if(!(vi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ZW=e=>e.tooltip.settings,oo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},eX={itemInteraction:{click:oo,hover:oo},axisInteraction:{click:oo,hover:oo},keyboardInteraction:oo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qD=On({name:"tooltip",initialState:eX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:dt()},removeTooltipEntrySettings:{reducer(e,t){var n=Mr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:dt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:tX,replaceTooltipEntrySettings:nX,removeTooltipEntrySettings:rX,setTooltipSettingsState:iX,setActiveMouseOverItemIndex:$D,mouseLeaveItem:oX,mouseLeaveChart:BD,setActiveClickItemIndex:aX,setMouseOverAxisIndex:zD,setMouseClickAxisIndex:sX,setSyncInteraction:l0,setKeyboardInteraction:u0}=qD.actions,lX=qD.reducer;function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=cX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hX(e){return e.index!=null}var HD=(e,t,n,r)=>{if(t==null)return oo;var i=dX(e,t,n);if(i==null)return oo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(hX(i)){if(a)return Tf(Tf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Tf(Tf({},oo),{},{coordinate:i.coordinate})};function pX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function mX(e,t){var n=pX(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function gX(e,t,n){if(n==null||t==null)return!0;var r=Et(e,t);return r==null||!fo(n)?!0:mX(r,n)}var e_=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!$t(a))return i;var l=0,c=1/0;t.length>0&&(c=t.length-1);var f=Math.max(l,Math.min(a,c)),d=t[f];return d==null||gX(d,n,r)?String(f):null},GD=(e,t,n,r,i,a,l,c)=>{if(!(a==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,a);if(d!=null)return d;var p=i==null?void 0:i[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},VD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},ku=e=>e.options.tooltipPayloadSearcher,qs=e=>e.tooltip;function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _X(e,t){return e??t}var jD=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:p}=n,g=[];return e.reduce((y,w)=>{var S,{dataDefinedOnItem:E,settings:T}=w,x=_X(E,c),I=Array.isArray(x)?qO(x,d,p):x,M=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,O=T==null?void 0:T.nameKey,P;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&l==="axis"?P=m6(I,r,i):P=a(I,t,f,O),Array.isArray(P))P.forEach(U=>{var Y=KR(KR({},T),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});y.push(ZC({tooltipEntrySettings:Y,dataKey:U.dataKey,payload:U.payload,value:Et(U.payload,U.dataKey),name:U.name}))});else{var D;y.push(ZC({tooltipEntrySettings:T,dataKey:M,payload:P,value:Et(P,M),name:(D=Et(P,O))!==null&&D!==void 0?D:T==null?void 0:T.name}))}return y},g)}},t_=j([Kt,st,mD,xb,Ft],CD),wX=j([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SX=j([Ft,ks],Db),$s=j([wX,Kt,SX],kb,{memoizeOptions:{resultEqualityCheck:Sh}}),EX=j([$s],e=>e.filter(Ob)),TX=j([$s],Ub,{memoizeOptions:{resultEqualityCheck:Sh}}),Bs=j([TX,yo],Lb),AX=j([EX,yo,Kt],pD),n_=j([Bs,Kt,$s],$b),FD=j([Kt],Bb),xX=j([Kt],e=>e.allowDataOverflow),KD=j([FD,xX],FP),CX=j([$s],e=>e.filter(Ob)),RX=j([AX,CX,Nu,aD],bD),NX=j([RX,yo,Ft,KD],_D),MX=j([$s],vD),IX=j([Bs,Kt,MX,Th,Ft],Gb,{memoizeOptions:{resultEqualityCheck:wh}}),OX=j([wD,Ft,ks],Us),PX=j([OX,Ft],TD),DX=j([SD,Ft,ks],Us),kX=j([DX,Ft],AD),UX=j([ED,Ft,ks],Us),LX=j([UX,Ft],xD),qX=j([PX,LX,kX],Ad),$X=j([Kt,FD,KD,NX,IX,qX,st,Ft],Vb),Uu=j([Kt,st,Bs,n_,Nu,Ft,$X],jb),BX=j([Uu,Kt,t_],Yb),zX=j([Kt,Uu,BX,Ft],Wb),YD=e=>{var t=Ft(e),n=ks(e),r=!1;return Du(e,t,n,r)},JD=j([Kt,YD],bh),WD=j([Kt,t_,zX,JD],Kb),HX=j([st,n_,Kt,Ft],OD),GX=j([st,n_,Kt,Ft],PD),VX=(e,t,n,r,i,a,l,c)=>{if(t){var{type:f}=t,d=ua(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mn(i[0]-i[1])*2*g:g,d&&l?l.map((y,w)=>({coordinate:r(y)+g,value:y,index:w,offset:g})):r.domain().map((y,w)=>({coordinate:r(y)+g,value:a?a[y]:y,index:w,offset:g}))}}},Ii=j([st,Kt,t_,WD,YD,HX,GX,Ft],VX),r_=j([DD,kD,ZW],(e,t,n)=>UD(n.shared,e,t)),XD=e=>e.tooltip.settings.trigger,i_=e=>e.tooltip.settings.defaultIndex,Lu=j([qs,r_,XD,i_],HD),gu=j([Lu,Bs,Pu,Uu],e_),QD=j([Ii,gu],LD),ZD=j([Lu],e=>{if(e)return e.dataKey}),jX=j([Lu],e=>{if(e)return e.graphicalItemId}),ek=j([qs,r_,XD,i_],VD),FX=j([Ri,Ni,st,Zt,Ii,i_,ek,ku],GD),KX=j([Lu,FX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),YX=j([Lu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),JX=j([ek,gu,yo,Pu,QD,ku,r_],jD);j([JX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZX=()=>ke(Kt),eQ=()=>{var e=ZX(),t=ke(Ii),n=ke(WD);return QC(!e||!n?void 0:JR(JR({},e),{},{scale:n}),t)};function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iQ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},oQ=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return os(os(os({},r),Ut(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var c=i.coordinate,{angle:f}=r;return os(os(os({},r),Ut(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function aQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var tk=(e,t,n,r,i)=>{var a,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f,d,p,g,y,w=c>0?(f=n[c-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(p=n[c])===null||p===void 0?void 0:p.coordinate,E=c>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[c+1])===null||y===void 0?void 0:y.coordinate,T=void 0;if(!(w==null||S==null||E==null))if(Mn(S-w)!==Mn(E-S)){var x=[];if(Mn(E-S)===Mn(i[1]-i[0])){T=E;var I=S+i[1]-i[0];x[0]=Math.min(I,(I+w)/2),x[1]=Math.max(I,(I+w)/2)}else{T=w;var M=E+i[1]-i[0];x[0]=Math.min(S,(M+S)/2),x[1]=Math.max(S,(M+S)/2)}var O=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>O[0]&&e<=O[1]||e>=x[0]&&e<=x[1]){var P;return(P=n[c])===null||P===void 0?void 0:P.index}}else{var D=Math.min(w,E),U=Math.max(w,E);if(e>(D+S)/2&&e<=(U+S)/2){var Y;return(Y=n[c])===null||Y===void 0?void 0:Y.index}}}else if(t)for(var V=0;V<l;V++){var re=t[V];if(re!=null){var J=t[V+1],te=t[V-1];if(V===0&&J!=null&&e<=(re.coordinate+J.coordinate)/2||V===l-1&&te!=null&&e>(re.coordinate+te.coordinate)/2||V>0&&V<l-1&&te!=null&&J!=null&&e>(re.coordinate+te.coordinate)/2&&e<=(re.coordinate+J.coordinate)/2)return re.index}}return-1},sQ=()=>ke(xb),o_=(e,t)=>t,nk=(e,t,n)=>n,a_=(e,t,n,r)=>r,lQ=j(Ii,e=>Kd(e,t=>t.coordinate)),s_=j([qs,o_,nk,a_],HD),l_=j([s_,Bs,Pu,Uu],e_),uQ=(e,t,n)=>{if(t!=null){var r=qs(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rk=j([qs,o_,nk,a_],VD),xd=j([Ri,Ni,st,Zt,Ii,a_,rk,ku],GD),cQ=j([s_,xd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),ik=j([Ii,l_],LD),fQ=j([rk,l_,yo,Pu,ik,ku,o_],jD),dQ=j([s_,l_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),hQ=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&aQ(e,l)){var c=BF(e,t),f=tk(c,a,i,n,r),d=iQ(t,i,f,e);return{activeIndex:String(f),activeCoordinate:d}}},pQ=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var c=J9(e,n);if(c){var f=zF(c,t),d=tk(f,l,a,r,i),p=oQ(t,a,d,c);return{activeIndex:String(d),activeCoordinate:p}}}},mQ=(e,t,n,r,i,a,l,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?hQ(e,t,r,i,a,l,c):pQ(e,t,n,r,i,a,l)},gQ=j(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),vQ=j(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Cr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:W7}});function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wQ={},SQ={zIndexMap:Object.values(Cr).reduce((e,t)=>QR(QR({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),wQ)},EQ=new Set(Object.values(Cr));function TQ(e){return EQ.has(e)}var ok=On({name:"zIndex",initialState:SQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:dt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!TQ(n)&&delete e.zIndexMap[n])},prepare:dt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:dt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:dt()}}}),{registerZIndexPortal:AQ,unregisterZIndexPortal:xQ,registerZIndexPortalElement:CQ,unregisterZIndexPortalElement:RQ}=ok.actions,NQ=ok.reducer;function qu(e){var{zIndex:t,children:n}=e,r=wK(),i=r&&t!==void 0&&t!==0,a=mo(),l=Vt();C.useLayoutEffect(()=>i?(l(AQ({zIndex:t})),()=>{l(xQ({zIndex:t}))}):_u,[l,t,i]);var c=ke(f=>gQ(f,t,a));return i?c?RI.createPortal(n,c):null:n}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(null,arguments)}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){MQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MQ(e,t,n){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function DQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:p}=e,g=n,y=r,w=i;if(!f||!g||p!=="ScatterChart"&&d!=="axis")return null;var S,E,T;if(p==="ScatterChart")S=g,E=u9,T=Cr.cursorLine;else if(p==="BarChart")S=c9(c,g,a,l),E=oP,T=Cr.cursorRectangle;else if(c==="radial"&&JI(g)){var{cx:x,cy:I,radius:M,startAngle:O,endAngle:P}=sP(g);S={cx:x,cy:I,startAngle:O,endAngle:P,innerRadius:M,outerRadius:M},E=uP,T=Cr.cursorLine}else S={points:Z9(c,g,a)},E=W0,T=Cr.cursorLine;var D=typeof f=="object"&&"className"in f?f.className:void 0,U=Af(Af(Af(Af({stroke:"#ccc",pointerEvents:"none"},a),S),Sy(f)),{},{payload:y,payloadIndex:w,className:qt("recharts-tooltip-cursor",D)});return C.createElement(qu,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},C.createElement(PQ,{cursor:f,cursorComp:E,cursorProps:U}))}function kQ(e){var t=eQ(),n=yK(),r=lh(),i=sQ();return t==null||n==null||r==null||i==null?null:C.createElement(DQ,c0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var ak=C.createContext(null),UQ=()=>C.useContext(ak),Ov={exports:{}},eN;function LQ(){return eN||(eN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function a(f,d,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||f,y),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],w]:f._events[S].push(w):(f._events[S]=w,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)t.call(p,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,S=new Array(w);y<w;y++)S[y]=g[y].fn;return S},c.prototype.listenerCount=function(d){var p=n?n+d:d,g=this._events[p];return g?g.fn?1:g.length:0},c.prototype.emit=function(d,p,g,y,w,S){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],x=arguments.length,I,M;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),x){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,g),!0;case 4:return T.fn.call(T.context,p,g,y),!0;case 5:return T.fn.call(T.context,p,g,y,w),!0;case 6:return T.fn.call(T.context,p,g,y,w,S),!0}for(M=1,I=new Array(x-1);M<x;M++)I[M-1]=arguments[M];T.fn.apply(T.context,I)}else{var O=T.length,P;for(M=0;M<O;M++)switch(T[M].once&&this.removeListener(d,T[M].fn,void 0,!0),x){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,p);break;case 3:T[M].fn.call(T[M].context,p,g);break;case 4:T[M].fn.call(T[M].context,p,g,y);break;default:if(!I)for(P=1,I=new Array(x-1);P<x;P++)I[P-1]=arguments[P];T[M].fn.apply(T[M].context,I)}}return!0},c.prototype.on=function(d,p,g){return a(this,d,p,g,!1)},c.prototype.once=function(d,p,g){return a(this,d,p,g,!0)},c.prototype.removeListener=function(d,p,g,y){var w=n?n+d:d;if(!this._events[w])return this;if(!p)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===p&&(!y||S.once)&&(!g||S.context===g)&&l(this,w);else{for(var E=0,T=[],x=S.length;E<x;E++)(S[E].fn!==p||y&&!S[E].once||g&&S[E].context!==g)&&T.push(S[E]);T.length?this._events[w]=T.length===1?T[0]:T:l(this,w)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Ov)),Ov.exports}var qQ=LQ();const $Q=Vr(qQ);var vu=new $Q,f0="recharts.syncEvent.tooltip",tN="recharts.syncEvent.brush";function BQ(e,t){if(t){var n=Number.parseInt(t,10);if(!vi(n))return e==null?void 0:e[n]}}var zQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sk=On({name:"options",initialState:zQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HQ=sk.reducer,{createEventEmitter:GQ}=sk.actions;function VQ(e){return e.tooltip.syncInteraction}var jQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lk=On({name:"chartData",initialState:jQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:nN,setDataStartEndIndexes:FQ,setComputedData:Nre}=lk.actions,KQ=lk.reducer,YQ=["x","y"];function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){JQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t){if(e==null)return{};var n,r,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eZ(){var e=ke(Cb),t=ke(Rb),n=Vt(),r=ke(sD),i=ke(Ii),a=lh(),l=sh(),c=ke(f=>f.rootProps.className);C.useEffect(()=>{if(e==null)return _u;var f=(d,p,g)=>{if(t!==g&&e===d){if(r==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:S,y:E}=w,T=QQ(w,YQ),{x,y:I,width:M,height:O}=p.payload.sourceViewBox,P=as(as({},T),{},{x:l.x+(M?(S-x)/M:0)*l.width,y:l.y+(O?(E-I)/O:0)*l.height});n(as(as({},p),{},{payload:as(as({},p.payload),{},{coordinate:P})}))}else n(p);return}if(i!=null){var D;if(typeof r=="function"){var U={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},Y=r(i,U);D=i[Y]}else r==="value"&&(D=i.find(B=>String(B.value)===p.payload.label));var{coordinate:V}=p.payload;if(D==null||p.payload.active===!1||V==null||l==null){n(l0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:re,y:J}=V,te=Math.min(re,l.x+l.width),ae=Math.min(J,l.y+l.height),de={x:a==="horizontal"?D.coordinate:te,y:a==="horizontal"?ae:D.coordinate},Te=l0({active:p.payload.active,coordinate:de,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Te)}}};return vu.on(f0,f),()=>{vu.off(f0,f)}},[c,n,t,e,r,i,a,l])}function tZ(){var e=ke(Cb),t=ke(Rb),n=Vt();C.useEffect(()=>{if(e==null)return _u;var r=(i,a,l)=>{t!==l&&e===i&&n(FQ(a))};return vu.on(tN,r),()=>{vu.off(tN,r)}},[n,t,e])}function nZ(){var e=Vt();C.useEffect(()=>{e(GQ())},[e]),eZ(),tZ()}function rZ(e,t,n,r,i,a){var l=ke(w=>uQ(w,e,t)),c=ke(Rb),f=ke(Cb),d=ke(sD),p=ke(VQ),g=p==null?void 0:p.active,y=sh();C.useEffect(()=>{if(!g&&f!=null&&c!=null){var w=l0({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});vu.emit(f0,f,w,c)}},[g,n,l,i,r,c,f,d,a,y])}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){iZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iZ(e,t,n){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e){return e.dataKey}function lZ(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(HK,t)}var aN=[],uZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cZ(e){var t,n,r=jr(e,uZ),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:p,offset:g,payloadUniqBy:y,position:w,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:x,shared:I,trigger:M,defaultIndex:O,portal:P,axisId:D}=r,U=Vt(),Y=typeof O=="number"?String(O):O;C.useEffect(()=>{U(iX({shared:I,trigger:M,axisId:D,active:i,defaultIndex:Y}))},[U,I,M,D,i,Y]);var V=sh(),re=eP(),J=QW(I),{activeIndex:te,isActive:ae}=(t=ke(Ae=>dQ(Ae,J,M,Y)))!==null&&t!==void 0?t:{},de=ke(Ae=>fQ(Ae,J,M,Y)),Te=ke(Ae=>ik(Ae,J,M,Y)),B=ke(Ae=>cQ(Ae,J,M,Y)),ne=de,ce=UQ(),me=(n=i??ae)!==null&&n!==void 0?n:!1,[Oe,L]=C8([ne,me]),W=J==="axis"?Te:void 0;rZ(J,M,B,W,te,me);var oe=P??ce;if(oe==null||V==null||J==null)return null;var se=ne??aN;me||(se=aN),d&&se.length&&(se=Z6(se.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),y,sZ));var be=se.length>0,xe=C.createElement(JK,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:p,active:me,coordinate:B,hasPayload:be,offset:g,position:w,reverseDirection:S,useTranslate3d:E,viewBox:V,wrapperStyle:T,lastBoundingBox:Oe,innerRef:L,hasPortalFromProps:!!P},lZ(f,oN(oN({},r),{},{payload:se,label:W,active:me,activeIndex:te,coordinate:B,accessibilityLayer:re})));return C.createElement(C.Fragment,null,RI.createPortal(xe,oe),me&&C.createElement(kQ,{cursor:x,tooltipEventType:J,coordinate:B,payload:se,index:te}))}var Rh=e=>null;Rh.displayName="Cell";function fZ(e,t,n){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pZ{constructor(t){fZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){gZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=yZ(e,"string");return typeof t=="symbol"?t:t+""}function yZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bZ={cacheSize:2e3,enableCache:!0},uk=mZ({},bZ),lN=new pZ(uk.cacheSize),_Z={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uN="recharts_measurement_span";function wZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(c)}var cN=(e,t)=>{try{var n=document.getElementById(uN);n||(n=document.createElement("span"),n.setAttribute("id",uN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_Z,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||X0.isSsr)return{width:0,height:0};if(!uk.enableCache)return cN(t,n);var r=wZ(t,n),i=lN.get(r);if(i)return i;var a=cN(t,n);return lN.set(r,a),a},ck;function SZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RZ=["cm","mm","pt","pc","in","Q","px"];function NZ(e){return RZ.includes(e)}var gs="NaN";function MZ(e,t){return e*CZ[t]}class cn{static parse(t){var n,[,r,i]=(n=xZ.exec(t))!==null&&n!==void 0?n:[];return r==null?cn.NaN:new cn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vi(t)&&(this.unit=""),n!==""&&!AZ.test(n)&&(this.num=NaN,this.unit=""),NZ(n)&&(this.num=MZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new cn(NaN,""):new cn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cn(NaN,""):new cn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vi(this.num)}}ck=cn;SZ(cn,"NaN",new ck(NaN,""));function fk(e){if(e==null||e.includes(gs))return gs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=dN.exec(t))!==null&&n!==void 0?n:[],l=cn.parse(r??""),c=cn.parse(a??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return gs;t=t.replace(dN,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,p,g,y]=(d=hN.exec(t))!==null&&d!==void 0?d:[],w=cn.parse(p??""),S=cn.parse(y??""),E=g==="+"?w.add(S):w.subtract(S);if(E.isNaN())return gs;t=t.replace(hN,E.toString())}return t}var pN=/\(([^()]*)\)/;function IZ(e){for(var t=e,n;(n=pN.exec(t))!=null;){var[,r]=n;t=t.replace(pN,fk(r))}return t}function OZ(e){var t=e.replace(/\s+/g,"");return t=IZ(t),t=fk(t),t}function PZ(e){try{return OZ(e)}catch{return gs}}function Pv(e){var t=PZ(e.slice(5,-1));return t===gs?"":t}var DZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kZ=["dx","dy","angle","className","breakAll"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function mN(e,t){if(e==null)return{};var n,r,i=UZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dk=/[ \f\n\r\t\v\u2028\u2029]+/,hk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Yn(t)||(n?i=t.toString().split(""):i=t.toString().split(dk));var a=i.map(c=>({word:c,width:fN(c,r).width})),l=n?0:fN("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function LZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var pk=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:c}=a,f=i[i.length-1];if(f&&c!=null&&(t==null||r||f.width+c+n<Number(t)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};i.push(d)}return i},[]),mk=e=>e.reduce((t,n)=>t.width>n.width?t:n),qZ="",gN=(e,t,n,r,i,a,l,c)=>{var f=e.slice(0,t),d=hk({breakAll:n,style:r,children:f+qZ});if(!d)return[!1,[]];var p=pk(d.wordsWithComputedWidth,a,l,c),g=p.length>i||mk(p).width>Number(a);return[g,p]},$Z=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:c,breakAll:f}=e,d=Re(a),p=String(l),g=pk(t,r,n,i);if(!d||i)return g;var y=g.length>a||mk(g).width>Number(r);if(!y)return g;for(var w=0,S=p.length-1,E=0,T;w<=S&&E<=p.length-1;){var x=Math.floor((w+S)/2),I=x-1,[M,O]=gN(p,I,f,c,a,r,n,i),[P]=gN(p,x,f,c,a,r,n,i);if(!M&&!P&&(w=x+1),M&&P&&(S=x-1),!M&&P){T=O;break}E++}return T||g},vN=e=>{var t=Yn(e)?[]:e.toString().split(dk);return[{words:t,width:void 0}]},BZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!X0.isSsr){var c,f,d=hk({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:g}=d;c=p,f=g}else return vN(r);return $Z({breakAll:a,children:r,maxLines:l,style:i},c,f,t,!!n)}return vN(r)},gk="#808080",zZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:gk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},u_=C.forwardRef((e,t)=>{var n=jr(e,zZ),{x:r,y:i,lineHeight:a,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:p}=n,g=mN(n,DZ),y=C.useMemo(()=>BZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:S,angle:E,className:T,breakAll:x}=g,I=mN(g,kZ);if(!bi(r)||!bi(i)||y.length===0)return null;var M=Number(r)+(Re(w)?w:0),O=Number(i)+(Re(S)?S:0);if(!$t(M)||!$t(O))return null;var P;switch(p){case"start":P=Pv("calc(".concat(l,")"));break;case"middle":P=Pv("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:P=Pv("calc(".concat(y.length-1," * -").concat(a,")"));break}var D=[];if(f){var U=y[0].width,{width:Y}=g;D.push("scale(".concat(Re(Y)&&Re(U)?Y/U:1,")"))}return E&&D.push("rotate(".concat(E,", ").concat(M,", ").concat(O,")")),D.length&&(I.transform=D.join(" ")),C.createElement("text",d0({},hr(I),{ref:t,x:M,y:O,className:qt("recharts-text",T),textAnchor:d,fill:c.includes("url")?gk:c}),y.map((V,re)=>{var J=V.words.join(x?"":" ");return C.createElement("tspan",{x:M,dy:re===0?P:a,key:"".concat(J,"-").concat(re)},J)}))});u_.displayName="Text";var HZ=["labelRef"],GZ=["content"];function yN(e,t){if(e==null)return{};var n,r,i=VZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cd.apply(null,arguments)}var YZ=C.createContext(null),JZ=()=>{var e=C.useContext(YZ),t=sh();return e||FO(t)},WZ=C.createContext(null),XZ=()=>{var e=C.useContext(WZ),t=ke(dD);return e||t},QZ=e=>{var{value:t,formatter:n}=e,r=Yn(e.children)?t:e.children;return typeof n=="function"?n(r):r},ZZ=e=>e!=null&&typeof e=="function",eee=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},tee=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:c,cy:f,innerRadius:d,outerRadius:p,startAngle:g,endAngle:y,clockWise:w}=i,S=(d+p)/2,E=eee(g,y),T=E>=0?1:-1,x,I;switch(t){case"insideStart":x=g+T*a,I=w;break;case"insideEnd":x=y-T*a,I=!w;break;case"end":x=y+T*a,I=w;break;default:throw new Error("Unsupported position ".concat(t))}I=E<=0?I:!I;var M=Ut(c,f,S,x),O=Ut(c,f,S,x+(I?1:-1)*359),P="M".concat(M.x,",").concat(M.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),D=Yn(e.id)?ru("recharts-radial-line-"):e.id;return C.createElement("text",Cd({},r,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:D,d:P})),C.createElement("textPath",{xlinkHref:"#".concat(D)},n))},nee=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:c,endAngle:f}=e,d=(c+f)/2;if(n==="outside"){var{x:p,y:g}=Ut(r,i,l+t,d);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:w,y:S}=Ut(r,i,y,d);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},h0=e=>"cx"in e&&Re(e.cx),ree=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!h0(n)&&(a=n);var{x:l,y:c,upperWidth:f,lowerWidth:d,height:p}=t,g=l,y=l+(f-d)/2,w=(g+y)/2,S=(f+d)/2,E=g+f/2,T=p>=0?1:-1,x=T*r,I=T>0?"end":"start",M=T>0?"start":"end",O=f>=0?1:-1,P=O*r,D=O>0?"end":"start",U=O>0?"start":"end";if(i==="top"){var Y={x:g+f/2,y:c-x,textAnchor:"middle",verticalAnchor:I};return Pt(Pt({},Y),a?{height:Math.max(c-a.y,0),width:f}:{})}if(i==="bottom"){var V={x:y+d/2,y:c+p+x,textAnchor:"middle",verticalAnchor:M};return Pt(Pt({},V),a?{height:Math.max(a.y+a.height-(c+p),0),width:d}:{})}if(i==="left"){var re={x:w-P,y:c+p/2,textAnchor:D,verticalAnchor:"middle"};return Pt(Pt({},re),a?{width:Math.max(re.x-a.x,0),height:p}:{})}if(i==="right"){var J={x:w+S+P,y:c+p/2,textAnchor:U,verticalAnchor:"middle"};return Pt(Pt({},J),a?{width:Math.max(a.x+a.width-J.x,0),height:p}:{})}var te=a?{width:S,height:p}:{};return i==="insideLeft"?Pt({x:w+P,y:c+p/2,textAnchor:U,verticalAnchor:"middle"},te):i==="insideRight"?Pt({x:w+S-P,y:c+p/2,textAnchor:D,verticalAnchor:"middle"},te):i==="insideTop"?Pt({x:g+f/2,y:c+x,textAnchor:"middle",verticalAnchor:M},te):i==="insideBottom"?Pt({x:y+d/2,y:c+p-x,textAnchor:"middle",verticalAnchor:I},te):i==="insideTopLeft"?Pt({x:g+P,y:c+x,textAnchor:U,verticalAnchor:M},te):i==="insideTopRight"?Pt({x:g+f-P,y:c+x,textAnchor:D,verticalAnchor:M},te):i==="insideBottomLeft"?Pt({x:y+P,y:c+p-x,textAnchor:U,verticalAnchor:I},te):i==="insideBottomRight"?Pt({x:y+d-P,y:c+p-x,textAnchor:D,verticalAnchor:I},te):i&&typeof i=="object"&&(Re(i.x)||yi(i.x))&&(Re(i.y)||yi(i.y))?Pt({x:l+Fn(i.x,S),y:c+Fn(i.y,p),textAnchor:"end",verticalAnchor:"end"},te):Pt({x:E,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},te)},iee={angle:0,offset:5,zIndex:Cr.label,position:"middle",textBreakAll:!1};function vk(e){var t=jr(e,iee),{viewBox:n,position:r,value:i,children:a,content:l,className:c="",textBreakAll:f,labelRef:d}=t,p=XZ(),g=JZ(),y=r==="center"?g:p??g,w,S,E;if(n==null?w=y:h0(n)?w=n:w=FO(n),!w||Yn(i)&&Yn(a)&&!C.isValidElement(l)&&typeof l!="function")return null;var T=Pt(Pt({},t),{},{viewBox:w});if(C.isValidElement(l)){var{labelRef:x}=T,I=yN(T,HZ);return C.cloneElement(l,I)}if(typeof l=="function"){var{content:M}=T,O=yN(T,GZ);if(S=C.createElement(l,O),C.isValidElement(S))return S}else S=QZ(t);var P=hr(t);if(h0(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return tee(t,r,S,P,w);E=nee(w,t.offset,t.position)}else E=ree(t,w);return C.createElement(qu,{zIndex:t.zIndex},C.createElement(u_,Cd({ref:d,className:qt("recharts-label",c)},P,E,{textAnchor:LZ(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:f}),S))}vk.displayName="Label";var Dv={},kv={},_N;function oee(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(kv)),kv}var Uv={},wN;function aee(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Uv)),Uv}var SN;function see(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oee(),n=aee(),r=$0();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Dv)),Dv}var Lv,EN;function lee(){return EN||(EN=1,Lv=see().last),Lv}var uee=lee();const cee=Vr(uee);var fee=["valueAccessor"],dee=["dataKey","clockWise","id","textBreakAll","zIndex"];function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rd.apply(null,arguments)}function TN(e,t){if(e==null)return{};var n,r,i=hee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pee=e=>Array.isArray(e.value)?cee(e.value):e.value,yk=C.createContext(void 0);yk.Provider;var bk=C.createContext(void 0),mee=bk.Provider;function gee(){return C.useContext(yk)}function vee(){return C.useContext(bk)}function Df(e){var{valueAccessor:t=pee}=e,n=TN(e,fee),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:c}=n,f=TN(n,dee),d=gee(),p=vee(),g=d||p;return!g||!g.length?null:C.createElement(qu,{zIndex:c??Cr.label},C.createElement(uo,{className:"recharts-label-list"},g.map((y,w)=>{var S,E=Yn(r)?t(y,w):Et(y&&y.payload,r),T=Yn(a)?{}:{id:"".concat(a,"-").concat(w)};return C.createElement(vk,Rd({key:"label-".concat(w)},hr(y),f,T,{fill:(S=n.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:w,zIndex:0}))})))}Df.displayName="LabelList";function yee(e){var{label:t}=e;return t?t===!0?C.createElement(Df,{key:"labelList-implicit"}):C.isValidElement(t)||ZZ(t)?C.createElement(Df,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(Df,Rd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var _k=e=>e.graphicalItems.polarItems,bee=j([pt,Mu],Db),Nh=j([_k,vt,bee],kb),_ee=j([Nh],Ub),Mh=j([_ee,Eb],Lb),wee=j([Mh,vt,Nh],$b);j([Mh,vt,Nh],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,l=Et(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Et(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var AN=()=>{},See=j([Mh,vt,Nh,Th,pt],Gb),Eee=j([vt,zb,Hb,AN,See,AN,st,pt],Vb),wk=j([vt,st,Mh,wee,Nu,pt,Eee],jb),Tee=j([wk,vt,Ls],Yb);j([vt,wk,Tee,pt],Wb);var Aee={radiusAxis:{},angleAxis:{}},Sk=On({name:"polarAxis",initialState:Aee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mre,removeRadiusAxis:Ire,addAngleAxis:Ore,removeAngleAxis:Pre}=Sk.actions,xee=Sk.reducer;function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ree(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mee=(e,t)=>t,c_=j([_k,Mee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Iee=[],f_=(e,t,n)=>(n==null?void 0:n.length)===0?Iee:n,Ek=j([Eb,c_,f_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>CN(CN({},t.presentationProps),a.props))),i!=null)return i}}),Oee=j([Ek,c_,f_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,l=Et(r,t.nameKey,t.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:$O(l,t.dataKey),color:c,payload:r,type:t.legendType}})}),Pee=j([Ek,c_,f_,Zt],(e,t,n,r)=>{if(!(t==null||e==null))return Lte({offset:r,pieSettings:t,displayedData:e,cells:n})}),qv={exports:{}},nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function Dee(){if(RN)return nt;RN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case f:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case g:case p:return E;case a:return E;default:return T}}case t:return T}}}return nt.ContextConsumer=a,nt.ContextProvider=l,nt.Element=e,nt.ForwardRef=c,nt.Fragment=n,nt.Lazy=g,nt.Memo=p,nt.Portal=t,nt.Profiler=i,nt.StrictMode=r,nt.Suspense=f,nt.SuspenseList=d,nt.isContextConsumer=function(E){return S(E)===a},nt.isContextProvider=function(E){return S(E)===l},nt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},nt.isForwardRef=function(E){return S(E)===c},nt.isFragment=function(E){return S(E)===n},nt.isLazy=function(E){return S(E)===g},nt.isMemo=function(E){return S(E)===p},nt.isPortal=function(E){return S(E)===t},nt.isProfiler=function(E){return S(E)===i},nt.isStrictMode=function(E){return S(E)===r},nt.isSuspense=function(E){return S(E)===f},nt.isSuspenseList=function(E){return S(E)===d},nt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===a||E.$$typeof===c||E.$$typeof===w||E.getModuleId!==void 0)},nt.typeOf=S,nt}var NN;function kee(){return NN||(NN=1,qv.exports=Dee()),qv.exports}var Uee=kee(),MN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IN=null,$v=null,Tk=e=>{if(e===IN&&Array.isArray($v))return $v;var t=[];return C.Children.forEach(e,n=>{Yn(n)||(Uee.isFragment(n)?t=t.concat(Tk(n.props.children)):t.push(n))}),$v=t,IN=e,t};function Ak(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>MN(i)):r=[MN(t)],Tk(e).forEach(i=>{var a=nu(i,"type.displayName")||nu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var Bv={},ON;function Lee(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Bv)),Bv}var zv,PN;function qee(){return PN||(PN=1,zv=Lee().isPlainObject),zv}var $ee=qee();const Bee=Vr($ee);var DN,kN,UN,LN,qN;function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){zee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nd.apply(null,arguments)}function Gl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zN=(e,t,n,r,i)=>{var a=n-r,l;return l=wt(DN||(DN=Gl(["M ",",",""])),e,t),l+=wt(kN||(kN=Gl(["L ",",",""])),e+n,t),l+=wt(UN||(UN=Gl(["L ",",",""])),e+n-a/2,t+i),l+=wt(LN||(LN=Gl(["L ",",",""])),e+n-a/2-r,t+i),l+=wt(qN||(qN=Gl(["L ",","," Z"])),e,t),l},Vee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jee=e=>{var t=jr(e,Vee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:c}=t,{animationEasing:f,animationDuration:d,animationBegin:p,isUpdateAnimationActive:g}=t,y=C.useRef(null),[w,S]=C.useState(-1),E=C.useRef(i),T=C.useRef(a),x=C.useRef(l),I=C.useRef(n),M=C.useRef(r),O=Z0(e,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var de=y.current.getTotalLength();de&&S(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var P=qt("recharts-trapezoid",c);if(!g)return C.createElement("g",null,C.createElement("path",Nd({},hr(t),{className:P,d:zN(n,r,i,a,l)})));var D=E.current,U=T.current,Y=x.current,V=I.current,re=M.current,J="0px ".concat(w===-1?1:w,"px"),te="".concat(w,"px 0px"),ae=tP(["strokeDasharray"],d,f);return C.createElement(Q0,{animationId:O,key:O,canBegin:w>0,duration:d,easing:f,isActive:g,begin:p},de=>{var Te=Er(D,i,de),B=Er(U,a,de),ne=Er(Y,l,de),ce=Er(V,n,de),me=Er(re,r,de);y.current&&(E.current=Te,T.current=B,x.current=ne,I.current=ce,M.current=me);var Oe=de>0?{transition:ae,strokeDasharray:te}:{strokeDasharray:J};return C.createElement("path",Nd({},hr(t),{className:P,d:zN(ce,me,Te,B,ne),ref:y,style:BN(BN({},Oe),t.style)}))})},Fee=["option","shapeType","activeClassName"];function Kee(e,t){if(e==null)return{};var n,r,i=Yee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qee(e,t){return Md(Md({},t),e)}function Zee(e,t){return e==="symbols"}function GN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(oP,n);case"trapezoid":return C.createElement(jee,n);case"sector":return C.createElement(uP,n);case"symbols":if(Zee(t))return C.createElement(YI,n);break;case"curve":return C.createElement(W0,n);default:return null}}function ete(e){return C.isValidElement(e)?e.props:e}function tte(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Kee(e,Fee),a;if(C.isValidElement(t))a=C.cloneElement(t,Md(Md({},i),ete(t)));else if(typeof t=="function")a=t(i,i.index);else if(Bee(t)&&typeof t!="boolean"){var l=Qee(t,i);a=C.createElement(GN,{shapeType:n,elementProps:l})}else{var c=i;a=C.createElement(GN,{shapeType:n,elementProps:c})}return i.isActive?C.createElement(uo,{className:r},a):a}var nte=(e,t,n)=>{var r=Vt();return(i,a)=>l=>{e==null||e(i,a,l),r($D({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},rte=e=>{var t=Vt();return(n,r)=>i=>{e==null||e(n,r,i),t(oX())}},ite=(e,t,n)=>{var r=Vt();return(i,a)=>l=>{e==null||e(i,a,l),r(aX({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ote(e){var{tooltipEntrySettings:t}=e,n=Vt(),r=mo(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(tX(t)):i.current!==t&&n(nX({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(rX(i.current)),i.current=null)},[n]),null}function ate(e){var{legendPayload:t}=e,n=Vt(),r=ke(st),i=C.useRef(null);return C.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(DK(t)):i.current!==t&&n(kK({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(UK(i.current)),i.current=null)},[n]),null}var Hv,ste=()=>{var[e]=C.useState(()=>ru("uid-"));return e},lte=(Hv=lL.useId)!==null&&Hv!==void 0?Hv:ste;function ute(e,t){var n=lte();return t||(e?"".concat(e,"-").concat(n):n)}var cte=C.createContext(void 0),fte=e=>{var{id:t,type:n,children:r}=e,i=ute("recharts-".concat(n),t);return C.createElement(cte.Provider,{value:i},r(i))},dte={cartesianItems:[],polarItems:[]},xk=On({name:"graphicalItems",initialState:dte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:dt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Mr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:dt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dt()},removePolarGraphicalItem:{reducer(e,t){var n=Mr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:dt()}}}),{addCartesianGraphicalItem:Dre,replaceCartesianGraphicalItem:kre,removeCartesianGraphicalItem:Ure,addPolarGraphicalItem:hte,removePolarGraphicalItem:pte}=xk.actions,mte=xk.reducer;function gte(e){var t=Vt();return C.useLayoutEffect(()=>(t(hte(e)),()=>{t(pte(e))}),[t,e]),null}var vte=["key"],yte=["onMouseEnter","onClick","onMouseLeave"],bte=["id"],_te=["id"];function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(null,arguments)}function Ih(e,t){if(e==null)return{};var n,r,i=Tte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ate(e){var t=C.useMemo(()=>Ak(e.children,Rh),[e.children]),n=ke(r=>Oee(r,e.id,t));return n==null?null:C.createElement(ate,{legendPayload:n})}var xte=C.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:c,hide:f,tooltipType:d,id:p}=e,g={dataDefinedOnItem:r.map(y=>y.tooltipPayload),positions:r.map(y=>y.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:t,nameKey:n,name:$O(c,t),hide:f,type:d,color:l,unit:"",graphicalItemId:p}};return C.createElement(ote,{tooltipEntrySettings:g})}),Cte=(e,t)=>e>t?"start":e<t?"end":"middle",Rte=(e,t,n)=>Fn(typeof t=="function"?t(e):t,n,n*.8),Nte=(e,t,n)=>{var{top:r,left:i,width:a,height:l}=t,c=aP(a,l),f=i+Fn(e.cx,a,a/2),d=r+Fn(e.cy,l,l/2),p=Fn(e.innerRadius,c,0),g=Rte(n,e.outerRadius,c),y=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:f,cy:d,innerRadius:p,outerRadius:g,maxRadius:y}},Mte=(e,t)=>{var n=Mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Ite(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ote=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var n=qt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Ih(t,vte);return C.createElement(W0,ho({},i,{type:"linear",className:n}))},Pte=(e,t,n)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),C.isValidElement(r)))return r;var i=qt("recharts-pie-label-text",Ite(e));return C.createElement(u_,ho({},t,{alignmentBaseline:"middle",className:i}),r)};function Dte(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!t)return null;var c=Ss(n),f=Sy(i),d=Sy(a),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((y,w)=>{var S=(y.startAngle+y.endAngle)/2,E=Ut(y.cx,y.cy,y.outerRadius+p,S),T=St(St(St(St({},c),y),{},{stroke:"none"},f),{},{index:w,textAnchor:Cte(E.x,y.cx)},E),x=St(St(St(St({},c),y),{},{fill:"none",stroke:y.fill},d),{},{index:w,points:[Ut(y.cx,y.cy,y.outerRadius,S),E],key:"line"});return C.createElement(qu,{zIndex:Cr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},C.createElement(uo,null,a&&Ote(a,x),Pte(i,T,Et(y,l))))});return C.createElement(uo,{className:"recharts-pie-labels"},g)}function kte(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(yee,{label:i}):C.createElement(Dte,{sectors:t,props:n,showLabels:r})}function Ute(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=e,c=ke(gu),f=ke(ZD),d=ke(jX),{onMouseEnter:p,onClick:g,onMouseLeave:y}=i,w=Ih(i,yte),S=nte(p,i.dataKey,l),E=rte(y),T=ite(g,i.dataKey,l);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((x,I)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var M=d==null||d===l,O=String(I)===c&&(f==null||i.dataKey===f)&&M,P=c?r:null,D=n&&O?n:P,U=St(St({},x),{},{stroke:x.stroke,tabIndex:-1,[zO]:I,[HO]:l});return C.createElement(uo,ho({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(I),tabIndex:-1,className:"recharts-pie-sector"},N6(w,x,I),{onMouseEnter:S(x,I),onMouseLeave:E(x,I),onClick:T(x,I)}),C.createElement(tte,ho({option:a??D,index:I,shapeType:"sector",isActive:O},U)))}))}function Lte(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:p,tooltipType:g}=n,y=Math.abs(n.minAngle),w=Mte(c,f),S=Math.abs(w),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(D=>Et(D,d,0)!==0).length,x=(S>=360?T:T-1)*E,I=S-T*y-x,M=r.reduce((D,U)=>{var Y=Et(U,d,0);return D+(Re(Y)?Y:0)},0),O;if(M>0){var P;O=r.map((D,U)=>{var Y=Et(D,d,0),V=Et(D,p,U),re=Nte(n,a,D),J=(Re(Y)?Y:0)/M,te,ae=St(St({},D),i&&i[U]&&i[U].props);U?te=P.endAngle+Mn(w)*E*(Y!==0?1:0):te=c;var de=te+Mn(w)*((Y!==0?y:0)+J*I),Te=(te+de)/2,B=(re.innerRadius+re.outerRadius)/2,ne=[{name:V,value:Y,payload:ae,dataKey:d,type:g,graphicalItemId:n.id}],ce=Ut(re.cx,re.cy,B,Te);return P=St(St(St(St({},n.presentationProps),{},{percent:J,cornerRadius:typeof l=="string"?parseFloat(l):l,name:V,tooltipPayload:ne,midAngle:Te,middleRadius:B,tooltipPosition:ce},ae),re),{},{value:Y,dataKey:d,startAngle:te,endAngle:de,payload:ae,paddingAngle:Mn(w)*E}),P})}return O}function qte(e){var{showLabels:t,sectors:n,children:r}=e,i=C.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return C.createElement(mee,{value:t?i:void 0},r)}function $te(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:f,activeShape:d,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,w=Z0(t,"recharts-pie-"),S=n.current,[E,T]=C.useState(!1),x=C.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),I=C.useCallback(()=>{typeof g=="function"&&g(),T(!0)},[g]);return C.createElement(qte,{showLabels:!E,sectors:i},C.createElement(Q0,{animationId:w,begin:l,duration:c,isActive:a,easing:f,onAnimationStart:I,onAnimationEnd:x,key:w},M=>{var O=[],P=i&&i[0],D=P==null?void 0:P.startAngle;return i==null||i.forEach((U,Y)=>{var V=S&&S[Y],re=Y>0?nu(U,"paddingAngle",0):0;if(V){var J=Er(V.endAngle-V.startAngle,U.endAngle-U.startAngle,M),te=St(St({},U),{},{startAngle:D+re,endAngle:D+J+re});O.push(te),D=te.endAngle}else{var{endAngle:ae,startAngle:de}=U,Te=Er(0,ae-de,M),B=St(St({},U),{},{startAngle:D+re,endAngle:D+Te+re});O.push(B),D=B.endAngle}}),n.current=O,C.createElement(uo,null,C.createElement(Ute,{sectors:O,activeShape:d,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:r}))}),C.createElement(kte,{showLabels:!E,sectors:i,props:t}),t.children)}var Bte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Cr.area};function zte(e){var{id:t}=e,n=Ih(e,bte),{hide:r,className:i,rootTabIndex:a}=e,l=C.useMemo(()=>Ak(e.children,Rh),[e.children]),c=ke(p=>Pee(p,t,l)),f=C.useRef(null),d=qt("recharts-pie",i);return r||c==null?(f.current=null,C.createElement(uo,{tabIndex:a,className:d})):C.createElement(qu,{zIndex:e.zIndex},C.createElement(xte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),C.createElement(uo,{tabIndex:a,className:d},C.createElement($te,{props:St(St({},n),{},{sectors:c}),previousSectorsRef:f,id:t})))}function Ck(e){var t=jr(e,Bte),{id:n}=t,r=Ih(t,_te),i=Ss(r);return C.createElement(fte,{id:n,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(gte,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),C.createElement(Ate,ho({},r,{id:a})),C.createElement(zte,ho({},r,{id:a}))))}Ck.displayName="Pie";function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){Hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hte(e,t,n){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jte={xAxis:{},yAxis:{},zAxis:{}},Rk=On({name:"cartesianAxis",initialState:jte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:dt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:dt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:dt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=FN(FN({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Lre,replaceXAxis:qre,removeXAxis:$re,addYAxis:Bre,replaceYAxis:zre,removeYAxis:Hre,addZAxis:Gre,replaceZAxis:Vre,removeZAxis:jre,updateYAxisWidth:Fre}=Rk.actions,Fte=Rk.reducer,Kte=j([Zt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Yte=j([Kte,Ri,Ni],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Jte=()=>ke(Yte),Wte=e=>{var{chartData:t}=e,n=Vt(),r=mo();return C.useEffect(()=>r?()=>{}:(n(nN(t)),()=>{n(nN(void 0))}),[t,n,r]),null},KN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nk=On({name:"brush",initialState:KN,reducers:{setBrushSettings(e,t){return t.payload==null?KN:t.payload}}}),{setBrushSettings:Kre}=Nk.actions,Xte=Nk.reducer,Qte={dots:[],areas:[],lines:[]},Mk=On({name:"referenceElements",initialState:Qte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Mr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Mr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Mr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Yre,removeDot:Jre,addArea:Wre,removeArea:Xre,addLine:Qre,removeLine:Zre}=Mk.actions,Zte=Mk.reducer,ene=C.createContext(void 0),tne=e=>{var{children:t}=e,[n]=C.useState("".concat(ru("recharts"),"-clip")),r=Jte();if(r==null)return null;var{x:i,y:a,width:l,height:c}=r;return C.createElement(ene.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:a,height:c,width:l}))),t)},nne={},Ik=On({name:"errorBars",initialState:nne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:eie,replaceErrorBar:tie,removeErrorBar:nie}=Ik.actions,rne=Ik.reducer,Gv={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function ine(){if(YN)return Vv;YN=1;var e=Rs();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Vv.useSyncExternalStoreWithSelector=function(f,d,p,g,y){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function T(P){if(!x){if(x=!0,I=P,P=g(P),y!==void 0&&S.hasValue){var D=S.value;if(y(D,P))return M=D}return M=P}if(D=M,n(I,P))return D;var U=g(P);return y!==void 0&&y(D,U)?(I=P,D):(I=P,M=U)}var x=!1,I,M,O=p===void 0?null:p;return[function(){return T(d())},O===null?void 0:function(){return T(O())}]},[d,p,g,y]);var E=r(f,w[0],w[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},Vv}var JN;function one(){return JN||(JN=1,Gv.exports=ine()),Gv.exports}one();function ane(e){e()}function sne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ane(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var WN={notify(){},get:()=>[]};function lne(e,t){let n,r=WN,i=0,a=!1;function l(E){p();const T=r.subscribe(E);let x=!1;return()=>{x||(x=!0,T(),g())}}function c(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return a}function p(){i++,n||(n=e.subscribe(f),r=sne())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=WN)}function y(){a||(a=!0,p())}function w(){a&&(a=!1,g())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return S}var une=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cne=une(),fne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dne=fne(),hne=()=>cne||dne?C.useLayoutEffect:C.useEffect,pne=hne();function XN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function mne(e,t){if(XN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!XN(e[n[i]],t[n[i]]))return!1;return!0}var jv=Symbol.for("react-redux-context"),Fv=typeof globalThis<"u"?globalThis:{};function gne(){if(!C.createContext)return{};const e=Fv[jv]??(Fv[jv]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var vne=gne();function yne(e){const{children:t,context:n,serverState:r,store:i}=e,a=C.useMemo(()=>{const f=lne(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);pne(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const c=n||vne;return C.createElement(c.Provider,{value:a},t)}var bne=yne,_ne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Sne(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(_ne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!mne(e[r],t[r]))return!1}else if(!wne(e[r],t[r]))return!1;return!0}var Ene=(e,t)=>t,d_=j([Ene,st,dD,Ft,JD,Ii,lQ,Zt],mQ),h_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Ok=pr("mouseClick"),Pk=Su();Pk.startListening({actionCreator:Ok,effect:(e,t)=>{var n=e.payload,r=d_(t.getState(),h_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(sX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var p0=pr("mouseMove"),Dk=Su(),xf=null;Dk.startListening({actionCreator:p0,effect:(e,t)=>{var n=e.payload;xf!==null&&cancelAnimationFrame(xf);var r=h_(n);xf=requestAnimationFrame(()=>{var i=t.getState(),a=Zb(i,i.tooltip.settings.shared);if(a==="axis"){var l=d_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(zD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(BD())}xf=null})}});function Tne(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var QN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},kk=On({name:"rootProps",initialState:QN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:QN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Ane=kk.reducer,{updateOptions:xne}=kk.actions,Uk=On({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cne}=Uk.actions,Rne=Uk.reducer,Lk=pr("keyDown"),qk=pr("focus"),p_=Su();p_.startListening({actionCreator:Lk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=e_(i,Bs(n),Pu(n),Uu(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=Ii(n);if(a==="Enter"){var d=xd(n,"axis","hover",String(i.index));t.dispatch(u0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var p=XW(n),g=p==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,w=c+y*g;if(!(f==null||w>=f.length||w<0)){var S=xd(n,"axis","hover",String(w));t.dispatch(u0({active:!0,activeIndex:w.toString(),activeCoordinate:S}))}}}}}});p_.startListening({actionCreator:qk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=xd(n,"axis","hover",String(a));t.dispatch(u0({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var ur=pr("externalEvent"),$k=Su(),Kv=new Map;$k.startListening({actionCreator:ur,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Kv.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var c=t.getState(),f={activeCoordinate:KX(c),activeDataKey:ZD(c),activeIndex:gu(c),activeLabel:QD(c),activeTooltipIndex:gu(c),isTooltipActive:YX(c)};n(f,r)}finally{Kv.delete(i)}});Kv.set(i,l)}}});var Nne=j([qs],e=>e.tooltipItemPayloads),Mne=j([Nne,ku,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),Bk=pr("touchMove"),zk=Su();zk.startListening({actionCreator:Bk,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Zb(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=d_(r,h_({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(zD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var p=d.getAttribute(zO),g=(c=d.getAttribute(HO))!==null&&c!==void 0?c:void 0,y=$s(r).find(E=>E.id===g);if(p==null||y==null||g==null)return;var{dataKey:w}=y,S=Mne(r,p,g);t.dispatch($D({activeDataKey:w,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var Ine=cO({brush:Xte,cartesianAxis:Fte,chartData:KQ,errorBars:rne,graphicalItems:mte,layout:CF,legend:LK,options:HQ,polarAxis:xee,polarOptions:Rne,referenceElements:Zte,rootProps:Ane,tooltip:lX,zIndex:NQ}),One=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Q8({reducer:Ine,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Pk.middleware,Dk.middleware,p_.middleware,$k.middleware,zk.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(AO({type:"raf"}))},devTools:{serialize:{replacer:Tne},name:"recharts-".concat(n)}})};function Pne(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=mo(),a=C.useRef(null);if(i)return n;a.current==null&&(a.current=One(t,r));var l=B0;return C.createElement(bne,{context:l,store:a.current},n)}function Dne(e){var{layout:t,margin:n}=e,r=Vt(),i=mo();return C.useEffect(()=>{i||(r(TF(t)),r(EF(n)))},[r,i,t,n]),null}var kne=C.memo(Dne,Sne);function Une(e){var t=Vt();return C.useEffect(()=>{t(xne(e))},[t,e]),null}function ZN(e){var{zIndex:t,isPanorama:n}=e,r=C.useRef(null),i=Vt();return C.useLayoutEffect(()=>(r.current&&i(CQ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(RQ({zIndex:t,isPanorama:n}))}),[i,t,n]),C.createElement("g",{tabIndex:-1,ref:r})}function eM(e){var{children:t,isPanorama:n}=e,r=ke(vQ);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(ZN,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>C.createElement(ZN,{key:l,zIndex:l,isPanorama:n})))}var Lne=["children"];function qne(e,t){if(e==null)return{};var n,r,i=$ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(null,arguments)}var Bne={width:"100%",height:"100%",display:"block"},zne=C.forwardRef((e,t)=>{var n=bK(),r=_K(),i=eP();if(!co(n)||!co(r))return null;var{children:a,otherAttributes:l,title:c,desc:f}=e,d,p;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),C.createElement(CI,Id({},l,{title:c,desc:f,role:p,tabIndex:d,width:n,height:r,style:Bne,ref:t}),a)}),Hne=e=>{var{children:t}=e,n=ke(ah);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return C.createElement(CI,{width:r,height:i,x:l,y:a},t)},tM=C.forwardRef((e,t)=>{var{children:n}=e,r=qne(e,Lne),i=mo();return i?C.createElement(Hne,null,C.createElement(eM,{isPanorama:!0},n)):C.createElement(zne,Id({ref:t},r),C.createElement(eM,{isPanorama:!1},n))});function Gne(){var e=Vt(),[t,n]=C.useState(null),r=ke(HF);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;$t(a)&&a!==r&&e(xF(a))}},[t,e,r]),n}function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(null,arguments)}var Yne=()=>(nZ(),null);function Od(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Jne=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[a,l]=C.useState({containerWidth:Od((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Od((r=e.style)===null||r===void 0?void 0:r.height)}),c=C.useCallback((d,p)=>{l(g=>{var y=Math.round(d),w=Math.round(p);return g.containerWidth===y&&g.containerHeight===w?g:{containerWidth:y,containerHeight:w}})},[]),f=C.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=d.getBoundingClientRect();c(p,g);var y=S=>{var{width:E,height:T}=S[0].contentRect;c(E,T)},w=new ResizeObserver(y);w.observe(d),i.current=w}},[t,c]);return C.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[c]),C.createElement(C.Fragment,null,C.createElement(uh,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",sa({ref:f},e)))}),Wne=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=C.useState({containerWidth:Od(n),containerHeight:Od(r)}),l=C.useCallback((f,d)=>{a(p=>{var g=Math.round(f),y=Math.round(d);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),c=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:d,height:p}=f.getBoundingClientRect();l(d,p)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(uh,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",sa({ref:c},e)))}),Xne=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(uh,{width:n,height:r}),C.createElement("div",sa({ref:t},e)))}),Qne=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return yi(n)||yi(r)?C.createElement(Wne,sa({},e,{ref:t})):C.createElement(Xne,sa({},e,{ref:t}))});function Zne(e){return e===!0?Jne:Qne}var ere=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:w,onTouchMove:S,onTouchStart:E,style:T,width:x,responsive:I,dispatchTouchEvents:M=!0}=e,O=C.useRef(null),P=Vt(),[D,U]=C.useState(null),[Y,V]=C.useState(null),re=Gne(),J=K0(),te=(J==null?void 0:J.width)>0?J.width:x,ae=(J==null?void 0:J.height)>0?J.height:i,de=C.useCallback(Q=>{re(Q),typeof t=="function"&&t(Q),U(Q),V(Q),Q!=null&&(O.current=Q)},[re,t,U,V]),Te=C.useCallback(Q=>{P(Ok(Q)),P(ur({handler:a,reactEvent:Q}))},[P,a]),B=C.useCallback(Q=>{P(p0(Q)),P(ur({handler:d,reactEvent:Q}))},[P,d]),ne=C.useCallback(Q=>{P(BD()),P(ur({handler:p,reactEvent:Q}))},[P,p]),ce=C.useCallback(Q=>{P(p0(Q)),P(ur({handler:g,reactEvent:Q}))},[P,g]),me=C.useCallback(()=>{P(qk())},[P]),Oe=C.useCallback(Q=>{P(Lk(Q.key))},[P]),L=C.useCallback(Q=>{P(ur({handler:l,reactEvent:Q}))},[P,l]),W=C.useCallback(Q=>{P(ur({handler:c,reactEvent:Q}))},[P,c]),oe=C.useCallback(Q=>{P(ur({handler:f,reactEvent:Q}))},[P,f]),se=C.useCallback(Q=>{P(ur({handler:y,reactEvent:Q}))},[P,y]),be=C.useCallback(Q=>{P(ur({handler:E,reactEvent:Q}))},[P,E]),xe=C.useCallback(Q=>{M&&P(Bk(Q)),P(ur({handler:S,reactEvent:Q}))},[P,M,S]),Ae=C.useCallback(Q=>{P(ur({handler:w,reactEvent:Q}))},[P,w]),mt=Zne(I);return C.createElement(ak.Provider,{value:D},C.createElement(Nj.Provider,{value:Y},C.createElement(mt,{width:te??(T==null?void 0:T.width),height:ae??(T==null?void 0:T.height),className:qt("recharts-wrapper",r),style:Vne({position:"relative",cursor:"default",width:te,height:ae},T),onClick:Te,onContextMenu:L,onDoubleClick:W,onFocus:me,onKeyDown:Oe,onMouseDown:oe,onMouseEnter:B,onMouseLeave:ne,onMouseMove:ce,onMouseUp:se,onTouchEnd:Ae,onTouchMove:xe,onTouchStart:be,ref:de},C.createElement(Yne,null),n)))}),tre=["width","height","responsive","children","className","style","compact","title","desc"];function nre(e,t){if(e==null)return{};var n,r,i=rre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ire=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:c,compact:f,title:d,desc:p}=e,g=nre(e,tre),y=Ss(g);return f?C.createElement(C.Fragment,null,C.createElement(uh,{width:n,height:r}),C.createElement(tM,{otherAttributes:y,title:d,desc:p},a)):C.createElement(ere,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(tM,{otherAttributes:y,title:d,desc:p,ref:t},C.createElement(tne,null,a)))});function ore(e){var t=Vt();return C.useEffect(()=>{t(Cne(e))},[t,e]),null}var are=["layout"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function sre(e,t){if(e==null)return{};var n,r,i=lre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ure={top:5,right:5,bottom:5,left:5},Hk={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cre=C.forwardRef(function(t,n){var r,i=jr(t.categoricalChartProps,Hk),{layout:a}=i,l=sre(i,are),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p}=t,g={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(Pne,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},C.createElement(Wte,{chartData:i.data}),C.createElement(kne,{layout:a,margin:i.margin}),C.createElement(Une,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(ore,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(ire,m0({},l,{ref:n})))});function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pre=["item"],mre=iM(iM({},Hk),{},{layout:"centric",startAngle:0,endAngle:360}),gre=C.forwardRef((e,t)=>{var n=jr(e,mre);return C.createElement(cre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pre,tooltipPayloadSearcher:BQ,categoricalChartProps:n,ref:t})});const vre=({task:e})=>{const[t,n]=C.useState(!1),r=C.useRef(null);C.useEffect(()=>{const c=f=>{r.current&&!r.current.contains(f.target)&&n(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const i=()=>{const c=new Date(e.dueDate);e.dueDate.includes("T")&&!e.dueDate.endsWith("T00:00:00.000Z")&&!e.dueDate.endsWith("T00:00:00Z")||c.setHours(9,0,0,0);const d=new Date(c.getTime()+e.estimatedMinutes*6e4);return{startDate:c,endDate:d}},a=()=>{const{startDate:c,endDate:f}=i(),d=y=>y.toISOString().replace(/-|:|\.\d\d\d/g,""),p=`${e.description||""}

Estimated time: ${e.estimatedMinutes} mins
Category: ${e.category}`,g=new URL("https://calendar.google.com/calendar/render");g.searchParams.append("action","TEMPLATE"),g.searchParams.append("text",e.title),g.searchParams.append("details",p),g.searchParams.append("dates",`${d(c)}/${d(f)}`),window.open(g.toString(),"_blank"),n(!1)},l=()=>{const{startDate:c,endDate:f}=i(),d=new Date,p=E=>E.toISOString().replace(/-|:|\.\d\d\d/g,""),g=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//2026 Kickoff//Tasks//EN
BEGIN:VEVENT
UID:${e.id}@2026kickoff.app
DTSTAMP:${p(d)}
DTSTART:${p(c)}
DTEND:${p(f)}
SUMMARY:${e.title}
DESCRIPTION:${e.description||""} - Estimated time: ${e.estimatedMinutes} mins
STATUS:CONFIRMED
CATEGORIES:${e.category}
END:VEVENT
END:VCALENDAR`,y=new Blob([g],{type:"text/calendar;charset=utf-8"}),w=URL.createObjectURL(y),S=document.createElement("a");S.href=w,S.setAttribute("download",`${e.title.replace(/\s+/g,"_")}.ics`),document.body.appendChild(S),S.click(),document.body.removeChild(S),n(!1)};return N.jsxs("div",{className:"relative",ref:r,children:[N.jsx("button",{onClick:c=>{c.stopPropagation(),n(!t)},className:`p-2 rounded-full transition-colors ${t?"bg-indigo-100 text-indigo-700":"text-indigo-600 hover:bg-indigo-50"}`,title:"Add to Calendar",children:N.jsx(uB,{size:18})}),t&&N.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200 ring-1 ring-black/5",children:N.jsxs("div",{className:"py-1",children:[N.jsxs("button",{onClick:c=>{c.stopPropagation(),a()},className:"w-full text-left px-4 py-3 text-sm hover:bg-slate-50 flex items-center gap-3 text-slate-700 font-medium transition-colors",children:[N.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center flex-shrink-0",children:N.jsx(wB,{size:14})}),"Google Calendar"]}),N.jsxs("button",{onClick:c=>{c.stopPropagation(),l()},className:"w-full text-left px-4 py-3 text-sm hover:bg-slate-50 flex items-center gap-3 text-slate-700 font-medium transition-colors border-t border-slate-100",children:[N.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center flex-shrink-0",children:N.jsx(bB,{size:14})}),"Outlook / iCal"]})]})})]})},yre={[Gt.CAREER]:"from-indigo-500 to-blue-500",[Gt.FINANCE]:"from-emerald-400 to-green-600",[Gt.HEALTH]:"from-rose-400 to-red-500",[Gt.LIFESTYLE]:"from-amber-400 to-orange-500",[Gt.TRAVEL]:"from-sky-400 to-cyan-500",[Gt.PERSONAL]:"from-violet-400 to-purple-600"},bre=({task:e,onComplete:t,onExit:n})=>{const[r,i]=C.useState(e.estimatedMinutes*60),[a,l]=C.useState(!1);C.useEffect(()=>{let y;return a&&r>0?y=setInterval(()=>{i(w=>w-1)},1e3):r===0&&l(!1),()=>clearInterval(y)},[a,r]),C.useEffect(()=>{l(!0)},[]);const c=()=>l(!a),f=()=>{l(!1),i(e.estimatedMinutes*60)},d=y=>{const w=Math.floor(y/60),S=y%60;return`${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`},p=Math.max(0,r/(e.estimatedMinutes*60)*100),g=yre[e.category]||"from-slate-500 to-slate-700";return N.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 flex flex-col animate-in fade-in duration-300",children:[N.jsxs("div",{className:"p-6 flex justify-between items-center",children:[N.jsxs("button",{onClick:n,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors flex items-center gap-2",children:[N.jsx(rB,{size:20}),N.jsx("span",{className:"font-medium",children:"Exit Focus"})]}),N.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold text-white uppercase bg-gradient-to-r ${g}`,children:e.category})]}),N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 max-w-2xl mx-auto w-full text-center",children:[N.jsxs("div",{className:"mb-12",children:[N.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Currently Focusing On"}),N.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 leading-tight",children:e.title}),e.description&&N.jsx("p",{className:"mt-4 text-xl text-slate-600 font-light",children:e.description})]}),N.jsxs("div",{className:"relative w-72 h-72 md:w-96 md:h-96 flex items-center justify-center mb-12",children:[N.jsxs("svg",{className:"absolute inset-0 w-full h-full rotate-[-90deg]",children:[N.jsx("circle",{cx:"50%",cy:"50%",r:"45%",fill:"transparent",stroke:"#e2e8f0",strokeWidth:"8"}),N.jsx("circle",{cx:"50%",cy:"50%",r:"45%",fill:"transparent",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",className:"text-slate-900 transition-all duration-1000 ease-linear",strokeDasharray:"283%",strokeDashoffset:`${283-283*p/100}%`})]}),N.jsxs("div",{className:"flex flex-col items-center z-10",children:[N.jsx("div",{className:"text-7xl md:text-8xl font-mono font-bold text-slate-900 tracking-tighter",children:d(r)}),N.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[N.jsx("button",{onClick:c,className:"p-4 rounded-full bg-slate-100 text-slate-900 hover:bg-slate-200 transition-all",children:a?N.jsx(OB,{size:24}):N.jsx(UB,{size:24})}),N.jsx("button",{onClick:f,className:"p-4 rounded-full bg-slate-100 text-slate-500 hover:bg-slate-200 transition-all",children:N.jsx($B,{size:24})})]})]})]}),N.jsxs("button",{onClick:t,className:`w-full max-w-md py-5 rounded-2xl text-white font-bold text-xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3 bg-gradient-to-r ${g}`,children:[N.jsx(xM,{size:28}),"Complete Task"]})]})]})},_re=({themes:e,stories:t,tasks:n,currentThemeId:r,onSelectTheme:i,onAddTheme:a,onEditTheme:l,onDeleteTheme:c,onToggleComplete:f,onClose:d})=>{const p=[...e].sort((g,y)=>new Date(g.startDate).getTime()-new Date(y.startDate).getTime());return N.jsx("div",{className:"fixed inset-0 z-50 bg-slate-50/95 backdrop-blur-xl overflow-y-auto animate-in fade-in slide-in-from-bottom-10 duration-300",children:N.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 min-h-screen flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-center mb-16 sticky top-0 bg-slate-50/80 backdrop-blur-md py-4 z-10 -mx-6 px-6 border-b border-slate-200/50",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-3xl font-display font-bold text-slate-900",children:"2026 Journey"}),N.jsx("p",{className:"text-slate-500",children:"Your eras, your energy, your year."})]}),N.jsx("button",{onClick:d,className:"p-3 bg-white rounded-full hover:bg-slate-100 transition-colors shadow-sm border border-slate-200 text-slate-500 hover:text-slate-800",children:N.jsx(w0,{size:24})})]}),N.jsxs("div",{className:"relative flex-1 pl-4 md:pl-8",children:[N.jsx("div",{className:"absolute left-4 md:left-8 top-4 bottom-20 w-0.5 bg-gradient-to-b from-slate-200 via-slate-300 to-transparent"}),N.jsxs("div",{className:"space-y-12",children:[p.map((g,y)=>{const w=g.id===r,S=new Date(g.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}),E=new Date(g.endDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}),T=new Date(g.endDate)<new Date,x=g.completed,M=t.filter(O=>O.themeId===g.id).map(O=>({...O,count:n.filter(P=>P.storyId===O.id).length})).filter(O=>O.count>0).sort((O,P)=>P.count-O.count).slice(0,3);return N.jsxs("div",{className:"relative group",children:[N.jsx("div",{className:`
                    absolute left-[-5px] md:left-[-5px] top-6 w-3 h-3 rounded-full border-2 border-white shadow-sm z-10 transition-all duration-300
                    ${x?"bg-green-500 ring-2 ring-green-200":w?"bg-slate-900 scale-150":T?"bg-slate-400":"bg-slate-200"}
                  `}),N.jsxs("div",{className:`
                      relative w-full ml-6 md:ml-10 p-6 rounded-3xl border transition-all duration-300 
                      ${w?`bg-white shadow-xl ring-2 ring-slate-900 ring-offset-2 ${g.style.cardBorder}`:x?"bg-slate-50 border-slate-200 opacity-90":"bg-white hover:shadow-lg border-slate-200 hover:border-slate-300"}
                    `,children:[N.jsxs("div",{onClick:()=>{i(g.id),d()},className:"cursor-pointer flex flex-col md:flex-row md:items-start justify-between gap-4",children:[N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.jsxs("span",{className:`text-xs font-bold uppercase tracking-wider py-1 px-2 rounded-md ${w?"bg-slate-900 text-white":"bg-slate-100 text-slate-500"}`,children:[S,"  ",E]}),w&&N.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-rose-500 animate-pulse",children:[N.jsx(so,{size:10})," Active Era"]}),x&&N.jsx("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-md",children:"Completed"})]}),N.jsx("h3",{className:`text-2xl font-display font-bold mb-1 ${x?"text-slate-500 line-through":g.style.accentColor.replace("text-","text-")}`,children:g.title}),N.jsx("p",{className:"text-slate-600 text-sm line-clamp-2 md:line-clamp-none mb-3",children:g.description}),M.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M.map(O=>N.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-slate-50 border border-slate-200 text-[10px] font-bold text-slate-600 uppercase tracking-wide",children:[N.jsx(sy,{size:10,className:"text-slate-400"}),O.title,N.jsxs("span",{className:"ml-0.5 text-slate-400",children:["(",O.count,")"]})]},O.id))})]}),N.jsx("div",{className:`
                        h-24 w-full md:w-32 rounded-2xl flex-shrink-0 bg-gradient-to-br ${g.style.gradientFrom} ${g.style.gradientTo}
                        opacity-80 transition-opacity shadow-inner flex items-center justify-center
                      `,children:w?N.jsx("div",{className:"bg-white/20 backdrop-blur rounded-full p-2",children:N.jsx(so,{className:"text-white",size:20})}):null})]}),N.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[N.jsx("button",{onClick:O=>{O.stopPropagation(),f(g.id)},className:`p-2 rounded-full transition-colors ${x?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400 hover:bg-slate-200"}`,title:x?"Mark Incomplete":"Mark Complete",children:x?N.jsx(HB,{size:18}):N.jsx(VB,{size:18})}),N.jsx("button",{onClick:O=>{O.stopPropagation(),x||l(g)},disabled:x||!1,className:`p-2 rounded-full transition-colors ${x?"bg-slate-50 text-slate-300 cursor-not-allowed":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,title:x?"Cannot edit completed era":"Edit Era",children:N.jsx(DB,{size:18})}),N.jsx("button",{onClick:O=>{O.stopPropagation(),window.confirm("Are you sure you want to delete this era? All associated tasks will be removed.")&&c(g.id)},className:"p-2 rounded-full bg-slate-100 text-slate-400 hover:bg-red-100 hover:text-red-500 transition-colors",title:"Delete Era",children:N.jsx(RM,{size:18})})]})]})]},g.id)}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute left-[-5px] md:left-[-5px] top-6 w-3 h-3 rounded-full bg-slate-200 border-2 border-white z-10"}),N.jsxs("button",{onClick:a,className:"w-full ml-6 md:ml-10 p-6 rounded-3xl border-2 border-dashed border-slate-300 hover:border-slate-400 hover:bg-slate-50 transition-all text-slate-400 hover:text-slate-600 flex flex-col items-center justify-center gap-2 group",children:[N.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-white flex items-center justify-center shadow-sm transition-transform group-hover:scale-110",children:N.jsx(CM,{size:24})}),N.jsx("span",{className:"font-bold",children:"Plan Next Era"})]})]})]})]})]})})},wre=({user:e,currentTheme:t,tasks:n,onAddTasks:r,onAddTheme:i})=>{const[a,l]=C.useState(!1),[c,f]=C.useState([]),[d,p]=C.useState(""),[g,y]=C.useState(!1),w=C.useRef(null);C.useEffect(()=>{c.length===0&&f([{id:"init",text:`Hey ${e.name}! I'm ready to help you plan the "${t.title}" era. Need ideas or tasks?`,sender:"ai",timestamp:new Date}])},[e.name,t.title]),C.useEffect(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[c,a]);const S=async x=>{if(x==null||x.preventDefault(),!d.trim())return;const I={id:crypto.randomUUID(),text:d,sender:"user",timestamp:new Date};f(M=>[...M,I]),p(""),y(!0);try{const M=c.map(P=>({role:P.sender==="user"?"user":"model",parts:[{text:P.text}]})),O=await bj(M,I.text,e,t,n);if(O){const P=O.match(/<JSON_ACTION type="TASKS">([\s\S]*?)<\/JSON_ACTION>/),D=O.match(/<JSON_ACTION type="THEME">([\s\S]*?)<\/JSON_ACTION>/);let U=O.replace(/<JSON_ACTION type="TASKS">[\s\S]*?<\/JSON_ACTION>/g,"").replace(/<JSON_ACTION type="THEME">[\s\S]*?<\/JSON_ACTION>/g,"").trim();const Y={id:crypto.randomUUID(),text:U,sender:"ai",timestamp:new Date};if(P&&P[1])try{Y.suggestedTasks=JSON.parse(P[1])}catch(V){console.error("Failed to parse tasks",V)}if(D&&D[1])try{Y.suggestedTheme=JSON.parse(D[1])}catch(V){console.error("Failed to parse theme",V)}f(V=>[...V,Y])}}catch{f(O=>[...O,{id:crypto.randomUUID(),text:"My connection got a bit fuzzy. Mind repeating that?",sender:"ai",timestamp:new Date}])}finally{y(!1)}},E=(x,I)=>{r(I),f(M=>M.map(O=>O.id===x?{...O,text:O.text+`

 Added to your board!`}:O))},T=(x,I)=>{i(I),f(M=>M.map(O=>O.id===x?{...O,text:O.text+`

 New Era created!`}:O))};return N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:()=>l(!a),className:`fixed bottom-6 right-6 z-40 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 ${a?"rotate-90 bg-slate-200 text-slate-800":"bg-slate-900 text-white animate-bounce-slow"}`,children:a?N.jsx(w0,{size:24}):N.jsx(so,{size:24})}),N.jsxs("div",{className:`
          fixed bottom-24 right-6 w-full max-w-[380px] h-[600px] max-h-[80vh] z-40
          bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50
          flex flex-col overflow-hidden transition-all duration-300 origin-bottom-right
          ${a?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-10 pointer-events-none"}
        `,children:[N.jsxs("div",{className:"p-4 border-b border-slate-100 bg-white/50 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-rose-500 to-orange-500 flex items-center justify-center text-white shadow-md",children:N.jsx(sB,{size:20})}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-bold text-slate-800 text-sm",children:"Planner Copilot"}),N.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Powered by Gemini 3.0"})]})]}),N.jsx("button",{onClick:()=>f([]),className:"text-xs text-slate-400 hover:text-rose-500",children:"Clear"})]}),N.jsxs("div",{ref:w,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[c.map(x=>N.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:N.jsxs("div",{className:`
                  max-w-[85%] rounded-2xl p-3 text-sm shadow-sm
                  ${x.sender==="user"?"bg-slate-900 text-white rounded-br-none":"bg-white text-slate-700 border border-slate-100 rounded-bl-none"}
                `,children:[N.jsx("div",{className:"whitespace-pre-wrap",children:x.text}),x.suggestedTasks&&!x.text.includes(" Added")&&N.jsxs("div",{className:"mt-3 bg-slate-50 rounded-xl p-3 border border-slate-200",children:[N.jsxs("p",{className:"text-xs font-bold text-slate-500 mb-2 uppercase flex items-center gap-1",children:[N.jsx(so,{size:12,className:"text-rose-500"})," Suggested Tasks"]}),N.jsxs("ul",{className:"space-y-1 mb-3",children:[x.suggestedTasks.slice(0,3).map((I,M)=>N.jsxs("li",{className:"text-xs text-slate-700 flex items-center gap-2",children:[N.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400"}),I.title]},M)),x.suggestedTasks.length>3&&N.jsxs("li",{className:"text-xs text-slate-400 pl-3.5",children:["+",x.suggestedTasks.length-3," more..."]})]}),N.jsxs("button",{onClick:()=>E(x.id,x.suggestedTasks),className:"w-full py-2 bg-slate-900 text-white text-xs font-bold rounded-lg hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[N.jsx(jT,{size:14})," Add ",x.suggestedTasks.length," Tasks"]})]}),x.suggestedTheme&&!x.text.includes(" New Era")&&N.jsxs("div",{className:"mt-3 bg-gradient-to-br from-rose-50 to-orange-50 rounded-xl p-3 border border-rose-100",children:[N.jsx("p",{className:"text-xs font-bold text-rose-600 mb-2 uppercase",children:"New Era Proposal"}),N.jsx("h4",{className:"font-display font-bold text-slate-800",children:x.suggestedTheme.title}),N.jsx("p",{className:"text-xs text-slate-600 mb-3 line-clamp-2",children:x.suggestedTheme.description}),N.jsxs("button",{onClick:()=>T(x.id,x.suggestedTheme),className:"w-full py-2 bg-rose-500 text-white text-xs font-bold rounded-lg hover:bg-rose-600 transition-colors flex items-center justify-center gap-2",children:[N.jsx(jT,{size:14})," Create Era"]})]})]})},x.id)),g&&N.jsx("div",{className:"flex justify-start",children:N.jsx("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-none shadow-sm border border-slate-100",children:N.jsxs("div",{className:"flex gap-1",children:[N.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce"}),N.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce delay-75"}),N.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full animate-bounce delay-150"})]})})})]}),N.jsx("form",{onSubmit:S,className:"p-3 bg-white border-t border-slate-100",children:N.jsxs("div",{className:"relative flex items-center",children:[N.jsx("input",{type:"text",value:d,onChange:x=>p(x.target.value),placeholder:"Ask me to plan something...",className:"w-full pl-4 pr-12 py-3 rounded-xl bg-slate-100 border-none focus:ring-2 focus:ring-rose-200 outline-none text-sm placeholder-slate-400"}),N.jsx("button",{type:"submit",disabled:!d.trim()||g,className:"absolute right-2 p-2 bg-white rounded-lg text-rose-500 shadow-sm hover:text-rose-600 disabled:opacity-50 disabled:cursor-not-allowed",children:N.jsx(AM,{size:18})})]})})]})]})},Yv={[Gt.CAREER]:"#6366f1",[Gt.FINANCE]:"#10b981",[Gt.HEALTH]:"#f43f5e",[Gt.LIFESTYLE]:"#f59e0b",[Gt.TRAVEL]:"#0ea5e9",[Gt.PERSONAL]:"#8b5cf6"},Jv={gradientFrom:"from-rose-500",gradientTo:"to-orange-500",accentColor:"text-rose-600",bgOverlay:"bg-rose-50",cardBorder:"border-rose-200"},Sre=({user:e,onLogout:t})=>{const[n,r]=C.useState([]),[i,a]=C.useState([]),[l,c]=C.useState(""),[f,d]=C.useState([]),[p,g]=C.useState(!0),[y,w]=C.useState(""),[S,E]=C.useState(null),[T,x]=C.useState("list"),[I,M]=C.useState(!1),[O,P]=C.useState(!1),[D,U]=C.useState(!1),[Y,V]=C.useState(null),[re,J]=C.useState(""),[te,ae]=C.useState(""),[de,Te]=C.useState(""),[B,ne]=C.useState(""),[ce,me]=C.useState(!1),[Oe,L]=C.useState(""),[W,oe]=C.useState(Gt.CAREER),[se,be]=C.useState(30),[xe,Ae]=C.useState(()=>{const F=new Date;return F.setMinutes(F.getMinutes()-F.getTimezoneOffset()),F.toISOString().slice(0,16)}),[mt,Q]=C.useState(""),[Ce,Ie]=C.useState(!1),[ie,Tt]=C.useState(""),[Ue,Ct]=C.useState(""),[Rt,Wn]=C.useState(!1);C.useEffect(()=>{const F=t3(e.email),le=n3(e.email),ve=r3(e.email);if(le.length===0){const we={id:crypto.randomUUID(),title:"2026 Kickoff",description:"Starting the year with high energy and focus.",startDate:"2026-01-01",endDate:"2026-02-15",style:Jv};le.push(we),JT(e.email,le);const He=F.map(vn=>vn.themeId?vn:{...vn,themeId:we.id});d(He),YT(e.email,He)}else d(F);if(r(le),a(ve),!l){const we=new Date().toISOString().split("T")[0],He=le.find(vn=>we>=vn.startDate&&we<=vn.endDate)||le[le.length-1];He&&c(He.id)}g(!1)},[e.email]),C.useEffect(()=>{p||(YT(e.email,f),JT(e.email,n),i3(e.email,i))},[f,n,i,e.email,p]);const Yt=C.useMemo(()=>n.find(F=>F.id===l)||n[0],[n,l]);C.useEffect(()=>{Yt&&vj(Yt.description).then(w)},[Yt]);const hn=C.useMemo(()=>f.filter(F=>F.themeId===l),[f,l]),da=C.useMemo(()=>i.filter(F=>F.themeId===l),[i,l]),Dr=C.useMemo(()=>{const F=hn.length,le=hn.filter(He=>He.completed).length,ve=F===0?0:Math.round(le/F*100),we=Object.values(Gt).map(He=>({name:He,value:hn.filter(vn=>vn.category===He).length,fill:Yv[He]})).filter(He=>He.value>0);return{total:F,completed:le,progress:ve,data:we}},[hn]),Oh=()=>{V(null),J(""),ae(""),Te(""),ne(""),P(!0)},Ph=F=>{V(F),J(F.title),ae(F.description),Te(F.startDate),ne(F.endDate),P(!0)},pn=async F=>{if(F.preventDefault(),!(!re||!de||!B)){me(!0);try{let le=(Y==null?void 0:Y.style)||Jv;if((!Y||Y.description!==te)&&(le=await Nx(te||re)),Y)r(ve=>ve.map(we=>we.id===Y.id?{...we,title:re,description:te,startDate:de,endDate:B,style:le}:we));else{const ve={id:crypto.randomUUID(),title:re,description:te,startDate:de,endDate:B,style:le,completed:!1};r(we=>[...we,ve]),c(ve.id)}P(!1),V(null),J(""),ae(""),Te(""),ne("")}catch{alert("Could not process theme, try again.")}finally{me(!1)}}},Dh=F=>{if(n.length<=1){alert("You need at least one era defined.");return}if(r(le=>le.filter(ve=>ve.id!==F)),d(le=>le.filter(ve=>ve.themeId!==F)),a(le=>le.filter(ve=>ve.themeId!==F)),l===F){const le=n.filter(ve=>ve.id!==F);le.length>0&&c(le[0].id)}},$u=F=>{r(le=>le.map(ve=>ve.id===F?{...ve,completed:!ve.completed}:ve))},Bu=(F,le,ve,we,He,vn=!1)=>{const So={id:crypto.randomUUID(),themeId:l,storyId:He,title:F,category:le,estimatedMinutes:ve,dueDate:we,completed:!1,isAiGenerated:vn};d(Lh=>[So,...Lh])},ha=F=>{if(F.preventDefault(),!Oe)return;let le=mt;if(Ce&&ie){const ve={id:crypto.randomUUID(),themeId:l,title:ie,createdAt:new Date().toISOString()};a(we=>[...we,ve]),le=ve.id}Bu(Oe,W,se,xe,le||void 0),L(""),Q(""),Ie(!1),Tt(""),M(!1)},kh=async()=>{if(Ue){Wn(!0);try{const F=await gj(Ue);let le=mt;if(Ce&&ie){const we={id:crypto.randomUUID(),themeId:l,title:ie,createdAt:new Date().toISOString()};a(He=>[...He,we]),le=we.id}const ve=F.map(we=>{const He=new Date;return He.setMinutes(He.getMinutes()-He.getTimezoneOffset()),{id:crypto.randomUUID(),themeId:l,storyId:le||void 0,title:we.title||"New Task",description:we.description||"",category:we.category||Gt.PERSONAL,estimatedMinutes:we.estimatedMinutes||30,dueDate:He.toISOString().slice(0,10)+"T23:59",completed:!1,isAiGenerated:!0}});d(we=>[...ve,...we]),Ct(""),M(!1),Q(""),Ie(!1),Tt("")}catch{alert("Oops! Couldn't generate tasks right now. Try again.")}finally{Wn(!1)}}},zu=F=>{const le=new Date,ve=F.map(we=>({id:crypto.randomUUID(),themeId:l,title:we.title||"New Idea",description:we.description||"",category:we.category||Gt.PERSONAL,estimatedMinutes:we.estimatedMinutes||30,dueDate:le.toISOString().slice(0,10)+"T23:59",completed:!1,isAiGenerated:!0}));d(we=>[...ve,...we])},Uh=async F=>{if(!F.title)return;const le=await Nx(F.description||F.title),ve={id:crypto.randomUUID(),title:F.title,description:F.description||"",startDate:F.startDate||new Date().toISOString().slice(0,10),endDate:F.endDate||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,10),style:le,completed:!1};r(we=>[...we,ve]),c(ve.id)},Hu=F=>{d(le=>le.map(ve=>ve.id===F?{...ve,completed:!ve.completed}:ve))},wo=F=>{d(le=>le.filter(ve=>ve.id!==F))},mn=()=>{S&&(Hu(S.id),E(null))},kr=F=>{if(F.completed)return"completed";const le=new Date,we=new Date(F.dueDate).getTime()-le.getTime();return we<0?"overdue":we<1440*60*1e3?"soon":"future"},gn=F=>{const le=new Date(F),ve=new Date,we=le.toDateString()===ve.toDateString(),He=F.includes("T");return we?`Today${He?", "+le.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):""}`:le.toLocaleDateString([],{month:"short",day:"numeric",hour:He?"numeric":void 0,minute:He?"2-digit":void 0})},zs=F=>{const le=kr(F),ve=i.find(we=>we.id===F.storyId);return N.jsxs("div",{className:`group bg-white p-4 rounded-2xl border transition-all duration-200 flex items-center gap-4 hover:shadow-md 
          ${F.completed?"border-slate-100 opacity-60":"border-slate-200"}
          ${le==="overdue"&&!F.completed?"border-l-4 border-l-rose-500":""}
          ${le==="soon"&&!F.completed?"border-l-4 border-l-amber-400":""}
        `,children:[N.jsx("button",{onClick:()=>Hu(F.id),className:`flex-shrink-0 ${F.completed?"text-green-500":`text-slate-300 hover:${Je.accentColor}`}`,children:F.completed?N.jsx(xM,{size:24,className:"fill-green-100"}):N.jsx(mB,{size:24})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsxs("div",{className:"flex flex-col",children:[T==="list"&&ve&&N.jsxs("span",{className:"text-[10px] font-bold text-slate-400 flex items-center gap-1 mb-0.5",children:[N.jsx(sy,{size:10})," ",ve.title]}),N.jsx("h4",{className:`font-semibold truncate pr-2 ${F.completed?"line-through text-slate-400":"text-slate-800"}`,children:F.title})]}),!F.completed&&N.jsxs("div",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap flex items-center gap-1
                 ${le==="overdue"?"bg-rose-100 text-rose-600":le==="soon"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:[le==="overdue"&&N.jsx(fB,{size:10}),le==="soon"&&N.jsx(vB,{size:10}),gn(F.dueDate)]})]}),N.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mt-1",children:[N.jsx("span",{className:"flex items-center gap-1 font-medium",style:{color:Yv[F.category]},children:F.category}),N.jsx("span",{children:""}),N.jsxs("span",{children:[F.estimatedMinutes,"m"]}),F.description&&N.jsxs("span",{className:"hidden sm:inline",children:[" ",F.description]})]})]}),N.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!F.completed&&N.jsx("button",{onClick:()=>E(F),className:`p-2 hover:bg-slate-50 rounded-full transition-colors ${Je.accentColor}`,title:"Focus Mode",children:N.jsx(FB,{size:18})}),N.jsx(vre,{task:F}),N.jsx("button",{onClick:()=>wo(F.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:N.jsx(RM,{size:18})})]})]},F.id)};if(p||!Yt)return N.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50",children:N.jsx(Cf,{className:"animate-spin text-rose-500"})});if(S)return N.jsx(bre,{task:S,onComplete:mn,onExit:()=>E(null)});const Je=Yt.style||Jv;return N.jsxs("div",{className:"min-h-screen transition-colors duration-700 pb-20 bg-slate-50",children:[N.jsx("div",{className:`fixed inset-0 bg-gradient-to-br ${Je.gradientFrom} ${Je.gradientTo} opacity-10 pointer-events-none transition-all duration-1000`}),N.jsx(wre,{user:e,currentTheme:Yt,tasks:hn,onAddTasks:zu,onAddTheme:Uh}),N.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200/50",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("h1",{className:`text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r ${Je.gradientFrom} ${Je.gradientTo}`,children:"The 29th Chapter"}),N.jsx("span",{className:"bg-slate-100 text-slate-500 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider border border-slate-200",children:e.name})]}),N.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Current Era:"}),N.jsxs("button",{onClick:()=>U(!0),className:`text-sm font-bold flex items-center gap-1 hover:underline ${Je.accentColor}`,children:[Yt.title," ",N.jsx(KT,{size:14})]})]})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"hidden sm:block text-right",children:[N.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[Dr.progress,"% Done"]}),N.jsx("div",{className:"w-24 h-2 bg-slate-200 rounded-full mt-1 overflow-hidden",children:N.jsx("div",{className:`h-full bg-gradient-to-r ${Je.gradientFrom} ${Je.gradientTo} transition-all duration-500`,style:{width:`${Dr.progress}%`}})})]}),N.jsxs("button",{onClick:()=>U(!0),className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-colors shadow-lg",children:[N.jsx(KT,{size:16})," Roadmap"]}),N.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-700 transition-colors",children:N.jsx(NB,{size:20})})]})]})})}),N.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 relative z-10",children:[N.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 mb-10 text-white relative overflow-hidden shadow-xl transition-all duration-500",children:[N.jsx("div",{className:`absolute top-0 right-0 w-96 h-96 bg-gradient-to-br ${Je.gradientFrom} ${Je.gradientTo} rounded-full mix-blend-overlay filter blur-3xl opacity-40 -translate-y-1/3 translate-x-1/4 transition-colors duration-1000`}),N.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[N.jsxs("div",{children:[N.jsxs("div",{className:"inline-flex items-center gap-2 mb-3 px-3 py-1 rounded-full bg-white/10 backdrop-blur text-sm font-medium border border-white/20",children:[N.jsx(so,{size:14,className:"text-yellow-300"}),N.jsx("span",{children:"Daily Vibe"})]}),N.jsxs("h2",{className:"text-2xl md:text-4xl font-display font-light leading-tight",children:['"',y,'"']})]}),N.jsxs("button",{onClick:()=>{Yt.completed?alert("This era is completed! Re-open it in the Roadmap to add more tasks."):(M(!0),Ie(!1),Q(""))},className:`bg-white text-slate-900 px-6 py-3 rounded-xl font-bold hover:bg-slate-50 transition-colors shadow-lg flex items-center gap-2 whitespace-nowrap ${Yt.completed?"opacity-50 cursor-not-allowed":""}`,children:[N.jsx(CM,{size:20})," Add Tasks"]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[N.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:["Action Plan ",N.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${Je.bgOverlay} ${Je.accentColor} border ${Je.cardBorder}`,children:[Dr.total," Tasks"]})]}),N.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-1 flex items-center gap-1 shadow-sm",children:[N.jsxs("button",{onClick:()=>x("list"),className:`p-1.5 rounded-md transition-all flex items-center gap-1 text-xs font-bold ${T==="list"?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[N.jsx(FT,{size:14})," List"]}),N.jsxs("button",{onClick:()=>x("story"),className:`p-1.5 rounded-md transition-all flex items-center gap-1 text-xs font-bold ${T==="story"?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[N.jsx(EB,{size:14})," Story"]})]})]}),hn.length===0?N.jsxs("div",{className:`text-center py-20 bg-white/60 backdrop-blur rounded-3xl border-2 border-dashed ${Je.cardBorder}`,children:[N.jsx(so,{className:`mx-auto mb-4 opacity-50 ${Je.accentColor}`,size:48}),N.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Era Canvas Empty"}),N.jsxs("p",{className:"text-slate-500 mb-6",children:['What does "',Yt.title,'" look like in action?']}),N.jsx("button",{onClick:()=>!Yt.completed&&M(!0),className:`${Je.accentColor} font-bold hover:underline disabled:opacity-50`,disabled:Yt.completed,children:"Create a task"})]}):N.jsxs("div",{className:"space-y-4",children:[T==="list"&&N.jsx("div",{className:"space-y-3",children:[...hn].sort((F,le)=>F.completed!==le.completed?Number(F.completed)-Number(le.completed):new Date(F.dueDate).getTime()-new Date(le.dueDate).getTime()).map(zs)}),T==="story"&&N.jsxs(N.Fragment,{children:[da.map(F=>{const le=hn.filter(ve=>ve.storyId===F.id);return le.length===0?null:N.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-2 border border-slate-200/60",children:[N.jsxs("div",{className:"px-2 py-3 flex items-center gap-2",children:[N.jsx(sy,{size:16,className:"text-slate-400"}),N.jsx("h4",{className:"font-bold text-slate-700",children:F.title}),N.jsxs("span",{className:"text-xs text-slate-400",children:["(",le.length,")"]})]}),N.jsx("div",{className:"space-y-2",children:le.sort((ve,we)=>Number(ve.completed)-Number(we.completed)).map(zs)})]},F.id)}),hn.some(F=>!F.storyId)&&N.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-2 border border-slate-200/60",children:[N.jsxs("div",{className:"px-2 py-3 flex items-center gap-2",children:[N.jsx(FT,{size:16,className:"text-slate-400"}),N.jsx("h4",{className:"font-bold text-slate-700",children:"General Tasks"})]}),N.jsx("div",{className:"space-y-2",children:hn.filter(F=>!F.storyId).sort((F,le)=>Number(F.completed)-Number(le.completed)).map(zs)})]})]})]})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:`bg-white p-6 rounded-3xl border ${Je.cardBorder} shadow-sm`,children:[N.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[N.jsx(JB,{size:18,className:Je.accentColor.replace("text-","text-")})," Focus Areas"]}),N.jsx("div",{className:"h-64",children:Dr.data.length>0?N.jsx(gK,{width:"100%",height:"100%",children:N.jsxs(gre,{children:[N.jsx(Ck,{data:Dr.data,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Dr.data.map((F,le)=>N.jsx(Rh,{fill:F.fill,stroke:"none"},`cell-${le}`))}),N.jsx(cZ,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},itemStyle:{color:"#1e293b",fontWeight:600}})]})}):N.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"No data yet"})}),N.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:Object.values(Gt).map(F=>N.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[N.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Yv[F]}}),F]},F))})]}),N.jsxs("div",{className:`bg-gradient-to-br ${Je.gradientFrom} ${Je.gradientTo} rounded-3xl p-6 text-white shadow-lg`,children:[N.jsx("h3",{className:"font-bold text-lg mb-2",children:"Time Invested"}),N.jsxs("p",{className:"text-3xl font-display font-light",children:[Math.round(hn.reduce((F,le)=>F+(le.completed?le.estimatedMinutes:0),0)/60)," ",N.jsx("span",{className:"text-base opacity-70",children:"hours"})]}),N.jsx("p",{className:"opacity-80 text-xs mt-2",children:"Spent mastering this era."})]})]})]})]}),D&&N.jsx(_re,{themes:n,stories:i,tasks:f,currentThemeId:l,onSelectTheme:F=>{c(F)},onAddTheme:()=>{U(!1),Oh()},onEditTheme:F=>{U(!1),Ph(F)},onDeleteTheme:Dh,onToggleComplete:$u,onClose:()=>U(!1)}),I&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[N.jsx("div",{className:"flex border-b border-slate-100",children:N.jsx("button",{className:`flex-1 py-4 text-center font-bold text-slate-800 border-b-2 bg-slate-50 ${Je.cardBorder.replace("border-","border-b-")}`,children:"Add Task"})}),N.jsxs("div",{className:"p-6 space-y-8",children:[N.jsxs("div",{className:`p-4 rounded-2xl border ${Je.bgOverlay} ${Je.cardBorder}`,children:[N.jsxs("label",{className:`flex items-center gap-2 font-bold mb-2 ${Je.accentColor}`,children:[N.jsx(so,{size:16})," AI Breakdown"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:Ue,onChange:F=>Ct(F.target.value),placeholder:"e.g., 'Plan a solo trip to Japan'",className:"flex-1 px-3 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-300 outline-none text-sm"}),N.jsx("button",{onClick:kh,disabled:Rt||!Ue,className:"text-white px-4 py-2 rounded-xl font-medium text-sm disabled:opacity-50 flex items-center gap-2 bg-slate-900",children:Rt?N.jsx(Cf,{className:"animate-spin",size:16}):"Magic"})]})]}),N.jsxs("form",{onSubmit:ha,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Task Name"}),N.jsx("input",{type:"text",value:Oe,onChange:F=>L(F.target.value),required:!0,placeholder:"Review investment portfolio",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 outline-none"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Story (Parent Goal)"}),Ce?N.jsxs("div",{className:"flex gap-2 animate-in fade-in slide-in-from-right-2 duration-200",children:[N.jsx("input",{type:"text",value:ie,onChange:F=>Tt(F.target.value),placeholder:"New Story Name (e.g. Home Reno)",className:"flex-1 px-4 py-3 rounded-xl border border-rose-300 ring-2 ring-rose-100 outline-none",autoFocus:!0}),N.jsx("button",{type:"button",onClick:()=>Ie(!1),className:"px-3 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 font-bold",title:"Cancel",children:N.jsx(w0,{size:20})})]}):N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("select",{value:mt,onChange:F=>Q(F.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 outline-none bg-white",children:[N.jsx("option",{value:"",children:"-- General Task --"}),da.map(F=>N.jsx("option",{value:F.id,children:F.title},F.id))]}),N.jsx("button",{type:"button",onClick:()=>Ie(!0),className:"px-3 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 font-bold text-xl",title:"Create New Story",children:"+"})]})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Category"}),N.jsx("select",{value:W,onChange:F=>oe(F.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 outline-none bg-white",children:Object.values(Gt).map(F=>N.jsx("option",{value:F,children:F},F))})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Minutes"}),N.jsx("input",{type:"number",value:se,onChange:F=>be(Number(F.target.value)),min:"5",step:"5",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 outline-none"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Target Deadline"}),N.jsx("input",{type:"datetime-local",value:xe,onChange:F=>Ae(F.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-rose-500 outline-none"})]}),N.jsxs("div",{className:"flex gap-3 pt-4",children:[N.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),N.jsx("button",{type:"submit",className:`flex-1 py-3 text-white font-bold rounded-xl shadow-lg transition-colors bg-gradient-to-r ${Je.gradientFrom} ${Je.gradientTo}`,children:"Add Task"})]})]})]})]})}),O&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[N.jsxs("div",{className:"bg-slate-900 p-6 text-white",children:[N.jsx("h2",{className:"text-2xl font-display font-bold",children:Y?"Edit Era":"Define Your Next Era"}),N.jsx("p",{className:"text-slate-400 text-sm",children:Y?"Update the details of this chapter.":"Create a new chapter for 2026."})]}),N.jsxs("form",{onSubmit:pn,className:"p-6 space-y-5",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Era Name"}),N.jsx("input",{type:"text",value:re,onChange:F=>J(F.target.value),required:!0,placeholder:"e.g. Winter Arc, Soft Girl Spring, CEO Summer",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-slate-800 outline-none"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"The Vibe (for AI Styling)"}),N.jsx("textarea",{value:te,onChange:F=>ae(F.target.value),required:!0,placeholder:"Describe the energy. e.g. 'Intense focus, waking up early, dark mode vibes' or 'Playful, colorful, energetic travel'.",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-slate-800 outline-none resize-none h-24"}),N.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Changing the vibe will regenerate the color theme."})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Start Date"}),N.jsx("input",{type:"date",value:de,onChange:F=>Te(F.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-slate-800 outline-none"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"End Date"}),N.jsx("input",{type:"date",value:B,onChange:F=>ne(F.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-slate-800 outline-none"})]})]}),N.jsxs("div",{className:"flex gap-3 pt-4",children:[N.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),N.jsx("button",{type:"submit",disabled:ce,className:"flex-1 py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors shadow-lg flex items-center justify-center gap-2",children:ce?N.jsx(Cf,{className:"animate-spin"}):Y?"Update Era":"Create Era"})]})]})]})})]})},Ere=()=>{const[e,t]=C.useState(null),[n,r]=C.useState(!0);C.useEffect(()=>{const l=ZB();l&&t(l),r(!1)},[]);const i=l=>{QB(l),t(l)},a=()=>{e3(),t(null)};return n?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"})}):N.jsx(N.Fragment,{children:e?N.jsx(Sre,{user:e,onLogout:a}):N.jsx(XB,{onLogin:i})})},Gk=document.getElementById("root");if(!Gk)throw new Error("Could not find root element to mount to");const Tre=mL.createRoot(Gk);Tre.render(N.jsx(oM.StrictMode,{children:N.jsx(Ere,{})}));
